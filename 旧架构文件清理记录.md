# ADB架构重构 - 已移除的旧文件列表

## 重构完成时间
2024年12月19日

## 被替换的旧架构文件

### 1. Hooks层
- `src/hooks/useAdbDevices.ts` - 被 `src/application/hooks/useAdb.ts` 替换

### 2. 状态管理层  
- `src/store/deviceStore.ts` - 被 `src/application/store/adbStore.ts` 替换

### 3. 服务层（被Domain服务替换）
- `src/services/adbService.ts` - 被领域服务替换
- `src/services/AdbDiagnosticService.ts` - 被领域诊断服务替换
- `src/api/deviceAPI.ts` - 功能整合到Repository层

## 替换说明

### 旧架构问题
1. 7个分散的服务文件，职责重叠
2. 3套不同的状态管理系统
3. 依赖关系复杂，难以测试
4. 缺乏统一的错误处理

### 新架构优势
1. 单一数据源：unified adbStore
2. 清晰的层次分离：Domain -> Infrastructure -> Application -> Presentation
3. 统一接口：useAdb() hook
4. 依赖注入支持：ServiceFactory
5. 强类型支持：TypeScript领域实体

## 迁移的组件列表
- ContactAutomationPage.tsx
- ContactAutomationPage_sindre.tsx 
- ContactAutomationPage_new.tsx
- components/adb-diagnostic/hooks/useDeviceMonitor.ts
- components/adb-diagnostic/EnhancedDeviceManager.tsx

## 待处理的遗留组件
- XiaohongshuFollowPage.tsx (使用 useDevices, useSelectedDevice)
- components/device/RealDeviceManager.tsx (使用 deviceStore)
- components/contact/XiaohongshuAutoFollow.tsx (使用 useDeviceStore)

注意：这些遗留组件需要在完全移除旧文件前完成迁移。