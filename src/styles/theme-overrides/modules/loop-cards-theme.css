/**
 * å¾ªç¯å¡ç‰‡ä¸“ç”¨æ ·å¼æ¨¡å—
 * ä¸“é—¨ç®¡ç†å¾ªç¯æ­¥éª¤å¡ç‰‡çš„ç™½åº•é»‘å­—ä¸»é¢˜
 */

/* =============================================================================
   å¾ªç¯å¡ç‰‡åŸºç¡€å®šä¹‰
   ============================================================================= */

/* å¾ªç¯å¡ç‰‡CSSå˜é‡ */
:root {
  --loop-card-bg: #ffffff;
  --loop-card-text: #333333;
  --loop-card-border: #e1e4e8;
  --loop-card-hover: #f6f8fa;
  --loop-card-active: #e1e4e8;
  --loop-card-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* =============================================================================
   å¾ªç¯å¡ç‰‡ä¸»è¦é€‰æ‹©å™¨
   ============================================================================= */

/* æ ¸å¿ƒå¾ªç¯å¡ç‰‡é€‰æ‹©å™¨ */
.loop-card,
.step-card[data-loop="true"],
.step-card[data-step-type="loop"],
.draggable-step-card[data-is-loop="true"],
.smart-step-card[data-loop="true"],
[data-loop-step="true"],
[data-component="loop-card"] {
  /* åŸºç¡€æ ·å¼ */
  background-color: var(--loop-card-bg) !important;
  color: var(--loop-card-text) !important;
  border: 1px solid var(--loop-card-border) !important;
  border-radius: 8px !important;
  box-shadow: var(--loop-card-shadow) !important;
  
  /* ç¡®ä¿å­—ä½“æ¸…æ™° */
  font-weight: 400 !important;
  line-height: 1.5 !important;
}

/* å¾ªç¯å¡ç‰‡æ‚¬åœæ•ˆæœ */
.loop-card:hover,
.step-card[data-loop="true"]:hover,
.draggable-step-card[data-is-loop="true"]:hover {
  background-color: var(--loop-card-hover) !important;
  border-color: var(--loop-card-active) !important;
}

/* =============================================================================
   å¾ªç¯å¡ç‰‡å†…éƒ¨å…ƒç´ æ ·å¼
   ============================================================================= */

/* æ‰€æœ‰å†…éƒ¨æ–‡æœ¬å…ƒç´  */
.loop-card *,
.step-card[data-loop="true"] *,
.draggable-step-card[data-is-loop="true"] * {
  color: var(--loop-card-text) !important;
}

/* æ ‡é¢˜å…ƒç´  */
.loop-card h1,
.loop-card h2,
.loop-card h3,
.loop-card h4,
.loop-card h5,
.loop-card h6,
.step-card[data-loop="true"] h1,
.step-card[data-loop="true"] h2,
.step-card[data-loop="true"] h3 {
  color: var(--loop-card-text) !important;
  font-weight: 600 !important;
}

/* æ®µè½å’Œæ–‡æœ¬ */
.loop-card p,
.loop-card span,
.loop-card div,
.step-card[data-loop="true"] p,
.step-card[data-loop="true"] span {
  color: var(--loop-card-text) !important;
}

/* =============================================================================
   å¾ªç¯å¡ç‰‡å†…çš„Ant Designç»„ä»¶
   ============================================================================= */

/* æŒ‰é’®ç»„ä»¶ */
.loop-card .ant-btn,
.step-card[data-loop="true"] .ant-btn {
  background-color: var(--loop-card-bg) !important;
  color: var(--loop-card-text) !important;
  border-color: var(--loop-card-border) !important;
}

.loop-card .ant-btn:hover,
.step-card[data-loop="true"] .ant-btn:hover {
  background-color: var(--loop-card-hover) !important;
  border-color: var(--loop-card-active) !important;
}

/* æ ‡ç­¾ç»„ä»¶ */
.loop-card .ant-tag,
.step-card[data-loop="true"] .ant-tag {
  background-color: var(--loop-card-hover) !important;
  color: var(--loop-card-text) !important;
  border-color: var(--loop-card-border) !important;
}

/* å¡ç‰‡ç»„ä»¶ */
.loop-card .ant-card,
.step-card[data-loop="true"] .ant-card {
  background-color: var(--loop-card-bg) !important;
  border-color: var(--loop-card-border) !important;
}

.loop-card .ant-card-head,
.loop-card .ant-card-body {
  background-color: var(--loop-card-bg) !important;
  color: var(--loop-card-text) !important;
}

/* è¡¨å•å…ƒç´  */
.loop-card .ant-input,
.loop-card .ant-select,
.loop-card .ant-textarea {
  background-color: var(--loop-card-bg) !important;
  color: var(--loop-card-text) !important;
  border-color: var(--loop-card-border) !important;
}

/* Typography ç»„ä»¶ */
.loop-card .ant-typography,
.step-card[data-loop="true"] .ant-typography {
  color: var(--loop-card-text) !important;
}

/* =============================================================================
   å¾ªç¯å¡ç‰‡ç‰¹æ®ŠçŠ¶æ€
   ============================================================================= */

/* é€‰ä¸­çŠ¶æ€ */
.loop-card.selected,
.step-card[data-loop="true"].selected {
  border-color: #1890ff !important;
  box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2) !important;
}

/* æ‹–æ‹½çŠ¶æ€ */
.loop-card.dragging,
.step-card[data-loop="true"].dragging {
  opacity: 0.8 !important;
  transform: rotate(2deg) !important;
}

/* ç¦ç”¨çŠ¶æ€ */
.loop-card.disabled,
.step-card[data-loop="true"].disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

/* =============================================================================
   å¾ªç¯æŒ‡ç¤ºå™¨
   ============================================================================= */

/* å¾ªç¯æ ‡è¯† */
.loop-card::before,
.step-card[data-loop="true"]::before {
  content: "ğŸ”„";
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 12px;
  opacity: 0.6;
}

/* å¾ªç¯è®¡æ•°æ˜¾ç¤º */
.loop-card .loop-counter,
.step-card[data-loop="true"] .loop-counter {
  background-color: var(--loop-card-border) !important;
  color: var(--loop-card-text) !important;
  border-radius: 12px !important;
  padding: 2px 8px !important;
  font-size: 12px !important;
  font-weight: 500 !important;
}

/* =============================================================================
   å“åº”å¼è®¾è®¡
   ============================================================================= */

@media (max-width: 768px) {
  .loop-card,
  .step-card[data-loop="true"] {
    padding: 12px !important;
    margin: 8px 0 !important;
  }
}

@media (prefers-reduced-motion: reduce) {
  .loop-card,
  .step-card[data-loop="true"] {
    transition: none !important;
  }
}

/* =============================================================================
   è°ƒè¯•è¾…åŠ©ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
   ============================================================================= */

[data-debug="true"] .loop-card,
[data-debug="true"] .step-card[data-loop="true"] {
  outline: 2px dashed #ff6b6b !important;
  outline-offset: 2px !important;
}

[data-debug="true"] .loop-card::after,
[data-debug="true"] .step-card[data-loop="true"]::after {
  content: "LOOP CARD";
  position: absolute;
  top: -20px;
  left: 0;
  background: #ff6b6b;
  color: white;
  font-size: 10px;
  padding: 2px 6px;
  border-radius: 4px;
}