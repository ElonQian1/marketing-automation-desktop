/**
 * Universal UI 主题和高级样式模块
 * 定义高级主题配置、特殊效果和交互增强
 */

/* =============================================================================
   Universal UI 高级主题变量
   ============================================================================= */

:root {
  /* 高级颜色系统 - HSL格式便于动态调整 */
  --universal-ui-hue-primary: 220;
  --universal-ui-hue-secondary: 200;
  --universal-ui-hue-accent: 210;
  
  /* 饱和度和亮度系统 */
  --universal-ui-saturation-high: 85%;
  --universal-ui-saturation-medium: 60%;
  --universal-ui-saturation-low: 30%;
  
  --universal-ui-lightness-very-dark: 8%;
  --universal-ui-lightness-dark: 15%;
  --universal-ui-lightness-medium-dark: 25%;
  --universal-ui-lightness-medium: 50%;
  --universal-ui-lightness-light: 75%;
  --universal-ui-lightness-very-light: 95%;
  
  /* 动态HSL颜色 */
  --universal-ui-bg-primary-hsl: hsl(var(--universal-ui-hue-primary), var(--universal-ui-saturation-low), var(--universal-ui-lightness-very-dark));
  --universal-ui-bg-secondary-hsl: hsl(var(--universal-ui-hue-primary), var(--universal-ui-saturation-low), var(--universal-ui-lightness-dark));
  --universal-ui-bg-tertiary-hsl: hsl(var(--universal-ui-hue-primary), var(--universal-ui-saturation-low), var(--universal-ui-lightness-medium-dark));
  
  /* 主题切换动画 */
  --universal-ui-theme-transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* =============================================================================
   Universal UI 标签页和导航样式
   ============================================================================= */

@layer universal-ui-navigation {
  /* 标签页样式 */
  .universal-page-finder .ant-tabs {
    color: var(--universal-ui-text-secondary) !important;
    background: transparent !important;
  }
  
  .universal-page-finder .ant-tabs-nav {
    background: var(--universal-ui-bg-secondary) !important;
    border-radius: var(--universal-ui-radius-lg) var(--universal-ui-radius-lg) 0 0 !important;
    padding: 0 16px !important;
    margin-bottom: 0 !important;
  }
  
  .universal-page-finder .ant-tabs-nav::before {
    border-bottom: 1px solid var(--universal-ui-border-secondary) !important;
  }
  
  .universal-page-finder .ant-tabs-tab {
    color: var(--universal-ui-text-muted) !important;
    background: transparent !important;
    border: none !important;
    padding: 12px 16px !important;
    margin: 0 4px !important;
    border-radius: var(--universal-ui-radius-md) var(--universal-ui-radius-md) 0 0 !important;
    transition: var(--universal-ui-transition-normal) !important;
    position: relative !important;
  }
  
  .universal-page-finder .ant-tabs-tab:hover {
    color: var(--universal-ui-text-secondary) !important;
    background: var(--universal-ui-bg-tertiary) !important;
  }
  
  .universal-page-finder .ant-tabs-tab-active {
    color: var(--universal-ui-accent-blue-light) !important;
    background: var(--universal-ui-bg-primary) !important;
    font-weight: 600 !important;
  }
  
  .universal-page-finder .ant-tabs-tab-active::after {
    content: '' !important;
    position: absolute !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    height: 2px !important;
    background: var(--universal-ui-accent-blue-light) !important;
  }
  
  .universal-page-finder .ant-tabs-ink-bar {
    background: var(--universal-ui-accent-blue-light) !important;
    height: 2px !important;
  }
  
  .universal-page-finder .ant-tabs-content-holder {
    background: var(--universal-ui-bg-primary) !important;
    border-radius: 0 0 var(--universal-ui-radius-lg) var(--universal-ui-radius-lg) !important;
    border: 1px solid var(--universal-ui-border-secondary) !important;
    border-top: none !important;
  }
  
  .universal-page-finder .ant-tabs-tabpane {
    padding: 20px !important;
    min-height: 300px !important;
  }
}

/* =============================================================================
   Universal UI 分割线和间距
   ============================================================================= */

@layer universal-ui-layout-helpers {
  /* 分割线样式 */
  .universal-page-finder .ant-divider {
    border-color: var(--universal-ui-border-secondary) !important;
    margin: 16px 0 !important;
  }
  
  .universal-page-finder .ant-divider-horizontal {
    border-top-color: var(--universal-ui-border-secondary) !important;
  }
  
  .universal-page-finder .ant-divider-vertical {
    border-left-color: var(--universal-ui-border-secondary) !important;
    height: 20px !important;
    top: 2px !important;
  }
  
  .universal-page-finder .ant-divider-with-text {
    color: var(--universal-ui-text-muted) !important;
    font-size: 13px !important;
    font-weight: 500 !important;
  }
  
  /* 行和列布局 */
  .universal-page-finder .ant-row {
    color: inherit !important;
  }
  
  .universal-page-finder .ant-col {
    color: inherit !important;
  }
  
  /* 间距工具类 */
  .universal-page-finder .universal-spacing-xs { margin: 4px !important; }
  .universal-page-finder .universal-spacing-sm { margin: 8px !important; }
  .universal-page-finder .universal-spacing-md { margin: 16px !important; }
  .universal-page-finder .universal-spacing-lg { margin: 24px !important; }
  .universal-page-finder .universal-spacing-xl { margin: 32px !important; }
  
  .universal-page-finder .universal-padding-xs { padding: 4px !important; }
  .universal-page-finder .universal-padding-sm { padding: 8px !important; }
  .universal-page-finder .universal-padding-md { padding: 16px !important; }
  .universal-page-finder .universal-padding-lg { padding: 24px !important; }
  .universal-page-finder .universal-padding-xl { padding: 32px !important; }
}

/* =============================================================================
   Universal UI Typography 增强
   ============================================================================= */

@layer universal-ui-typography {
  /* Typography基础样式 */
  .universal-page-finder .ant-typography {
    color: var(--universal-ui-text-secondary) !important;
  }
  
  .universal-page-finder .ant-typography h1,
  .universal-page-finder .ant-typography h2,
  .universal-page-finder .ant-typography h3,
  .universal-page-finder .ant-typography h4,
  .universal-page-finder .ant-typography h5,
  .universal-page-finder .ant-typography h6 {
    color: var(--universal-ui-text-primary) !important;
    font-weight: 600 !important;
    margin-bottom: 12px !important;
  }
  
  .universal-page-finder .ant-typography-title {
    color: var(--universal-ui-text-primary) !important;
  }
  
  .universal-page-finder .ant-typography-subtitle {
    color: var(--universal-ui-text-muted) !important;
  }
  
  .universal-page-finder .ant-typography-caption {
    color: var(--universal-ui-text-muted) !important;
    font-size: 12px !important;
  }
  
  /* 代码块样式 */
  .universal-page-finder .ant-typography code {
    background: var(--universal-ui-bg-tertiary) !important;
    color: var(--universal-ui-accent-blue-light) !important;
    border: 1px solid var(--universal-ui-border-secondary) !important;
    border-radius: var(--universal-ui-radius-sm) !important;
    padding: 2px 6px !important;
    font-family: 'JetBrains Mono', 'Fira Code', monospace !important;
  }
  
  .universal-page-finder .ant-typography pre {
    background: var(--universal-ui-bg-secondary) !important;
    border: 1px solid var(--universal-ui-border-secondary) !important;
    border-radius: var(--universal-ui-radius-md) !important;
    padding: 16px !important;
    overflow-x: auto !important;
  }
  
  /* 链接样式 */
  .universal-page-finder .ant-typography a {
    color: var(--universal-ui-accent-blue-light) !important;
    text-decoration: none !important;
    transition: var(--universal-ui-transition-fast) !important;
  }
  
  .universal-page-finder .ant-typography a:hover {
    color: var(--universal-ui-accent-blue) !important;
    text-decoration: underline !important;
  }
}

/* =============================================================================
   Universal UI 自定义工具类
   ============================================================================= */

@layer universal-ui-utilities {
  /* 自定义标签卡片（用于标签页等） */
  .universal-page-finder .custom-tab-card {
    transition: var(--universal-ui-transition-normal) !important;
    background: var(--universal-ui-gradient-secondary) !important;
    border: 1px solid var(--universal-ui-border-light) !important;
    border-radius: var(--universal-ui-radius-md) !important;
    color: var(--universal-ui-text-secondary) !important;
    padding: 12px 16px !important;
    cursor: pointer !important;
    position: relative !important;
    overflow: hidden !important;
  }
  
  .universal-page-finder .custom-tab-card::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent) !important;
    transition: var(--universal-ui-transition-slow) !important;
  }
  
  .universal-page-finder .custom-tab-card:hover {
    transform: translateY(-2px) !important;
    box-shadow: var(--universal-ui-shadow-lg) !important;
    border-color: var(--universal-ui-accent-blue-light) !important;
  }
  
  .universal-page-finder .custom-tab-card:hover::before {
    left: 100% !important;
  }
  
  .universal-page-finder .custom-tab-card.active {
    background: var(--universal-ui-gradient-primary) !important;
    border-color: var(--universal-ui-accent-blue-light) !important;
    color: #ffffff !important;
    box-shadow: 
      var(--universal-ui-shadow-md),
      0 0 20px rgba(59, 130, 246, 0.3) !important;
  }
  
  /* 状态指示器 */
  .universal-page-finder .status-indicator {
    display: inline-block !important;
    width: 8px !important;
    height: 8px !important;
    border-radius: var(--universal-ui-radius-full) !important;
    margin-right: 6px !important;
  }
  
  .universal-page-finder .status-indicator.online {
    background: var(--universal-ui-success) !important;
    box-shadow: 0 0 8px rgba(16, 185, 129, 0.5) !important;
  }
  
  .universal-page-finder .status-indicator.offline {
    background: var(--universal-ui-text-muted) !important;
  }
  
  .universal-page-finder .status-indicator.error {
    background: var(--universal-ui-error) !important;
    box-shadow: 0 0 8px rgba(239, 68, 68, 0.5) !important;
  }
  
  .universal-page-finder .status-indicator.warning {
    background: var(--universal-ui-warning) !important;
    box-shadow: 0 0 8px rgba(245, 158, 11, 0.5) !important;
  }
  
  /* 加载骨架屏 */
  .universal-page-finder .skeleton-item {
    background: linear-gradient(
      90deg,
      var(--universal-ui-bg-secondary) 25%,
      var(--universal-ui-bg-tertiary) 50%,
      var(--universal-ui-bg-secondary) 75%
    ) !important;
    background-size: 200% 100% !important;
    animation: universalSkeletonLoading 1.5s infinite !important;
    border-radius: var(--universal-ui-radius-sm) !important;
  }
  
  @keyframes universalSkeletonLoading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
  
  /* 脉冲效果 */
  .universal-page-finder .pulse-effect {
    animation: universalPulse 2s infinite !important;
  }
  
  @keyframes universalPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }
  
  /* 呼吸效果 */
  .universal-page-finder .breathing-effect {
    animation: universalBreathe 3s infinite ease-in-out !important;
  }
  
  @keyframes universalBreathe {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
}

/* =============================================================================
   Universal UI 暗色主题专用增强
   ============================================================================= */

@layer universal-ui-dark-theme {
  /* 暗色主题下的特殊效果 */
  .universal-page-finder {
    /* 文本选择样式 */
    -webkit-user-select: text !important;
    -moz-user-select: text !important;
    user-select: text !important;
  }
  
  .universal-page-finder ::selection {
    background: rgba(59, 130, 246, 0.3) !important;
    color: var(--universal-ui-text-primary) !important;
  }
  
  .universal-page-finder ::-moz-selection {
    background: rgba(59, 130, 246, 0.3) !important;
    color: var(--universal-ui-text-primary) !important;
  }
  
  /* 滚动条增强（更细的样式） */
  .universal-page-finder ::-webkit-scrollbar {
    width: 6px !important;
    height: 6px !important;
  }
  
  .universal-page-finder ::-webkit-scrollbar-track {
    background: var(--universal-ui-bg-primary) !important;
    border-radius: var(--universal-ui-radius-sm) !important;
  }
  
  .universal-page-finder ::-webkit-scrollbar-thumb {
    background: linear-gradient(
      45deg,
      var(--universal-ui-border-secondary),
      var(--universal-ui-border-light)
    ) !important;
    border-radius: var(--universal-ui-radius-sm) !important;
    border: 1px solid var(--universal-ui-bg-primary) !important;
  }
  
  .universal-page-finder ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(
      45deg,
      var(--universal-ui-border-light),
      var(--universal-ui-text-muted)
    ) !important;
  }
  
  .universal-page-finder ::-webkit-scrollbar-corner {
    background: var(--universal-ui-bg-primary) !important;
  }
}