# å·ç æ± è¡¨æ ¼å¢å¼ºæ¨¡å—

## ğŸ“ ç›®å½•ç»“æ„

```
src/modules/contact-import/ui/components/number-pool-table/
â”œâ”€â”€ index.ts                      # ç»Ÿä¸€å¯¼å‡ºå…¥å£
â”œâ”€â”€ NumberPoolTableColumns.ts     # åˆ—é…ç½®ç®¡ç†
â”œâ”€â”€ NumberPoolFieldRenderers.tsx  # å­—æ®µæ¸²æŸ“ç»„ä»¶
â”œâ”€â”€ useNumberPoolTable.ts         # è¡¨æ ¼é…ç½®Hook  
â”œâ”€â”€ ColumnConfigPanel.tsx         # åˆ—æ˜¾ç¤ºé…ç½®é¢æ¿
â””â”€â”€ README.md                     # æœ¬æ–‡æ¡£
```

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®Œæˆçš„å¢å¼º

1. **å®Œæ•´å­—æ®µæ˜¾ç¤º**
   - åºå·ã€IDã€å·ç ã€å§“å
   - **è¡Œä¸šåˆ†ç±»** - æ˜¾ç¤ºä¸ºå½©è‰²æ ‡ç­¾ï¼Œæœªåˆ†ç±»æ˜¾ç¤ºç°è‰²
   - **çŠ¶æ€** - å·²å¯¼å…¥/VCFå·²ç”Ÿæˆ/æœªå¯¼å…¥çŠ¶æ€æ ‡ç­¾
   - **æ˜¯å¦å·²ç”¨** - å·²ä½¿ç”¨/æœªä½¿ç”¨çŠ¶æ€æ ‡ç­¾  
   - **å¯¼å…¥è®¾å¤‡** - æ˜¾ç¤ºè®¾å¤‡IDä¸å›¾æ ‡
   - æ¥æºæ–‡ä»¶ã€åˆ›å»ºæ—¶é—´

2. **æ™ºèƒ½æ•°æ®æ¸²æŸ“**
   - çŠ¶æ€ä½¿ç”¨å½©è‰²æ ‡ç­¾ï¼ˆç»¿è‰²-å·²å¯¼å…¥ï¼Œè“è‰²-VCFå·²ç”Ÿæˆï¼Œç°è‰²-æœªå¯¼å…¥ï¼‰
   - æ—¶é—´å­—æ®µè‡ªåŠ¨æœ¬åœ°åŒ–æ ¼å¼æ˜¾ç¤º
   - è®¾å¤‡å­—æ®µæ˜¾ç¤ºä¸ºå¸¦å›¾æ ‡çš„è“è‰²æ ‡ç­¾
   - è¡Œä¸šåˆ†ç±»ä½¿ç”¨å½©è‰²æ ‡ç­¾ï¼Œæœªåˆ†ç±»æ˜¾ç¤ºå‹å¥½æç¤º

3. **æ¨¡å—åŒ–æ¶æ„**
   - éµå¾ªDDDæ¶æ„åŸåˆ™
   - æ”¯æŒæœªæ¥æ‰©å±•åˆ—é…ç½®ç®¡ç†
   - é¢„ç•™è®¾å¤‡ä¿¡æ¯é›†æˆæ¥å£

## ğŸš€ è®¾è®¡äº®ç‚¹

### æ¨¡å—åŒ–è®¾è®¡
- **NumberPoolTableColumns.ts**: é›†ä¸­ç®¡ç†åˆ—é…ç½®ï¼Œæ”¯æŒæ˜¾ç¤º/éšè—ã€æ’åºã€ç­›é€‰
- **NumberPoolFieldRenderers.tsx**: ä¸“é—¨çš„å­—æ®µæ¸²æŸ“ç»„ä»¶ï¼Œä¿è¯ä¸€è‡´æ€§å’Œå¯å¤ç”¨æ€§
- **useNumberPoolTable.ts**: Hookå°è£…è¡¨æ ¼çŠ¶æ€ç®¡ç†é€»è¾‘
- **ColumnConfigPanel.tsx**: ç”¨æˆ·å¯é…ç½®çš„åˆ—æ˜¾ç¤ºé¢æ¿

### æ•°æ®å¢å¼º
ç›¸æ¯”ä¹‹å‰åªæ˜¾ç¤ºåŸºç¡€å­—æ®µï¼ˆIDã€å·ç ã€å§“åã€æ¥æºã€æ—¶é—´ï¼‰ï¼Œç°åœ¨å¢åŠ äº†ï¼š
- è¡Œä¸šåˆ†ç±»å­—æ®µ
- å¯¼å…¥çŠ¶æ€å­—æ®µ  
- ä½¿ç”¨çŠ¶æ€å­—æ®µ
- å¯¼å…¥è®¾å¤‡å­—æ®µ
- åºå·å­—æ®µ

### è§†è§‰ä¼˜åŒ–
- ä½¿ç”¨Ant Designæ ‡ç­¾ç³»ç»Ÿ
- è¯­ä¹‰åŒ–é¢œè‰²ï¼ˆæˆåŠŸ-ç»¿è‰²ï¼Œå¤„ç†ä¸­-è“è‰²ï¼Œé»˜è®¤-ç°è‰²ï¼‰
- å›¾æ ‡å¢å¼ºï¼ˆè®¾å¤‡å­—æ®µæ˜¾ç¤ºæ‰‹æœºå›¾æ ‡ï¼‰
- å‹å¥½çš„ç©ºå€¼æ˜¾ç¤ºï¼ˆ"-" æˆ– "æœªåˆ†ç±»"ï¼‰

## ğŸ“ˆ å½±å“èŒƒå›´

### âœ… å½“å‰é›†æˆçŠ¶æ€
- `ContactImportWorkbench.tsx` å·²é›†æˆå¢å¼ºçš„åˆ—å®šä¹‰
- ä¿æŒåŸæœ‰æ–‡ä»¶ç»“æ„ï¼Œä»…æ›¿æ¢ `columns` é…ç½®
- å‘åå…¼å®¹ï¼Œä¸å½±å“ç°æœ‰åŠŸèƒ½

### ğŸ”„ æœªæ¥æ‰©å±•è®¡åˆ’
- åˆ—æ˜¾ç¤ºé…ç½®é¢æ¿é›†æˆåˆ°å·¥ä½œå°
- è®¾å¤‡ä¿¡æ¯é€šè¿‡ `useAdb()` Hook è·å–è¯¦ç»†ä¿¡æ¯
- æ”¯æŒåˆ—æ’åºå’Œé«˜çº§ç­›é€‰
- å¯¼å‡ºåŠŸèƒ½å¢å¼º

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### æ ¸å¿ƒæŠ€æœ¯æ ˆ
- React 18 + TypeScript
- Ant Design ç»„ä»¶åº“
- æ¨¡å—åŒ–Hookè®¾è®¡
- éµå¾ªé¡¹ç›®DDDæ¶æ„

### æ€§èƒ½è€ƒè™‘
- æ¸²æŸ“ç»„ä»¶é‡‡ç”¨çº¯å‡½æ•°è®¾è®¡
- Hookä½¿ç”¨useMemoä¼˜åŒ–é‡æ¸²æŸ“
- åˆ—é…ç½®æ”¯æŒæ‡’åŠ è½½

### é”™è¯¯å¤„ç†
- æ—¶é—´è§£æå¼‚å¸¸è‡ªåŠ¨å›é€€åˆ°åŸå§‹å­—ç¬¦ä¸²
- ç©ºå€¼/nullå€¼å‹å¥½æ˜¾ç¤º
- è®¾å¤‡ä¿¡æ¯ç¼ºå¤±æ—¶æ˜¾ç¤ºå ä½ç¬¦

## ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ä½¿ç”¨
```tsx
import { useNumberPoolTable, ColumnConfigPanel } from './components/number-pool-table';

const MyComponent = () => {
  const { devices } = useAdb();
  
  const tableConfig = useNumberPoolTable({
    page: 1,
    pageSize: 20,
    devices,
  });

  return (
    <Table
      columns={tableConfig.columns}
      dataSource={items}
      // ... å…¶ä»–é…ç½®
    />
  );
};
```

### åˆ—é…ç½®é¢æ¿
```tsx
<ColumnConfigPanel
  availableColumns={tableConfig.availableColumns}
  visibleColumns={tableConfig.visibleColumns}
  onToggleColumn={tableConfig.toggleColumn}
  onResetColumns={tableConfig.resetColumns}
/>
```

## ğŸ¯ å¼€å‘æŒ‡å¯¼

### æ·»åŠ æ–°å­—æ®µæ¸²æŸ“å™¨
1. åœ¨ `NumberPoolFieldRenderers.tsx` ä¸­æ·»åŠ æ–°çš„æ¸²æŸ“ç»„ä»¶
2. åœ¨ `createNumberPoolRenderers` å‡½æ•°ä¸­æ³¨å†Œ
3. åœ¨ `NumberPoolTableColumns.ts` ä¸­æ·»åŠ åˆ—é…ç½®

### æ‰©å±•åˆ—é…ç½®
1. åœ¨ `COLUMN_CONFIGS` æ•°ç»„ä¸­æ·»åŠ æ–°é…ç½®
2. è®¾ç½®åˆé€‚çš„ `defaultVisible`ã€`width`ã€`sortable` ç­‰å±æ€§
3. ç¡®ä¿æ•°æ®ç±»å‹ä¸ `ContactNumberDto` æ¥å£åŒ¹é…

### æ³¨æ„äº‹é¡¹
- ä¿æŒå•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡500è¡Œçš„æ¶æ„çº¦æŸ
- ä¼˜å…ˆä½¿ç”¨æ¨¡å—åŒ–ç»„ä»¶è€Œéå†…è”æ¸²æŸ“
- éµå¾ªé¡¹ç›®çš„DDDæ¶æ„åŸåˆ™
- ä½¿ç”¨ç»Ÿä¸€çš„ `useAdb()` Hook è·å–è®¾å¤‡ä¿¡æ¯

---

**æ›´æ–°æ—¥æœŸ**: 2025å¹´9æœˆ30æ—¥  
**ç‰ˆæœ¬**: v1.0  
**çŠ¶æ€**: å·²å®ŒæˆåŸºç¡€å¢å¼ºï¼Œå¯æŠ•å…¥ä½¿ç”¨