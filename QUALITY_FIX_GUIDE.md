# å¿«é€Ÿè´¨é‡ä¿®å¤æŒ‡å—

è¿™ä¸ªæŒ‡å—æ—¨åœ¨å¸®åŠ©å¿«é€Ÿä¿®å¤é¡¹ç›®ä¸­å‘ç°çš„è´¨é‡é—®é¢˜ï¼Œä¸ºæ¨¡å—è¿ç§»åšå‡†å¤‡ã€‚

## ğŸš¨ é—®é¢˜æ€»è§ˆ

- **ESLinté—®é¢˜**: 4376ä¸ªé”™è¯¯ + 5ä¸ªè­¦å‘Š
- **æ–‡ä»¶å¤´é—®é¢˜**: 1772ä¸ªæ–‡ä»¶ç¼ºå°‘è§„èŒƒæ–‡ä»¶å¤´
- **ä¾èµ–å…³ç³»**: âœ… æ— é—®é¢˜

## ğŸ”§ ä¿®å¤ç­–ç•¥

### 1. ESLinté—®é¢˜åˆ†ç±»ä¿®å¤

#### é«˜é¢‘é—®é¢˜ä¿®å¤ (è‡ªåŠ¨åŒ–)
```bash
# å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜
npm run lint -- --fix

# é‡ç‚¹æ£€æŸ¥è¿™äº›è§„åˆ™çš„è¿è§„:
# - @typescript-eslint/no-explicit-any
# - @typescript-eslint/no-unused-vars
# - @typescript-eslint/prefer-const
```

#### æ‰‹åŠ¨ä¿®å¤ç­–ç•¥
```typescript
// âŒ é—®é¢˜ä»£ç 
function processData(data: any): any {
  const unused = 'temp';
  return data;
}

// âœ… ä¿®å¤å
function processData<T>(data: T): T {
  return data;
}
```

### 2. æ–‡ä»¶å¤´æ‰¹é‡æ·»åŠ 

#### æ–‡ä»¶å¤´æ ‡å‡†æ ¼å¼
```typescript
// è·¯å¾„: src/modules/æ¨¡å—å/åˆ†å±‚/æ–‡ä»¶å.ts
// åŠŸèƒ½: å…·ä½“ä¸šåŠ¡åŠŸèƒ½æè¿°
// æ¶æ„: DDDé¢†åŸŸé©±åŠ¨è®¾è®¡ - [é¢†åŸŸå±‚|åº”ç”¨å±‚|åŸºç¡€è®¾æ–½å±‚|è¡¨ç°å±‚]
```

#### æ‰¹é‡æ·»åŠ è„šæœ¬
```javascript
// å»ºè®®åˆ›å»º scripts/add-file-headers.js
const fs = require('fs');
const path = require('path');

function addHeader(filePath, content) {
  const relativePath = path.relative('src', filePath);
  const [module, layer, fileName] = relativePath.split('/');
  
  const header = [
    `// è·¯å¾„: src/${relativePath}`,
    `// åŠŸèƒ½: [å¾…è¡¥å……åŠŸèƒ½æè¿°]`,
    `// æ¶æ„: DDDé¢†åŸŸé©±åŠ¨è®¾è®¡ - ${getLayerName(layer)}`,
    '',
    content
  ].join('\n');
  
  fs.writeFileSync(filePath, header);
}

function getLayerName(layer) {
  const layerMap = {
    'domain': 'é¢†åŸŸå±‚',
    'application': 'åº”ç”¨å±‚', 
    'infrastructure': 'åŸºç¡€è®¾æ–½å±‚',
    'api': 'æ¥å£å±‚',
    'ui': 'è¡¨ç°å±‚',
    'services': 'æœåŠ¡å±‚',
    'hooks': 'Reacté’©å­å±‚',
    'stores': 'çŠ¶æ€ç®¡ç†å±‚'
  };
  return layerMap[layer] || 'é€šç”¨å±‚';
}
```

### 3. æŒ‰æ¨¡å—ä¿®å¤å»ºè®®

#### contact-import æ¨¡å— (ä¼˜å…ˆçº§æœ€é«˜)
```bash
# é‡ç‚¹æ–‡ä»¶ç›®å½•
src/modules/contact-import/
â”œâ”€â”€ ui/                 # æœ€å¤šé—®é¢˜ï¼Œä¼˜å…ˆä¿®å¤
â”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘æ ¸å¿ƒ
â”œâ”€â”€ automation/         # è‡ªåŠ¨åŒ–é€»è¾‘
â””â”€â”€ parsers/           # æ•°æ®è§£æ
```

#### ä¿®å¤é¡ºåºå»ºè®®
1. **ç¬¬ä¸€æ‰¹**: `api/`, `domain/`, `application/` (æ ¸å¿ƒæ¶æ„)
2. **ç¬¬äºŒæ‰¹**: `services/`, `stores/`, `hooks/` (ä¸šåŠ¡é€»è¾‘)
3. **ç¬¬ä¸‰æ‰¹**: `ui/`, `components/` (è¡¨ç°å±‚)

## ğŸ“‹ ä¿®å¤æ£€æŸ¥æ¸…å•

### ESLintä¿®å¤æ¸…å•
- [ ] è¿è¡Œ `npm run lint -- --fix` è‡ªåŠ¨ä¿®å¤
- [ ] æ£€æŸ¥å‰©ä½™ `any` ç±»å‹ï¼Œæ›¿æ¢ä¸ºå…·ä½“ç±»å‹
- [ ] æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„å¯¼å…¥å’Œå˜é‡
- [ ] ç¡®ä¿æ‰€æœ‰å‡½æ•°éƒ½æœ‰è¿”å›ç±»å‹å£°æ˜
- [ ] éªŒè¯æ‰€æœ‰æ¥å£å’Œç±»å‹å®šä¹‰çš„å®Œæ•´æ€§

### æ–‡ä»¶å¤´ä¿®å¤æ¸…å•
- [ ] ä¸º `src/api/` ä¸‹æ‰€æœ‰æ–‡ä»¶æ·»åŠ å¤´éƒ¨
- [ ] ä¸º `src/application/` ä¸‹æ‰€æœ‰æ–‡ä»¶æ·»åŠ å¤´éƒ¨
- [ ] ä¸º `src/domain/` ä¸‹æ‰€æœ‰æ–‡ä»¶æ·»åŠ å¤´éƒ¨
- [ ] ä¸º `src/infrastructure/` ä¸‹æ‰€æœ‰æ–‡ä»¶æ·»åŠ å¤´éƒ¨
- [ ] ä¸º `src/modules/` ä¸‹æ‰€æœ‰æ ¸å¿ƒæ–‡ä»¶æ·»åŠ å¤´éƒ¨
- [ ] éªŒè¯å¤´éƒ¨æ ¼å¼çš„ä¸€è‡´æ€§

### è´¨é‡éªŒè¯æ¸…å•
- [ ] è¿è¡Œ `npm run lint` ç¡®ä¿0é”™è¯¯0è­¦å‘Š
- [ ] è¿è¡Œ `npm run headers:check` ç¡®ä¿æ‰€æœ‰æ–‡ä»¶å¤´è§„èŒƒ
- [ ] è¿è¡Œ `npm run dep:check` ç¡®ä¿ä¾èµ–å…³ç³»å¥åº·
- [ ] è¿è¡Œ `npm run type-check` ç¡®ä¿ç±»å‹ç³»ç»Ÿå®Œæ•´

## ğŸ¯ å¿«é€Ÿä¿®å¤å‘½ä»¤

```bash
# ä¸€é”®è´¨é‡æ£€æŸ¥
npm run lint && npm run headers:check && npm run dep:check

# è‡ªåŠ¨ä¿®å¤èƒ½ä¿®å¤çš„é—®é¢˜
npm run lint -- --fix

# æ£€æŸ¥ä¿®å¤è¿›åº¦
npm run lint | grep "âœ–"
npm run headers:check | grep "âœ—"
```

## ğŸ“Š ä¿®å¤è¿›åº¦è·Ÿè¸ª

### ä¿®å¤å‰åŸºçº¿
- ESLinté”™è¯¯: 4376ä¸ª
- æ–‡ä»¶å¤´ç¼ºå¤±: 1772ä¸ª
- ä¾èµ–è¿è§„: 0ä¸ª

### ä¿®å¤ç›®æ ‡
- ESLinté”™è¯¯: 0ä¸ª
- æ–‡ä»¶å¤´ç¼ºå¤±: 0ä¸ª  
- ä¾èµ–è¿è§„: 0ä¸ª

### é‡Œç¨‹ç¢‘æ£€æŸ¥ç‚¹
- [ ] 25%ä¿®å¤: ESLinté”™è¯¯ < 3000ä¸ª
- [ ] 50%ä¿®å¤: ESLinté”™è¯¯ < 2000ä¸ªï¼Œæ–‡ä»¶å¤´ < 1000ä¸ª
- [ ] 75%ä¿®å¤: ESLinté”™è¯¯ < 1000ä¸ªï¼Œæ–‡ä»¶å¤´ < 500ä¸ª
- [ ] 100%ä¿®å¤: æ‰€æœ‰é—®é¢˜è§£å†³

---

**ä½¿ç”¨å»ºè®®**: å»ºè®®æŒ‰æ¨¡å—åˆ†æ‰¹ä¿®å¤ï¼Œæ¯å®Œæˆä¸€ä¸ªæ¨¡å—å°±éªŒè¯ä¸€æ¬¡ï¼Œç¡®ä¿ä¸ä¼šå¼•å…¥æ–°é—®é¢˜ã€‚