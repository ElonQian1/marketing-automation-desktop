# å››ä»¶å¥—ç¤ºä¾‹ï¼ˆAIçœ‹äº†å°±ä¼šç…§åšï¼‰

## 1. å‘½åå‰ç¼€ï¼ˆæ–‡ä»¶å + ç±»å‹åï¼‰

### æ–‡ä»¶åå‰ç¼€è§„åˆ™
```typescript
// âŒ åŸå§‹å‘½åï¼ˆå®¹æ˜“å†²çªï¼‰
src/modules/prospecting/strategies/weighted.ts
src/modules/script/strategies/weighted.ts  // é‡åå†²çªï¼

// âœ… å‰ç¼€åŒ–å‘½åï¼ˆé¿å…å†²çªï¼‰  
src/modules/prospecting/strategies/prospecting-strategy-weighted.ts
src/modules/script/strategies/script-strategy-weighted.ts
```

### ç±»å‹åå‰ç¼€è§„åˆ™
```typescript
// âŒ åŸå§‹ç±»å‹å
export class WeightedStrategy { }
export interface StrategyConfig { }

// âœ… å‰ç¼€åŒ–ç±»å‹å
export class ProspectingStrategyWeighted { }
export interface ProspectingStrategyConfig { }
```

## 2. é—¨ç‰Œå¯¼å‡ºï¼ˆindex.ts ç»Ÿä¸€å‡ºå£ï¼‰

### æ¨¡å—é—¨ç‰Œç»“æ„
```typescript
// src/modules/prospecting/index.ts
// ğŸ¯ åªå¯¼å‡ºå¯¹å¤–å¥‘çº¦ï¼Œä¸æ³„éœ²å†…éƒ¨å®ç°

// Domain å…¬å¼€å¥‘çº¦
export type { 
  ProspectingTarget,
  ProspectingStrategy,
  ProspectingConfig 
} from './domain/public';

// Application ç”¨ä¾‹
export { 
  useProspectingAcquisition,
  ProspectingApplicationService 
} from './application';

// å…¬å¼€ Hooks
export { 
  useProspectingStore,
  useProspectingValidation 
} from './hooks';

// âŒ ä¸è¦å¯¼å‡ºå†…éƒ¨å®ç°
// export { InternalProspectingCache } from './infrastructure/cache';
```

### domain/public å¥‘çº¦å¯¼å‡º
```typescript
// src/modules/prospecting/domain/public/index.ts
// ğŸ¯ ä»…å¯¼å‡ºå¯¹å¤–éƒ¨æ¨¡å—å¼€æ”¾çš„å¥‘çº¦

export type { ProspectingTarget } from '../entities/ProspectingTarget';
export type { ProspectingStrategy } from '../strategies/ProspectingStrategy';
export type { ProspectingConfig } from '../config/ProspectingConfig';

// âŒ ä¸å¯¼å‡ºå†…éƒ¨å®ç°ç»†èŠ‚
// export { ProspectingInternalCache } from '../infrastructure/cache';
```

## 3. åˆ«åå¯¼å…¥ï¼ˆtsconfig.json pathsï¼‰

### è·¯å¾„åˆ«åé…ç½®
```json
// tsconfig.json
{
  "compilerOptions": {
    "paths": {
      "@prospecting/*": ["src/modules/precise-acquisition/*"],
      "@script/*": ["src/modules/smart-script-management/*"],
      "@contact/*": ["src/modules/contact-import/*"],
      "@adb/*": ["src/modules/adb/*"],
      "@shared/*": ["src/shared/*"]
    }
  }
}
```

### åˆ«åå¯¼å…¥ä½¿ç”¨
```typescript
// âœ… æ¨èï¼šä½¿ç”¨åˆ«å + é—¨ç‰Œå¯¼å…¥
import { ProspectingTarget, useProspectingAcquisition } from '@prospecting';
import { ContactImporter } from '@contact';
import { AdbDeviceService } from '@adb';

// âš ï¸ ä¸´æ—¶å…è®¸ï¼šç›¸å¯¹è·¯å¾„ï¼ˆåç»­æ•´ç†ï¼‰
import { helper } from '../utils/helper';

// âŒ ç¦æ­¢ï¼šè·¨æ¨¡å—ç›´æ¥è®¿é—®å†…éƒ¨å®ç°
import { InternalCache } from '@prospecting/infrastructure/cache';
```

## 4. æ–‡ä»¶å¤´ï¼ˆä¸‰è¡Œæ³¨é‡Šæ ‡å‡†ï¼‰

### æ ‡å‡†æ–‡ä»¶å¤´æ ¼å¼
```typescript
// src/modules/prospecting/domain/strategies/prospecting-strategy-weighted.ts
// module: prospecting | layer: domain | role: strategy
// summary: åŠ æƒè¯„åˆ†çš„ç²¾å‡†è·å®¢ç­–ç•¥å®ç°

/**
 * åŠ æƒç²¾å‡†è·å®¢ç­–ç•¥
 * åŸºäºå¤šç»´åº¦æƒé‡è®¡ç®—ç›®æ ‡ç”¨æˆ·åŒ¹é…åº¦
 */
export class ProspectingStrategyWeighted { }
```

### å„å±‚æ–‡ä»¶å¤´ç¤ºä¾‹
```typescript
// Domainå±‚
// src/modules/prospecting/domain/entities/ProspectingTarget.ts  
// module: prospecting | layer: domain | role: entity
// summary: ç²¾å‡†è·å®¢ç›®æ ‡ç”¨æˆ·å®ä½“

// Applicationå±‚  
// src/modules/prospecting/application/usecases/ProspectingUseCase.ts
// module: prospecting | layer: application | role: usecase  
// summary: ç²¾å‡†è·å®¢æ ¸å¿ƒç”¨ä¾‹

// Infrastructureå±‚
// src/modules/prospecting/infrastructure/repositories/ProspectingRepository.ts
// module: prospecting | layer: infrastructure | role: repository
// summary: ç²¾å‡†è·å®¢æ•°æ®ä»“å‚¨å®ç°

// UIå±‚
// src/modules/prospecting/ui/components/ProspectingPanel.tsx
// module: prospecting | layer: ui | role: component
// summary: ç²¾å‡†è·å®¢æ“ä½œé¢æ¿ç»„ä»¶
```

### æ–‡ä»¶å¤´å­—æ®µè¯´æ˜
- **è·¯å¾„**ï¼šå¿…é¡»ä¸å®é™…æ–‡ä»¶è·¯å¾„å®Œå…¨ä¸€è‡´
- **module**ï¼šæ¨¡å—åï¼ˆprospecting/script/contact/adb/sharedï¼‰
- **layer**ï¼šæ¶æ„å±‚æ¬¡ï¼ˆdomain/application/infrastructure/uiï¼‰  
- **role**ï¼šæ–‡ä»¶è§’è‰²ï¼ˆentity/service/usecase/component/repositoryç­‰ï¼‰
- **summary**ï¼šä¸€å¥è¯æè¿°æ–‡ä»¶ä½œç”¨

## å®Œæ•´ç¤ºä¾‹ï¼ˆå››ä»¶å¥—ç»„åˆï¼‰

```typescript
// src/modules/prospecting/domain/strategies/prospecting-strategy-weighted.ts
// module: prospecting | layer: domain | role: strategy
// summary: åŠ æƒè¯„åˆ†çš„ç²¾å‡†è·å®¢ç­–ç•¥å®ç°

import type { ProspectingTarget, ProspectingConfig } from '@prospecting';
import { BaseStrategy } from '@shared/strategies';

/**
 * åŠ æƒç²¾å‡†è·å®¢ç­–ç•¥
 * æ ¹æ®å¤šç»´åº¦æƒé‡è®¡ç®—ç›®æ ‡ç”¨æˆ·åŒ¹é…åº¦
 */
export class ProspectingStrategyWeighted extends BaseStrategy {
  constructor(private config: ProspectingConfig) {
    super();
  }

  async evaluate(target: ProspectingTarget): Promise<number> {
    // å®ç°åŠ æƒè¯„åˆ†é€»è¾‘
    return 0.85;
  }
}
```

---
**è®°ä½å››ä»¶å¥—çš„æ ¸å¿ƒç›®çš„**ï¼šé¿å…å‘½åå†²çªã€æ˜ç¡®æ¨¡å—è¾¹ç•Œã€ç®€åŒ–å¯¼å…¥è·¯å¾„ã€ä¿æŒä»£ç å¯è¿½æº¯æ€§ã€‚