# 📚 DDD架构导航指南

> **快速开始**: 如果你是新员工或需要理解项目架构，请按顺序阅读这些文档

## 🎯 阅读路径

### 第一步：理解架构概念
1. **[架构总览](../ARCHITECTURE_DIAGRAM_ANALYSIS_REPORT.md)** - 了解整体DDD分层设计
2. **[ADB架构统一报告](../ADB_ARCHITECTURE_UNIFICATION_REPORT.md)** - 核心架构实现详情

### 第二步：了解具体工作角色  
3. **[员工A工作指南](员工a.md)** - 架构护栏工程师的具体任务
4. **[员工B工作指南](员工b.md)** - 模块迁移执行官的具体任务
5. **[AGENTS分工说明](../AGENTS.md)** - 三位代理的完整协作手册

### 第三步：掌握协作规范
6. **[沟通机制说明](README.md)** - 失联员工远程协作标准流程
7. **[当前项目状态](_ACTIVE/项目整体状态.md)** - 实时了解项目进展

## 🏗️ 架构核心原理

### DDD分层架构
```
src/
├── domain/           # 领域层：核心业务逻辑，不依赖外部
├── application/      # 应用层：用例编排，状态管理  
├── infrastructure/   # 基础设施层：外部服务，数据持久化
├── components/       # 表现层：UI组件，用户交互
└── shared/          # 共享层：通用工具，跨模块契约
```

### 模块化原则
- **模块优先**: 按业务领域分模块，而非技术层次
- **门牌导出**: 每个模块通过`index.ts`统一对外接口  
- **别名导入**: 使用`@/modules/xxx`而非相对路径
- **前缀命名**: 避免子目录重名冲突

### 统一ADB接口
```typescript
// ✅ 正确：统一入口
const { devices, selectedDevice } = useAdb();

// ❌ 错误：已废弃接口  
const devices = useAdbDevices();
```

## 📋 快速检查清单

### 如果你是新员工：
- [ ] 阅读架构总览，理解DDD分层
- [ ] 查看ADB统一报告，了解核心实现
- [ ] 根据角色阅读对应的员工指南
- [ ] 在`_ACTIVE/`中创建自己的状态文档

### 如果你需要开发功能：
- [ ] 确认功能属于哪个领域模块
- [ ] 使用`useAdb()`统一接口访问设备
- [ ] 遵循DDD分层，domain不依赖UI/IO
- [ ] 通过门牌导出，使用别名导入

### 如果你需要了解当前状态：
- [ ] 查看`_ACTIVE/项目整体状态.md`
- [ ] 查看各员工的当前状态文档
- [ ] 查看`_STREAMS/`中的工作流水记录

## 🔍 常见问题

### Q: 为什么要用DDD架构？
A: 解决大型项目的模块混乱、依赖错乱、职责不清问题。通过分层和模块化，让代码更清晰、更易维护。

### Q: 为什么统一ADB接口？
A: 之前有多套ADB实现导致状态不一致、重复代码。现在通过`useAdb()`统一管理，避免混乱。

### Q: 如何确定代码放在哪一层？
- **domain/**: 纯业务逻辑，如设备实体、业务规则
- **application/**: 用例编排，如状态管理、应用服务
- **infrastructure/**: 外部调用，如Tauri命令、API调用
- **components/**: UI组件，如页面、表单、按钮

### Q: 模块之间如何通信？
- 通过公开契约（`domain/public/`）
- 通过共享工具（`shared/`）  
- 避免直接访问其他模块内部实现

## 📖 深入学习资源

### 架构文档
- **[代码重构报告](../CODE_DEDUPLICATION_PROGRESS_REPORT.md)** - 重构过程记录
- **[集成计划](../CODE_INTEGRATION_PLAN.md)** - 模块集成策略
- **[迁移指南](../ADB_GLOBAL_MIGRATION_GUIDE.md)** - ADB架构迁移详情

### 开发指南
- **[Copilot开发指导](.github/copilot-instructions.md)** - AI代理开发规范
- **[主README](../README.md)** - 项目整体介绍

---

**💡 建议**: 第一次阅读时，重点理解概念；具体工作时，重点参考对应角色的员工指南。有问题可以在相应的`stream_x.md`中记录。