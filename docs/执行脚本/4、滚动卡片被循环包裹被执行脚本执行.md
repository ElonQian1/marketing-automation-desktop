11:28:08.031959Z  INFO employee_gui::commands::run_step_v2: engine=v2 device_id=e0d909c3 mode=ExecuteStep strategy=Intelligent
2025-10-30T11:28:08.032333Z  INFO employee_gui::commands::run_step_v2: bridge=ADB shadow=false dump_source=Device
2025-10-30T11:28:08.032709Z  INFO employee_gui::commands::run_step_v2: 🔍 坐标检测: has_coordinates=true, action_type=swipe
2025-10-30T11:28:08.032984Z  INFO employee_gui::commands::run_step_v2: 🎯 检测到坐标滑动操作，跳过元素匹配直接执行
2025-10-30T11:28:08.033281Z  INFO employee_gui::commands::run_step_v2: 📐 坐标参数: start_x=Some(Number(540)), start_y=Some(Number(1638)), end_x=Some(Number(540)), end_y=Some(Number(1038))
2025-10-30T11:28:08.033776Z  INFO employee_gui::commands::run_step_v2: 🎯 执行坐标滑动: (540,1638) → (540,1038) 时长:300ms
2025-10-30T11:28:08.034312Z  INFO employee_gui::infra::adb::safe_input_injector: 🛡️ 开始安全注入执行:    滑动 (540,1638) → (540,1038) 300ms (最多3次尝试)    
2025-10-30T11:28:08.034579Z  INFO employee_gui::infra::adb::safe_input_injector: 🛡️ 执行第1/3次尝试: 滑 
动 (540,1638) → (540,1038) 300ms
2025-10-30T11:28:08.561912Z  INFO employee_gui::infra::adb::safe_input_injector: ✅ 安全注入首次成功: 滑动 (540,1638) → (540,1038) 300ms
2025-10-30T11:28:08.562110Z  INFO employee_gui::infra::adb::input_helper: 🪄 injector-v1.0: swipe 已通 过统一注入器执行 from=(540, 1638) to=(540, 1038), d=300ms
2025-10-30T11:28:08.562598Z  INFO employee_gui::commands::run_step_v2: executed: action=swipe time=528ms
2025-10-30T11:28:08.562812Z  INFO employee_gui::commands::run_step_v2: ✅ 坐标滑动执行成功: 真机滑动执行成功: (540,1638)→(540,1038)
2025-10-30T11:28:08.568118Z  INFO employee_gui::commands::run_step_v2: engine=v2 device_id=e0d909c3 mode=ExecuteStep strategy=Intelligent
2025-10-30T11:28:08.568293Z  INFO employee_gui::commands::run_step_v2: bridge=ADB shadow=false dump_source=Device
2025-10-30T11:28:08.568508Z  INFO employee_gui::commands::run_step_v2: 🔍 坐标检测: has_coordinates=true, action_type=swipe
2025-10-30T11:28:08.568846Z  INFO employee_gui::commands::run_step_v2: 🎯 检测到坐标滑动操作，跳过元素匹配直接执行
2025-10-30T11:28:08.569281Z  INFO employee_gui::commands::run_step_v2: 📐 坐标参数: start_x=Some(Number(540)), start_y=Some(Number(1638)), end_x=Some(Number(540)), end_y=Some(Number(1038))
2025-10-30T11:28:08.569880Z  INFO employee_gui::commands::run_step_v2: 🎯 执行坐标滑动: (540,1638) → (540,1038) 时长:300ms
2025-10-30T11:28:08.570566Z  INFO employee_gui::infra::adb::safe_input_injector: 🛡️ 开始安全注入执行:    滑动 (540,1638) → (540,1038) 300ms (最多3次尝试)    
2025-10-30T11:28:08.570992Z  INFO employee_gui::infra::adb::safe_input_injector: 🛡️ 执行第1/3次尝试: 滑 
动 (540,1638) → (540,1038) 300ms
2025-10-30T11:28:09.029315Z  INFO employee_gui::infra::adb::safe_input_injector: ✅ 安全注入首次成功: 滑动 (540,1638) → (540,1038) 300ms
2025-10-30T11:28:09.029623Z  INFO employee_gui::infra::adb::input_helper: 🪄 injector-v1.0: swipe 已通 过统一注入器执行 from=(540, 1638) to=(540, 1038), d=300ms
2025-10-30T11:28:09.030004Z  INFO employee_gui::commands::run_step_v2: executed: action=swipe time=460ms
2025-10-30T11:28:09.030468Z  INFO employee_gui::commands::run_step_v2: ✅ 坐标滑动执行成功: 真机滑动执行成功: (540,1638)→(540,1038)


ScriptControlPanel.tsx:76 🔴🔴🔴 [ScriptControlPanel] ============ 执行脚本按钮被点击! ============
ScriptControlPanel.tsx:77 📋 [ScriptControlPanel] 当前步骤数: 3
ScriptControlPanel.tsx:78 � [ScriptControlPanel] 步骤详情: (3) [{…}, {…}, {…}]
ScriptControlPanel.tsx:79 �📱 [ScriptControlPanel] 当前设备ID: e0d909c3
ScriptControlPanel.tsx:80 ⚡ [ScriptControlPanel] 正在执行状态: false
ScriptControlPanel.tsx:81 🎯 [ScriptControlPanel] onExecuteScript函数类型: function
ScriptControlPanel.tsx:82 🎯 [ScriptControlPanel] onExecuteScript函数: async ƒ handleExecuteScript() {
    console.log("🚀 [批量执行] 开始执行智能脚本...");
    console.log("🔴 [批量执行] 使用混合模式: V2滚动 + V3点击");
    const allSteps = ctx.getSteps();
    if (allSteps.length === 0) {
      message…
ScriptControlPanel.tsx:85 ▶️ [ScriptControlPanel] 准备调用 onExecuteScript()...
executeScript.ts:54 🚀 [批量执行] 开始执行智能脚本...
executeScript.ts:55 🔴 [批量执行] 使用混合模式: V2滚动 + V3点击
normalizeSteps.ts:404 🔍 [脚本规范化] 开始处理: {totalSteps: 3}
normalizeSteps.ts:408 🔍 [脚本规范化] 过滤后: {enabledSteps: 3}
normalizeSteps.ts:367 🔄 [循环处理] 保持循环开始步骤不变，交给统一路由器处理: {stepId: 'step_1761823669266_start', stepType: 'loop_start', loopId: 'loop_1761823669266'}
normalizeSteps.ts:380 🔄 [循环处理] 保持循环结束步骤不变，交给统一路由器处理: {stepId: 'step_1761823669266_end', stepType: 'loop_end', loopId: 'loop_1761823669266'}
normalizeSteps.ts:412 🔍 [脚本规范化] 展开后: {expandedSteps: 3}
normalizeSteps.ts:58 🔍 [步骤标准化] 开始处理: {stepId: 'step_1761823669266_start', stepType: 'loop_start', stepName: '循环开始', hasStrategySelector: false}
normalizeSteps.ts:58 🔍 [步骤标准化] 开始处理: {stepId: 'step_scroll_1761823673241_344', stepType: 'smart_scroll', stepName: '屏幕交互 - 智能滚动', hasStrategySelector: false}
normalizeSteps.ts:58 🔍 [步骤标准化] 开始处理: {stepId: 'step_1761823669266_end', stepType: 'loop_end', stepName: '循环结束', hasStrategySelector: false}
normalizeSteps.ts:416 ✅ [脚本规范化] 最终结果: {normalizedSteps: 3}
executeScript.ts:69 📋 [批量执行] 展开后的步骤数量: 3
executeScript.ts:70 📝 [批量执行] 展开后的步骤详情: (3) [{…}, {…}, {…}]
executeScript.ts:75 📱 [批量执行] 可用设备列表: [Device]
executeScript.ts:76 📱 [批量执行] 当前设备ID: e0d909c3
executeScript.ts:92 📱 [批量执行] 最终选中的设备: e0d909c3
executeScript.ts:104 🎯 [批量执行] 准备开始混合模式执行...
executeScript.ts:117 
🔄 [批量执行] 步骤 1/3: 循环开始
executeScript.ts:118    原始类型: loop_start
executeScript.ts:119    识别类型: 循环控制 (loop_control)
executeScript.ts:120    参数预览: {hasXPath: false, hasInput: false, hasKeyCode: false, hasDirection: false}
step-type-router.ts:204 🔍 [路由器] 步骤类型识别: loop_control (step_type=loop_start, name=循环开始)
step-type-router.ts:133 🔄 [循环控制] 检测到循环控制步骤: loop_start
step-type-router.ts:147 🎯 [循环控制] 检测到循环开始，需要统一循环处理
ScriptControlPanel.tsx:87 ✅ [ScriptControlPanel] onExecuteScript() 调用完成
index.tsx:40 🔍 LoopStartCard 渲染: {currentLoopId: 'loop_1761823669266', loopTestState: 'idle', canStartTest: true, canStopTest: false}
index.tsx:40 🔍 LoopStartCard 渲染: {currentLoopId: 'loop_1761823669266', loopTestState: 'idle', canStartTest: true, canStopTest: false}
executeScript.ts:196 🔄 [循环处理] 检测到循环开始，调用统一循环执行逻辑
executeScript.ts:324 🔄 [循环处理] 开始执行循环: loopId=loop_1761823669266, iterations=3
executeScript.ts:352 📤 [循环处理] 调用后端循环API: deviceId=e0d909c3
executeScript.ts:371  ❌ [循环处理] 循环执行失败: Command execute_loop_test not found
executeLoopFromScript @ executeScript.ts:371
await in executeLoopFromScript
handleExecuteScript @ executeScript.ts:199
await in handleExecuteScript
onClick @ ScriptControlPanel.tsx:86
(匿名) @ button.js:188
executeDispatch @ react-dom-client.development.js:16368
runWithFiberInDEV @ react-dom-client.development.js:1519
processDispatchQueue @ react-dom-client.development.js:16418
(匿名) @ react-dom-client.development.js:17016
batchedUpdates$1 @ react-dom-client.development.js:3262
dispatchEventForPluginEventSystem @ react-dom-client.development.js:16572
dispatchEvent @ react-dom-client.development.js:20658
dispatchDiscreteEvent @ react-dom-client.development.js:20626
executeScript.ts:232  ❌ [批量执行] 步骤 1 执行失败: Command execute_loop_test not found
handleExecuteScript @ executeScript.ts:232
await in handleExecuteScript
onClick @ ScriptControlPanel.tsx:86
(匿名) @ button.js:188
executeDispatch @ react-dom-client.development.js:16368
runWithFiberInDEV @ react-dom-client.development.js:1519
processDispatchQueue @ react-dom-client.development.js:16418
(匿名) @ react-dom-client.development.js:17016
batchedUpdates$1 @ react-dom-client.development.js:3262
dispatchEventForPluginEventSystem @ react-dom-client.development.js:16572
dispatchEvent @ react-dom-client.development.js:20658
dispatchDiscreteEvent @ react-dom-client.development.js:20626
executeScript.ts:117 
📜 [批量执行] 步骤 2/3: 屏幕交互 - 智能滚动
executeScript.ts:118    原始类型: swipe
executeScript.ts:119    识别类型: 滚动 (scroll)
executeScript.ts:120    参数预览: {hasXPath: false, hasInput: false, hasKeyCode: false, hasDirection: true}
step-type-router.ts:204 🔍 [路由器] 步骤类型识别: scroll (step_type=swipe, name=屏幕交互 - 智能滚动)
scroll-executor.ts:190 📜 [V2滚动] 完整参数: {direction: 'down', distance: 600, duration: 300, repeat_count: 2, wait_between: false, …}
scroll-executor.ts:212 📜 [V2滚动] 执行第 1/2 次滚动...
scroll-executor.ts:151 📜 [V2滚动-单次] 坐标: (540,1638) → (540,1038), 时长:300ms
scroll-executor.ts:226 ✅ [V2滚动] 第 1 次滚动成功
scroll-executor.ts:212 📜 [V2滚动] 执行第 2/2 次滚动...
scroll-executor.ts:151 📜 [V2滚动-单次] 坐标: (540,1638) → (540,1038), 时长:300ms
scroll-executor.ts:226 ✅ [V2滚动] 第 2 次滚动成功
executeScript.ts:219 ✅ [scroll_v2] 步骤 2 执行成功: ✅ 滚动执行成功（2/2次）
executeScript.ts:227 ⏱️ [批量执行] 等待1秒后继续...
executeScript.ts:117 
🔄 [批量执行] 步骤 3/3: 循环结束
executeScript.ts:118    原始类型: loop_end
executeScript.ts:119    识别类型: 循环控制 (loop_control)
executeScript.ts:120    参数预览: {hasXPath: false, hasInput: false, hasKeyCode: false, hasDirection: false}
step-type-router.ts:204 🔍 [路由器] 步骤类型识别: loop_control (step_type=loop_end, name=循环结束)
step-type-router.ts:133 🔄 [循环控制] 检测到循环控制步骤: loop_end
step-type-router.ts:138 ✅ [循环控制] 循环结束标记已到达，循环已在开始时完整执行
executeScript.ts:219 ✅ [loop_control] 步骤 3 执行成功: ✅ 循环结束标记已处理
executeScript.ts:309 🏁 [批量执行] 智能脚本执行流程结束
index.tsx:40 🔍 LoopStartCard 渲染: {currentLoopId: 'loop_1761823669266', loopTestState: 'idle', canStartTest: true, canStopTest: false}
index.tsx:40 🔍 LoopStartCard 渲染: {currentLoopId: 'loop_1761823669266', loopTestState: 'idle', canStartTest: true, canStopTest: false}
