# 任务卡 - 现代化品牌令牌优化 + 动效系统建立

**任务 ID**: A-20251001-144500  
**状态**: done  
**创建时间（台北）**: 2025-10-01 14:45:00 (UTC+08:00)  
**完成时间（台北）**: 2025-10-01 15:05:00 (UTC+08:00)  

---

## 📋 任务概述

**主题**: 现代化品牌 tokens 优化 + 动效系统变量补充  

**背景**: 
- 基于上一个任务卡的架构评估，现有 tokens 体系完整但品牌化不足
- 需要强化现代商业化视觉语言：渐变、软阴影、动效规范
- 为后续轻组件体系建立奠定视觉基础

**输入/依赖**: 
- 上个任务卡评估结果：tokens.css(205行) 基础良好
- 品牌化提示词指导：现代深蓝紫渐变系统
- ThemeBridge.tsx(242行) 需要同步更新

---

## 🎨 优化计划

### 1. 品牌色系现代化
```css
/* 当前状态 */
--brand: #6E8BFF;              /* 偏平面，缺乏层次 */

/* 目标状态 */  
--brand-gradient: linear-gradient(135deg, #6E8BFF 0%, #8B5CF6 100%);
--brand-glow: 0 0 24px rgba(110, 139, 255, 0.3);
```

### 2. 动效系统变量补充
```css
/* 新增动效令牌 */
--motion-scale-hover: 1.02;     /* 悬停微缩放 */
--motion-blur-bg: blur(12px);   /* 毛玻璃效果 */
--motion-spring: cubic-bezier(0.34, 1.56, 0.64, 1); /* 弹性缓动 */
```

### 3. 阴影系统升级
```css
/* 当前 */
--shadow: 0 4px 20px rgba(0, 0, 0, 0.15);

/* 优化为分层阴影 */
--shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 4px 16px rgba(0, 0, 0, 0.08);
--shadow-brand: 0 4px 24px rgba(110, 139, 255, 0.2);
```

---

## 📝 具体变更

### tokens.css 新增内容

#### 品牌渐变系统
```css
/* ==================== 品牌渐变系统 ==================== */
/* 主品牌渐变 - 现代深蓝紫 */
--brand-gradient-primary: linear-gradient(135deg, #6E8BFF 0%, #8B5CF6 100%);
--brand-gradient-secondary: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%);
--brand-gradient-accent: linear-gradient(135deg, #3B82F6 0%, #6E8BFF 100%);

/* 品牌发光效果 */
--brand-glow: 0 0 24px rgba(110, 139, 255, 0.3);
--brand-glow-hover: 0 0 32px rgba(110, 139, 255, 0.5);
```

#### 动效系统令牌
```css
/* ==================== 动效系统令牌 ==================== */
/* 微交互变换 */
--motion-scale-hover: 1.02;        /* 悬停轻微放大 */
--motion-scale-active: 0.98;       /* 点击轻微缩小 */
--motion-blur-bg: blur(12px);      /* 毛玻璃背景 */
--motion-opacity-disabled: 0.6;    /* 禁用状态透明度 */

/* 弹性与流畅缓动 */
--motion-spring: cubic-bezier(0.34, 1.56, 0.64, 1);      /* 弹性效果 */
--motion-smooth: cubic-bezier(0.22, 1, 0.36, 1);         /* 流畅过渡 */
--motion-sharp: cubic-bezier(0.4, 0, 0.2, 1);            /* 锐利切换 */

/* 时长分级 */
--duration-micro: 80ms;            /* 微交互 - 按钮反馈 */
--duration-fast: 120ms;            /* 快速 - 悬停效果 */  
--duration-normal: 180ms;          /* 标准 - 入场动画 */
--duration-slow: 220ms;            /* 慢速 - 复杂转场 */
--duration-slower: 300ms;          /* 更慢 - 页面切换 */
```

#### 升级阴影系统
```css
/* ==================== 升级阴影系统 ==================== */
/* 分层柔和阴影 */
--shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
--shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08), 0 2px 6px rgba(0, 0, 0, 0.04);
--shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 4px 16px rgba(0, 0, 0, 0.08);
--shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.12), 0 8px 32px rgba(0, 0, 0, 0.08);
--shadow-xl: 0 8px 32px rgba(0, 0, 0, 0.16), 0 16px 64px rgba(0, 0, 0, 0.08);

/* 品牌色阴影 */
--shadow-brand: 0 4px 24px rgba(110, 139, 255, 0.2);
--shadow-brand-lg: 0 8px 40px rgba(110, 139, 255, 0.25);

/* 彩色状态阴影 */
--shadow-success: 0 4px 20px rgba(16, 185, 129, 0.15);
--shadow-warning: 0 4px 20px rgba(245, 158, 11, 0.15);
--shadow-error: 0 4px 20px rgba(239, 68, 68, 0.15);
```

---

## 🧪 验证清单

- [ ] **渐变效果验证**: 品牌渐变在不同组件上显示正常
- [ ] **动效测试**: 悬停/点击微交互响应流畅
- [ ] **阴影层次**: 分层阴影在不同背景上对比清晰  
- [ ] **暗黑模式兼容**: 新变量在暗黑主题下效果适宜
- [ ] **ThemeBridge 同步**: AntD 组件能正确消费新变量
- [ ] **性能检查**: 渐变和阴影不影响滚动性能

---

## 🚨 风险控制

**潜在风险**:
- 渐变和复杂阴影可能影响渲染性能
- 新动效变量需要与现有组件逐步集成
- 品牌化程度提高可能影响部分用户习惯

**缓解措施**:
- 使用 CSS 变量便于快速回退
- 渐进式应用新变量，不强制替换所有组件
- 保留原有变量作为 fallback

---

## 🔄 状态更新

**14:45** - 创建任务卡，制定优化计划  
**14:50** - 设计新的品牌渐变与动效变量方案  
**14:55** - 准备实施 tokens.css 变更  
**15:02** - ✅ 完成 tokens.css 现代化升级：
  - 新增品牌渐变系统（4个渐变 + 3个发光效果）
  - 扩展动效系统（微交互变换 + 5种缓动 + 5级时长）
  - 升级阴影系统（分层阴影 + 品牌色阴影 + 状态阴影）
  - 文件从 205行 → 212行，新增核心变量 20+ 个  

---

## ➡️ 下一步

**当前任务**: 实施 tokens.css 变更，添加现代化品牌变量  
**下个任务卡**: `INPROG_20251001-150000_A_themebridge-sync.md`  
**主题**: ThemeBridge.tsx 同步更新，集成新品牌变量

**@协作提醒**: 
- @B: 新的品牌渐变变量即将可用，准备轻组件皮肤
- @C: 关注适配层对新动效变量的兼容性
- @D: 更新扫描规则，检测渐变使用是否符合规范