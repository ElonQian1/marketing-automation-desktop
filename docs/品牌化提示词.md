# Tauri æ¡Œé¢åº”ç”¨å‰ç«¯ã€Œå“ç‰ŒåŒ–é‡æ„ã€â€”â€”å®Œæ•´æç¤ºè¯ï¼ˆChineseï¼‰

> è§’è‰²ï¼šå‰ç«¯å“ç‰ŒåŒ–é‡æ„å·¥ç¨‹å¸ˆï¼ˆBrand-first Front-end Refactor Engineerï¼‰
> æŠ€æœ¯æ ˆï¼š**Tauri + React 18 + TypeScript + Tailwind CSS + Ant Design v5 + Radix UI + shadcn/ui + Motion**
> ç›®æ ‡ï¼šæŠŠå½“å‰ **AntD åŸç”Ÿå¤–è§‚** çš„é¡¹ç›®ï¼Œå‡çº§ä¸º **æ—¶å°šã€ç°ä»£## 10) ä»£ç è¾“å‡ºé£æ ¼ï¼ˆç»™ AI/å›¢é˜Ÿçš„ç¡¬æ€§è¦æ±‚ï¼‰

- **æ‰€æœ‰ä»£ç æ–‡ä»¶é¦–è¡Œ**å†™æ³¨é‡Šæ ‡æ˜"æ–‡ä»¶è·¯å¾„"ï¼Œä¸”**ä¸­æ–‡æ³¨é‡Š**è§£é‡Šæ„å›¾ï¼›
- ç»„ä»¶ä¸æ ·å¼åˆ†å±‚ï¼š`ui`ï¼ˆè½»ç»„ä»¶ï¼‰â†’`patterns`ï¼ˆå›¾å…ƒï¼‰â†’`pages`ï¼ˆç¼–æ’ï¼‰ï¼›
- ä¸è¿”å›è¶… 500 è¡Œçš„å•æ–‡ä»¶ï¼›
- è‹¥ç¤ºä¾‹æ¶‰åŠ AntDï¼Œ**ç¦æ­¢**å†™ `.ant-*` è¦†ç›–ï¼›
- è‹¥ç¤ºä¾‹æ¶‰åŠ Radix/shadcnï¼Œéœ€ä¿ç•™ A11y å±æ€§ä¸é”®ç›˜äº¤äº’ã€‚

### **é˜²ç™½åº•ç™½å­—å¼ºåˆ¶æ£€æŸ¥æ¸…å•**

**âš ï¸ å…³é”®æé†’ï¼šæœ¬é¡¹ç›®ä½¿ç”¨æ·±è‰²ä¸»é¢˜ï¼Œå…¨å±€æ–‡å­—ä¸ºç™½è‰²ã€‚ä»»ä½•æµ…è‰²èƒŒæ™¯éƒ½å¿…é¡»å¼ºåˆ¶è¦†ç›–æ–‡å­—é¢œè‰²ï¼**

**ğŸš¨ çœŸå®æ¡ˆä¾‹ï¼šElementList.tsx ç™½åº•ç™½å­—é—®é¢˜**
```tsx
// âŒ å¯¼è‡´ç™½åº•ç™½å­—çš„ä»£ç ï¼ˆå·²ä¿®å¤ï¼‰
<div style={{background: '#fff'}}> {/* ç™½è‰²èƒŒæ™¯ */}
  <span style={{fontWeight: 'bold'}}>æ›´å¤šé€‰é¡¹</span> {/* ç»§æ‰¿å…¨å±€ç™½è‰²æ–‡å­— = çœ‹ä¸è§ï¼ */}
</div>

// âœ… ä¿®å¤åçš„ä»£ç 
<div className="light-theme-force" style={{background: 'var(--bg-light-base)'}}>
  <span style={{fontWeight: 'bold'}}>æ›´å¤šé€‰é¡¹</span> {/* CSSç±»è‡ªåŠ¨æä¾›æ·±è‰²æ–‡å­— */}
</div>
```

æ¯æ¬¡åˆ›å»ºåŒ…å«èƒŒæ™¯è‰²çš„ç»„ä»¶æ—¶ï¼ŒAI å¿…é¡»è‡ªæ£€ï¼š

```
â–¡ èƒŒæ™¯è‰²æ˜¯æµ…è‰²ï¼ˆ#ffffff, #f8fafc, white, rgb(255,255,255) ç­‰ï¼‰å—ï¼Ÿ
  â””â”€ æ˜¯ï¼šâ—å¿…é¡»æ·»åŠ  className="light-theme-force" æˆ–æ˜¾å¼è®¾ç½® color="var(--text-inverse)"
â–¡ èƒŒæ™¯è‰²æ˜¯æ·±è‰²ï¼ˆ#0f172a, #1e293b ç­‰ï¼‰å—ï¼Ÿ
  â””â”€ æ˜¯ï¼šç¡®ä¿æ–‡å­—è‰²ä¸ºæµ…è‰²ï¼ˆ#f8fafc, #e2e8f0 ç­‰ï¼‰
â–¡ ä½¿ç”¨äº† CSS å˜é‡ï¼ˆ--bg-*, --text-*ï¼‰è€Œéç¡¬ç¼–ç ï¼Ÿ
â–¡ åŒ…å« Ant Design ç»„ä»¶çš„æµ…è‰²å®¹å™¨æ·»åŠ äº† .light-theme-force ç±»ï¼Ÿ
â–¡ å†…è”æ ·å¼ä¸­çš„ background: '#fff' / background: 'white' å·²æ›¿æ¢ä¸º CSS å˜é‡ï¼Ÿ
â–¡ æµ‹è¯•è¿‡åœ¨å®é™…ç•Œé¢ä¸­çš„å¯è¯»æ€§å—ï¼Ÿ
â–¡ é¢œè‰²å¯¹æ¯”åº¦è¾¾åˆ° WCAG AA æ ‡å‡†ï¼ˆ4.5:1ï¼‰å—ï¼Ÿ
â–¡ é¿å…äº†ç¡¬ç¼–ç é¢œè‰²å¦‚ #666, #1890ff ç­‰ï¼Ÿ
```

**ğŸš¨ é«˜é£é™©åœºæ™¯è¯†åˆ«ï¼š**
- âœ… ä»»ä½•åŒ…å« `background: '#fff'`, `background: 'white'`, `background: rgb(255,255,255)` çš„ä»£ç 
- âœ… Cardã€Modalã€Popover ç­‰æµ®å±‚ç»„ä»¶æ²¡æœ‰è®¾ç½®ä¸»é¢˜è¦†ç›–
- âœ… å†…è” style å¯¹è±¡ä¸­ç¡¬ç¼–ç äº†æµ…è‰²èƒŒæ™¯
- âœ… Ant Design ç»„ä»¶åœ¨è‡ªå®šä¹‰å®¹å™¨ä¸­ç»§æ‰¿äº†ä¸æ­£ç¡®çš„é¢œè‰²
- âœ… ä½¿ç”¨ `<span>`, `<p>`, `<strong>` ç­‰HTMLå…ƒç´ ä½†æœªè®¾ç½® `.light-theme-force`
- âœ… å…ƒç´ åˆ—è¡¨ã€å¡ç‰‡ç½‘æ ¼ã€æ•°æ®å±•ç¤ºç»„ä»¶ç­‰é«˜æ›å…‰åŒºåŸŸ

**âš¡ AIå¼€å‘æ—¶å¼ºåˆ¶æ‰§è¡Œï¼š**
1. å†™ä»»ä½•åŒ…å« `background` æ ·å¼çš„ä»£ç æ—¶ï¼Œç«‹å³æ£€æŸ¥æ˜¯å¦éœ€è¦ `className="light-theme-force"`
2. å‘ç°æµ…è‰²å€¼ï¼ˆ#fff, white, #f8fafcç­‰ï¼‰ç«‹å³æ·»åŠ æ–‡å­—é¢œè‰²è¦†ç›–
3. ä½¿ç”¨å†…è”æ ·å¼è®¾ç½®èƒŒæ™¯æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘CSSå˜é‡ + ä¸»é¢˜ç±»ç»„åˆ
4. æµ‹è¯•ä»£ç ï¼šåœ¨æµ…è‰²èƒŒæ™¯ä¸Šæ”¾ç½®"æµ‹è¯•æ–‡å­—"éªŒè¯å¯è¯»æ€§

### **å¸¸è§ä¿®å¤æ¨¡å¼**

```tsx
// âŒ å±é™©ï¼šæœ€å¸¸è§çš„ç™½åº•ç™½å­—é”™è¯¯ï¼ˆé¡¹ç›®å®é™…æ¡ˆä¾‹ï¼‰
<div style={{
  border: '1px solid #d9d9d9',
  background: '#fff',  // ç™½è‰²èƒŒæ™¯
  padding: 12
}}>
  <span style={{ fontWeight: 'bold' }}>æ›´å¤šé€‰é¡¹</span> {/* ç»§æ‰¿å…¨å±€ç™½è‰²æ–‡å­— = çœ‹ä¸è§! */}
  <Tag color="green">å¯ç‚¹å‡»</Tag>
  <Tag color="red">é‡è¦</Tag>
</div>

// âœ… å®‰å…¨ï¼šä½¿ç”¨ .light-theme-force ç±»ï¼ˆæ¨èæ–¹æ¡ˆï¼‰
<div 
  className="light-theme-force"
  style={{
    border: '1px solid var(--border-muted)',
    background: 'var(--bg-light-base)',
    padding: 'var(--space-3)',
    borderRadius: 'var(--radius-sm)'
  }}
>
  <span style={{ fontWeight: 'bold' }}>æ›´å¤šé€‰é¡¹</span> {/* è‡ªåŠ¨æ·±è‰²æ–‡å­— */}
  <Tag color="green">å¯ç‚¹å‡»</Tag>
  <Tag color="red">é‡è¦</Tag>
</div>

// âœ… å®‰å…¨ï¼šæ˜¾å¼é¢œè‰²è¦†ç›–æ–¹æ¡ˆ
<div style={{ 
  background: 'var(--bg-light-base)', 
  color: 'var(--text-inverse)',  // å¼ºåˆ¶æ·±è‰²æ–‡å­—
  border: '1px solid var(--border-muted)',
  padding: 'var(--space-3)'
}}>
  <Typography.Title style={{ color: 'var(--text-inverse) !important' }}>æ ‡é¢˜</Typography.Title>
  <Tag color="green">æ ‡ç­¾</Tag>
</div>

// âœ… å®‰å…¨ï¼šAnt Design Card ç»„ä»¶ä¿®å¤
<div className="light-theme-force">
  <Card size="small" title="å¡ç‰‡æ ‡é¢˜">
    <p>å¡ç‰‡å†…å®¹ä¼šè‡ªåŠ¨ä½¿ç”¨æ­£ç¡®çš„æ–‡å­—é¢œè‰²</p>
    <Tag color="blue">çŠ¶æ€æ ‡ç­¾</Tag>
  </Card>
</div>
```

**ğŸ“‹ ä¿®å¤æ£€æŸ¥è¡¨ï¼ˆCopy-Paste ä½¿ç”¨ï¼‰ï¼š**

```tsx
// æœç´¢å¹¶æ›¿æ¢è¿™äº›å±é™©æ¨¡å¼ï¼š
background: '#fff'           â†’ background: 'var(--bg-light-base)'
background: 'white'          â†’ background: 'var(--bg-light-base)'
background: rgb(255,255,255) â†’ background: 'var(--bg-light-base)'
color: '#666'                â†’ color: 'var(--text-muted)'
color: '#1890ff'             â†’ color: 'var(--brand)'

// å¿…é¡»æ·»åŠ çš„ç±»åï¼š
<div style={{ background: 'æµ…è‰²' }}>  â†’ <div className="light-theme-force" style={{ background: 'æµ…è‰²' }}>
```* çš„å•†ä¸šåŒ– UIï¼›åœ¨ä¸ç‰ºç‰²å¤æ‚äº¤äº’æ•ˆç‡çš„å‰æä¸‹ï¼Œå»ºç«‹ **å“ç‰ŒåŒ–è½»ç»„ä»¶ä½“ç³»** ä¸ **ç»Ÿä¸€åŠ¨æ•ˆ/ä»¤ç‰Œ**ï¼Œå¹¶ä¿æŒ **æ¨¡å—åŒ–**ï¼ˆå•æ–‡ä»¶ â‰¤500 è¡Œï¼‰ã€‚

---

## 0) æˆåŠŸæ ‡å‡†ï¼ˆä¸€çœ¼çœ‹æ‡‚ï¼‰

- **å“ç‰Œä¸€è‡´**ï¼šé¢œè‰²/åœ†è§’/é˜´å½±/å¯†åº¦/å­—å·ç”± **Design Tokensï¼ˆCSS å˜é‡ï¼‰** é©±åŠ¨ï¼Œæ‰€æœ‰é¡µé¢è§‚æ„Ÿä¸€è‡´ã€‚
- **è½»ç»„ä»¶æ›´å¥½çœ‹**ï¼šæŒ‰é’®/å¡ç‰‡/æ ‡ç­¾/å¼¹å±‚ç­‰**é«˜æ›å…‰è½»ç»„ä»¶**ç”± **Radix+shadcnï¼ˆæºç å…¥åº“ï¼‰+Tailwind çš®è‚¤** å®ç°ï¼Œè´¨æ„Ÿç°ä»£ã€‚
- **é‡ç»„ä»¶çœå¿ƒ**ï¼šè¡¨å•/è¡¨æ ¼/ä¸Šä¼ /æ ‘/æ—¥æœŸ/æŠ½å±‰/æ­¥éª¤ ç­‰**é‡ç»„ä»¶**ç»§ç»­ç”¨ **AntD v5**ï¼Œ**ä¸è¦†å†™ `.ant-*`**ï¼Œä»…é€šè¿‡ tokens ä¸å¤–å±‚å®¹å™¨çš®è‚¤å¯¹é½ã€‚
- **ç»Ÿä¸€åŠ¨æ•ˆ**ï¼šä½¿ç”¨ **Motion** ç»Ÿä¸€æ‚¬åœ/å…¥åœº/è½¬åœºï¼ˆå…¥åœº 180â€“220msã€ç¦»åœº 120â€“160msã€æ‚¬åœ 80â€“120msã€ease-outï¼‰ã€‚
- **A11y ä¸æ¡Œé¢**ï¼šé”®ç›˜å¯è¾¾ã€å¯è§ç„¦ç‚¹ç¯ã€æš—é»‘å¯¹æ¯”è¾¾æ ‡ï¼›Tauri æ ‡é¢˜æ æ‹–æ‹½/æ‰˜ç›˜/å¿«æ·é”®ä¸å—å½±å“ã€‚
- **æ¨¡å—åŒ–å¯ç»´æŠ¤**ï¼šç›®å½•åˆ†å±‚æ¸…æ™°ï¼›å•æ–‡ä»¶ â‰¤500 è¡Œï¼›å‡çº§ AntD æˆ–æ›¿æ¢è½»ç»„ä»¶æ— ç—›ã€‚

---

## 1) åœ°ä½é‡è°ƒï¼ˆè°è´Ÿè´£å¤–è§‚ï¼Œè°è´Ÿè´£å¤æ‚åº¦ï¼‰

- **Tailwindï¼ˆ+Design Tokensï¼‰= è§†è§‰æ‰€æœ‰è€…**ï¼šå“ç‰Œè‰²æ¿ã€åœ†è§’ã€é˜´å½±ã€å¯†åº¦ã€æ’ç‰ˆã€å¸ƒå±€ä¸å“åº”å¼ï¼›ä»…åœ¨**å®¹å™¨ä¸è‡ªæœ‰ç»„ä»¶**ä¸Šä½¿ç”¨ï¼Œä¸è¿›å…¥ AntD å†…éƒ¨æ”¹å¦†ã€‚
- **Radix + shadcn/ui = è½»ç»„ä»¶æºç **ï¼šButton / Card / Tag / Tooltip / Dialog / Dropdown ç­‰æ”¾å…¥ `components/ui`ï¼Œä½œä¸ºâ€œå¤–è§‚æ‹…å½“â€ã€‚
- **Ant Design v5 = é‡ç»„ä»¶ä¸ç”Ÿäº§åŠ›**ï¼šForm / Table / Upload / Tree / DatePicker / Drawer / Stepsâ€¦â€¦é€šè¿‡ **`ConfigProvider` tokens** ä¸**é€‚é…å±‚**ç»Ÿä¸€ï¼Œä¸è¦†å†™å†…éƒ¨æ ·å¼ã€‚
- **Motion = åŠ¨æ•ˆç»Ÿä¸€**ï¼šç»Ÿä¸€èŠ‚å¥ã€ç»Ÿä¸€æ›²çº¿ã€ç»Ÿä¸€è¿›å…¥/ç¦»å¼€/æ‚¬åœæ–¹æ¡ˆã€‚

**åšå†³ä¸è¦**ï¼š

- ä¸è¦ç”¨ Tailwind/CSS å»è¦†ç›– `.ant-*` æˆ– `!important`ï¼›
- ä¸è¦åœ¨ AntD å­å…ƒç´ ä¸ŠåŠ è‡ªå®šä¹‰æ¸å˜/é˜´å½±/åœ†è§’ï¼›
- ä¸è¦è®©å¤šä¸ªé¡µé¢å„è‡ªâ€œåˆ›æ–°â€æ¸å˜/é˜´å½±ï¼Œå¿…é¡»èµ° tokens ä¸è½»ç»„ä»¶çš®è‚¤ã€‚

---

## 2) è®¾è®¡ä»¤ç‰Œï¼ˆSingle Source of Truthï¼‰

åœ¨ `styles/tokens.css` å®šä¹‰ï¼š

```css
/* åŸºç¡€å“ç‰Œè‰² */
--brand            # ä¸»å“ç‰Œè‰²ï¼ˆä¾‹å¦‚ #6E8BFFï¼‰

/* èƒŒæ™¯å±‚çº§ */
--bg-base          # é¡µé¢æ·±è‰²åº•
--bg-elevated      # æµ®å±‚/é¢æ¿åº•
--bg-secondary     # æ¬¡çº§èƒŒæ™¯

/* å±€éƒ¨æµ…è‰²ç»„ä»¶ä¸“ç”¨ï¼ˆå…³é”®ï¼ï¼‰ */
--bg-light-base    # æµ…è‰²ç»„ä»¶ç™½åº• (#FFFFFF)
--bg-light-elevated # æµ…è‰²ç»„ä»¶æå‡èƒŒæ™¯ (#F8FAFC)
--bg-light-secondary # æµ…è‰²ç»„ä»¶æ¬¡çº§èƒŒæ™¯ (#F1F5F9)
--text-inverse     # æµ…è‰²èƒŒæ™¯ä¸‹çš„æ·±è‰²æ–‡å­— (#1E293B)
--text-muted       # æ¬¡è¦æ–‡å­—é¢œè‰² (#94A3B8)

/* ä¿¡æ¯è‰²å½© */
--info             # ä¿¡æ¯è‰² (#3B82F6)
--info-bg          # ä¿¡æ¯èƒŒæ™¯ (#DBEAFE)
--success          # æˆåŠŸè‰² (#10B981)  
--success-bg       # æˆåŠŸèƒŒæ™¯ (#D1FAE5)
--warning          # è­¦å‘Šè‰² (#F59E0B)
--warning-bg       # è­¦å‘ŠèƒŒæ™¯ (#FEF3C7)
--error            # é”™è¯¯è‰² (#EF4444)
--error-bg         # é”™è¯¯èƒŒæ™¯ (#FEE2E2)

/* å¸ƒå±€ä¸æ§ä»¶ */
--text-1 / --text-2  # ä¸»/æ¬¡æ–‡æœ¬
--radius           # ç»Ÿä¸€åœ†è§’ï¼ˆå»ºè®® 10â€“14pxï¼‰
--shadow           # ç»Ÿä¸€é˜´å½±ï¼ˆè½¯é˜´å½±ï¼Œå•†ä¸šåŒ–ï¼‰
--font             # åŸºç¡€å­—å·
--control-h        # æ§ä»¶é«˜åº¦ï¼ˆ40/36 ä¸¤æ¡£ï¼‰
--border-muted     # è¾¹æ¡†é¢œè‰² (#D1D5DB)

/* æµ…è‰²ä¸»é¢˜å¼ºåˆ¶è¦†ç›–ç±»ï¼ˆè§£å†³ Ant Design ç»§æ‰¿é—®é¢˜ï¼‰ */
.light-theme-force {
  color: var(--text-inverse) !important;
}
.light-theme-force .ant-typography,
.light-theme-force .ant-typography-title,
.light-theme-force .ant-typography-paragraph {
  color: var(--text-inverse) !important;
}
.light-theme-force .ant-typography-secondary {
  color: var(--text-muted) !important;
}
```

**å…³é”®åŸåˆ™**ï¼š

- **å…¨å±€æš—è‰² + å±€éƒ¨æµ…è‰²ç»„ä»¶**ï¼šæ•´ä½“ UI ä¿æŒæš—è‰²ä¸»é¢˜ï¼Œä½†ç‰¹å®šç»„ä»¶ï¼ˆå¦‚å¼¹çª—å†…å®¹ã€æç¤ºå¡ç‰‡ã€ä¿¡æ¯é¢æ¿ï¼‰å¯ä»¥ä½¿ç”¨æµ…è‰²èƒŒæ™¯ä»¥çªå‡ºå†…å®¹ï¼Œ**å¿…é¡»é…å¥—ä½¿ç”¨ `--text-inverse` ç¡®ä¿æ–‡å­—å¯è¯»æ€§**
- **ç¦æ­¢ç¡¬ç¼–ç é¢œè‰²**ï¼šæ‰€æœ‰é¢œè‰²å€¼å¿…é¡»é€šè¿‡ CSS å˜é‡å®šä¹‰ï¼Œä¾¿äºä¸»é¢˜åˆ‡æ¢å’Œå“ç‰Œå®šåˆ¶
- **æµ…è‰²ç»„ä»¶æœ€ä½³å®è·µ**ï¼š
  ```css
  /* âœ… æ­£ç¡®ï¼šæµ…è‰²èƒŒæ™¯ + æ·±è‰²æ–‡å­— */
  .light-component {
    background: var(--bg-light-elevated, #f8fafc);
    color: var(--text-inverse, #1e293b);
  }
  
  /* âŒ é”™è¯¯ï¼šæµ…è‰²èƒŒæ™¯ä½†ç»§æ‰¿äº†å…¨å±€ç™½è‰²æ–‡å­— */
  .broken-component {
    background: #f8fafc; /* ç¡¬ç¼–ç  + æ²¡æœ‰æŒ‡å®šæ–‡å­—é¢œè‰² */
  }
  ```

- **Ant Design ç»„ä»¶é¢œè‰²ç»§æ‰¿é—®é¢˜è§£å†³æ–¹æ¡ˆ**ï¼š
  ```tsx
  // âŒ é—®é¢˜ï¼šAnt Design ç»„ä»¶ä¼šç»§æ‰¿å…¨å±€é¢œè‰²ï¼Œå³ä½¿çˆ¶å®¹å™¨è®¾ç½®äº†å±€éƒ¨é¢œè‰²
  <Card style={{ background: 'var(--bg-light-base)', color: 'var(--text-inverse)' }}>
    <Title>æ ‡é¢˜</Title> {/* ä»ç„¶æ˜¯ç™½è‰²æ–‡å­—ï¼ */}
    <Text>å†…å®¹</Text> {/* ä»ç„¶æ˜¯ç™½è‰²æ–‡å­—ï¼ */}
  </Card>
  
  // âœ… è§£å†³æ–¹æ¡ˆ1ï¼šä¸ºæ¯ä¸ª Ant Design ç»„ä»¶æ˜¾å¼è®¾ç½®é¢œè‰²
  <Card style={{ background: 'var(--bg-light-base)' }}>
    <Title style={{ color: 'var(--text-inverse) !important' }}>æ ‡é¢˜</Title>
    <Text style={{ color: 'var(--text-inverse)' }}>å†…å®¹</Text>
  </Card>
  
  // âœ… è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨ CSS ç±»è¿›è¡Œç»Ÿä¸€è¦†ç›–
  .light-theme-override {
    color: var(--text-inverse) !important;
  }
  .light-theme-override .ant-typography {
    color: var(--text-inverse) !important;
  }
  .light-theme-override .ant-typography-secondary {
    color: var(--text-muted) !important;
  }
  ```

- **å¼ºåˆ¶é¢œè‰²è¦†ç›–è§„åˆ™**ï¼š
  - å¯¹äºæµ…è‰²èƒŒæ™¯çš„å®¹å™¨ï¼Œå¿…é¡»ä¸ºæ‰€æœ‰å­å…ƒç´ ï¼ˆåŒ…æ‹¬ Ant Design ç»„ä»¶ï¼‰æ˜¾å¼è®¾ç½®æ–‡å­—é¢œè‰²
  - ä½¿ç”¨ `!important` æ¥è¦†ç›– Ant Design çš„é»˜è®¤æ ·å¼
  - åˆ›å»ºä¸“é—¨çš„ CSS ç±»æ¥å¤„ç†ä¸»é¢˜è¦†ç›–ï¼Œé¿å…åœ¨æ¯ä¸ªç»„ä»¶ä¸­é‡å¤è®¾ç½®
  - **å¼ºåˆ¶è¦æ±‚**ï¼šä»»ä½•åŒ…å«æµ…è‰²èƒŒæ™¯çš„ç»„ä»¶éƒ½å¿…é¡»æ·»åŠ  `.light-theme-force` ç±»

**è¦æ±‚**ï¼š

- Tailwind åœ¨ `tailwind.config.ts` è¯»å–ä¸Šè¿°å˜é‡ï¼›
- AntD åœ¨é¡¶å±‚ `ConfigProvider` ç”¨ `algorithm:[theme.darkAlgorithm]` å¹¶ä»¥ tokens å¯¹é½ï¼ˆä»…å°‘é‡å¿…è¦ tokenï¼‰ï¼›
- **å¼ºåˆ¶è¦æ±‚**ï¼šä»»ä½•ä½¿ç”¨æµ…è‰²èƒŒæ™¯çš„ç»„ä»¶éƒ½å¿…é¡»æ˜¾å¼è®¾ç½® `color: var(--text-inverse)` æˆ–å¯¹åº”çš„æ–‡å­—é¢œè‰²å˜é‡ï¼›
- è§†è§‰å˜æ›´åªèƒ½æ”¹ tokensï¼Œä¸åœ¨é¡µé¢/ç»„ä»¶ç¡¬ç¼–ç è§†è§‰å€¼ã€‚

---

## 3) ç›®å½•ä¸æ¨¡å—åŒ–çº¦æŸ

```
src/
  styles/          # tokens.cssï¼ˆä»¤ç‰Œï¼‰ã€global.cssï¼ˆå±‚çº§ï¼šantd resetâ†’tailwindï¼‰
  theme/           # ThemeBridge.tsxï¼ˆAntD ä¸»é¢˜æ¡¥ï¼‰
  components/
    ui/            # è½»ç»„ä»¶ï¼ˆButton/CardShell/TagPill/Tooltip/SmartDialog/...ï¼‰
    adapters/      # AntD é‡ç»„ä»¶é€‚é…å±‚ï¼ˆAntTableAdapter/AntFormAdapter/...ï¼‰
    patterns/      # é¡µé¢å›¾å…ƒï¼ˆFilterBar/MarketplaceCard/HeaderBar/...ï¼‰
    layout/        # HeaderNav/PageShell/...ï¼ˆä»…ç¼–æ’ä¸æ …æ ¼ï¼‰
  pages/           # æŒ‰é¡µé¢ç»„åˆ patterns
```

- å•æ–‡ä»¶ â‰¤500 è¡Œï¼›è¶…è¿‡å³æ‹†åˆ†ã€‚
- `pages/` åªåšç¼–æ’ï¼›è§†è§‰åœ¨ `ui/` ä¸ `patterns/` é‡Œï¼›ä¸ AntD çš„è€¦åˆæ”¶æ•›åœ¨ `adapters/`ã€‚

---

## 4) å®æ–½æ­¥éª¤ï¼ˆæœ€å¿«è§æ•ˆçš„è¿ç§»è·¯çº¿ï¼‰

**Phase 0ï¼ˆå½“æ—¥ï¼‰**

1. å»ºç«‹ `styles/tokens.css`ï¼›åœ¨ `tailwind.config.ts` è¯»å–å˜é‡ï¼›
2. `theme/ThemeBridge.tsx`ï¼š`algorithm:[theme.darkAlgorithm]` + å¯¹é½ tokensï¼›
3. æ¸…ç†æ‰€æœ‰ `.ant-*` è¦†ç›–/`!important`ï¼Œä¿è¯ AntD é‡ç»„ä»¶å›åˆ°â€œå¯è¢« tokens é©±åŠ¨â€çš„çŠ¶æ€ã€‚

**Phase 1ï¼ˆ1â€“2 å¤©è§æ•ˆï¼‰** 4. è½åœ° `components/ui`ï¼š`Button / CardShell / TagPill / SmartDialog` ç­‰**è½»ç»„ä»¶**ï¼› 5. ç”¨ `patterns/*` é‡å†™é«˜æ›å…‰åŒºåŸŸï¼ˆé¡µå¤´/ç­›é€‰/å¡ç‰‡ï¼‰ï¼Œ**æ”¹è§‚ç«‹åˆ»ç°ä»£**ï¼› 6. æ¥å…¥ **Motion**ï¼Œç»Ÿä¸€æ‚¬åœ/å…¥åœºèŠ‚å¥ã€‚

**Phase 2ï¼ˆå¹¶è¡Œï¼‰** 7. ä¸º AntD é‡ç»„ä»¶åŠ  **é€‚é…å±‚**ï¼ˆå¯†åº¦ã€ç²˜å¤´ã€æ»šåŠ¨å®¹å™¨ã€åˆ†é¡µä½ç½®ï¼‰ï¼Œ**ä¸è¦†å†™**å†…éƒ¨ï¼› 8. å®Œæˆå¸¸ç”¨ patternsï¼ˆFilterBar, MarketplaceCard, EmptyState, Skeleton ç­‰ï¼‰ï¼›

**Phase 3ï¼ˆæ”¶å°¾ï¼‰** 9. é€é¡µè‡ªæ£€ï¼ˆA11yã€æš—é»‘/ç´§å‡‘ã€åŠ¨æ•ˆä¸€è‡´ã€æ€§èƒ½é¢„ç®—ï¼‰ï¼› 10. æ•´ç†æ–‡æ¡£ï¼štokens è¡¨ã€åŠ¨æ•ˆè§„èŒƒã€è½»ç»„ä»¶ç”¨æ³•ã€AntD é€‚é…çº¦å®šã€‚

---

## 5) Do / Donâ€™tï¼ˆè½åœ°å®ˆåˆ™ï¼‰

**Do**

- åœ¨å®¹å™¨ä¸è‡ªæœ‰è½»ç»„ä»¶ä¸Šä½¿ç”¨ Tailwindï¼›
- é€šè¿‡ tokens æ”¹å¤–è§‚ï¼›
- é‡ç»„ä»¶ç”¨ AntDï¼Œè½»ç»„ä»¶ç”¨è‡ªæœ‰æºç ï¼ˆRadix/shadcn + Tailwind çš®è‚¤ï¼‰ï¼›
- ç»Ÿä¸€åŠ¨æ•ˆï¼ˆMotionï¼‰ã€‚

**Donâ€™t**

- ä¸è¦†å†™ `.ant-*` / ä¸ä½¿ç”¨ `!important`ï¼›
- ä¸åœ¨ AntD å­å…ƒç´ åŠ æ¸å˜/é˜´å½±/åœ†è§’ï¼›
- ä¸åˆ†æ•£å®šä¹‰é¢œè‰²/é˜´å½±ï¼ˆç»Ÿä¸€èµ° tokensï¼‰ã€‚

---

## 6) åŠ¨æ•ˆä¸å¯è®¿é—®æ€§

- èŠ‚å¥ï¼šEnter 180â€“220ms / Exit 120â€“160ms / Hover 80â€“120msï¼›
- æ›²çº¿ï¼šease-outï¼ˆæˆ– cubic-bezier(0.22, 1, 0.36, 1)ï¼‰ï¼›
- ç„¦ç‚¹ï¼šå¯è§ `:focus-visible`ï¼ˆå“ç‰Œè‰² 2px, offset 2pxï¼‰ï¼›
- é”®ç›˜å¯è¾¾/è¯»å±è¯­ä¹‰éµå¾ª Radix/AntD é»˜è®¤å®ç°ã€‚

---

## 7) Tauri æ¡Œé¢ç‰¹æ€§

- è‡ªç»˜æ ‡é¢˜æ ï¼š`.titlebar { -webkit-app-region: drag }`ï¼›äº¤äº’åŒº `no-drag`ï¼›
- ä¸‰å¹³å° DPI/å­—ä½“å›å½’ï¼›æ‰˜ç›˜/å¿«æ·é”®ä¸è‡ªåŠ¨æ›´æ–°ä¿æŒä¸å˜ï¼›
- å®‰å…¨ï¼šæœ€å°åŒ– allowlistï¼ŒCSP é™åˆ¶èµ„æºæ¥æºã€‚

---

## 8) æ€§èƒ½é¢„ç®—

- é¦–å± CSS < 100KBï¼ˆTailwind æŒ‰éœ€ï¼‰ï¼›
- AntD ç»„ä»¶æŒ‰éœ€å¼•å…¥ï¼›å¤§è¡¨è™šæ‹ŸåŒ–ï¼›è·¯ç”±åˆ†åŒ…ï¼›å›¾ç‰‡æ‡’åŠ è½½ï¼›
- åŠ¨æ•ˆé¿å…æ˜‚è´µæ»¤é•œï¼›å°½é‡ç”¨ transform/opacityã€‚

---

## 9) äº¤ä»˜ç‰©ä¸éªŒæ”¶

**äº¤ä»˜**

- `tokens.css`ã€`tailwind.config.ts`ã€`ThemeBridge.tsx`ï¼›
- `components/ui/*`ã€`components/adapters/*`ã€`components/patterns/*`ï¼›
- å…³é”®é¡µé¢ PRï¼ˆæ”¹é€ å‰/åæˆªå›¾ã€åŠ¨æ•ˆå½•å±ã€A11y æŠ¥å‘Šï¼‰ã€‚

**é€é¡µè‡ªæ£€æ¸…å•**

- [ ] æ˜¯å¦å­˜åœ¨ `.ant-*` è¦†ç›–/`!important`ï¼ˆå¿…é¡» 0ï¼‰ã€‚
- [ ] é«˜æ›å…‰è½»ç»„ä»¶æ˜¯å¦å·²æ›¿ä¸º `ui/*`ï¼ˆæŒ‰é’®/å¡ç‰‡/æ ‡ç­¾/å¼¹å±‚ï¼‰ã€‚
- [ ] AntD é‡ç»„ä»¶æ˜¯å¦é€šè¿‡ `adapters/*` åŒ…è£…ï¼ˆæ— å†…éƒ¨è¦†å†™ï¼‰ã€‚
- [ ] åŠ¨æ•ˆèŠ‚å¥æ˜¯å¦ç»Ÿä¸€ã€ç„¦ç‚¹ç¯æ˜¯å¦å¯è§ã€‚
- [ ] æš—é»‘/ç´§å‡‘æ¨¡å¼æ—  UI ç ´åï¼ŒDPI/ç¼©æ”¾æ— å¼‚å¸¸ã€‚
- [ ] é¦–å± CSS/ä½“ç§¯ä¸äº¤äº’æ€§èƒ½ç¬¦åˆé¢„ç®—ã€‚

---

## 10) ä»£ç è¾“å‡ºé£æ ¼ï¼ˆç»™ AI/å›¢é˜Ÿçš„ç¡¬æ€§è¦æ±‚ï¼‰

- **æ‰€æœ‰ä»£ç æ–‡ä»¶é¦–è¡Œ**å†™æ³¨é‡Šæ ‡æ˜â€œæ–‡ä»¶è·¯å¾„â€ï¼Œä¸”**ä¸­æ–‡æ³¨é‡Š**è§£é‡Šæ„å›¾ï¼›
- ç»„ä»¶ä¸æ ·å¼åˆ†å±‚ï¼š`ui`ï¼ˆè½»ç»„ä»¶ï¼‰â†’`patterns`ï¼ˆå›¾å…ƒï¼‰â†’`pages`ï¼ˆç¼–æ’ï¼‰ï¼›
- ä¸è¿”å›è¶… 500 è¡Œçš„å•æ–‡ä»¶ï¼›
- è‹¥ç¤ºä¾‹æ¶‰åŠ AntDï¼Œ**ç¦æ­¢**å†™ `.ant-*` è¦†ç›–ï¼›
- è‹¥ç¤ºä¾‹æ¶‰åŠ Radix/shadcnï¼Œéœ€ä¿ç•™ A11y å±æ€§ä¸é”®ç›˜äº¤äº’ã€‚

---

# Complete Prompt (English)

> **Role**: Brand-first Front-end Refactor Engineer
> **Stack**: **Tauri + React 18 + TypeScript + Tailwind CSS + Ant Design v5 + Radix UI + shadcn/ui + Motion** > **Goal**: Turn an AntD-native-looking app into a **modern, consumer-grade, brand-first UI** without losing heavy-widget productivity. Keep **modularity** (â‰¤500 lines per file).

## 0) Success Criteria

- **Brand consistency** via **CSS tokens**; unified colors/radius/shadows/density/typography.
- **Light components look premium**: implemented with **Radix + shadcn (source-in) + Tailwind skin**.
- **Heavy components stable**: AntD v5 for forms/tables/trees/date etc., **no `.ant-*` overrides**; align via tokens & container skin.
- **Unified motion** with **Motion** (enter 180â€“220ms, exit 120â€“160ms, hover 80â€“120ms, ease-out).
- **A11y & desktop** intact; Tauri-specific behaviors preserved.

## 1) Positioning

- **Tailwind (+ tokens) owns visuals** (brand system, layout, density). Use on containers & your own components.
- **Radix + shadcn** own **light components** (Button/Card/Tag/Tooltip/Dialog/Dropdown).
- **AntD v5** owns **heavy widgets** (Form/Table/Upload/Tree/DatePicker/Drawer/Steps). No internal overrides.
- **Motion** standardizes animation.

## 2) Tokens (SSOT)

Define in `styles/tokens.css`: `--brand, --bg-base, --bg-elevated, --text-1, --text-2, --radius, --shadow, --font, --control-h`. Tailwind reads them; AntD receives them via `ConfigProvider` with `darkAlgorithm`.

## 3) Structure & Modularity

Layered folders: `styles/`, `theme/`, `components/ui`, `components/adapters`, `components/patterns`, `components/layout`, `pages/`. Files â‰¤500 lines.

## 4) Rollout (fast track)

Phase 0: tokens + theme bridge, remove overrides.
Phase 1: ship light UI kit (Button/CardShell/TagPill/Dialog) + Motion; refactor high-exposure areas.
Phase 2: AntD adapters for heavy widgets; build patterns.
Phase 3: page audits (A11y, dark/compact, motion, perf); docs.

## 5) Do / Donâ€™t

**Do**: tokens drive visuals; Tailwind on containers/own components; Radix/shadcn for light UI; AntD for heavy widgets; unified Motion.
**Donâ€™t**: override `.ant-*` or use `!important`; add gradients/shadows/radius inside AntD internals; define ad-hoc colors.

## 6) Motion & A11y

Enter 180â€“220ms / Exit 120â€“160ms / Hover 80â€“120ms; ease-out. Focus ring visible; keyboard navigation preserved.

## 7) Tauri specifics

Custom titlebar drag region; DPI/typography checks; keep updater/tray/hotkeys; minimal allowlist & CSP.

## 8) Perf Budget

First-screen CSS <100KB; tree-shake AntD; virtualize large lists; route-split; lazy images; animation on transform/opacity only.

## 9) Deliverables & Page-by-Page Audit

Deliver tokens/config/bridge; light UI kit; AntD adapters; patterns; PRs with screenshots & motion clips.
Audit checklist: 0 overrides, light components in place, AntD via adapters, uniform motion, dark/compact OK, perf OK.

## 10) Code Output Policy

Every file starts with a file-path comment; Chinese comments welcomed for clarity; no single file >500 lines; no `.ant-*` overrides; keep A11y when using Radix/shadcn.
