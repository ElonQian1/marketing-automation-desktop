<div role="button" tabindex="0" aria-disabled="false" aria-roledescription="sortable" aria-describedby="DndDescribedBy-0" style="opacity: 1; z-index: auto; touch-action: none;"><div class="modern-draggable-step-card _darkThemeCard_1srb3_13 " style="position: relative; background: rgb(30, 41, 59); color: rgb(248, 250, 252); border: 1px solid rgb(51, 65, 85); border-radius: 12px; padding: 16px; min-height: 80px; font-size: 14px; font-weight: 400; line-height: 1.5; cursor: grab; box-shadow: rgba(0, 0, 0, 0.12) 0px 1px 3px;"><div style="position: absolute; left: 6px; top: 50%; transform: translateY(-50%); width: 4px; height: 20px; background: var(--text-3, #CBD5E1); border-radius: 2px; opacity: 0.5; cursor: grab; transition: all var(--duration-fast, 120ms);"></div><div style="margin-left: 16px; display: flex; flex-direction: column; gap: 12px;"><div class="step-header" style="display: flex; align-items: flex-start; justify-content: space-between; gap: 8px; flex-wrap: wrap; min-width: 0px;"><div style="display: flex; align-items: center; gap: 12px; flex: 1 1 0%; min-width: 0px;"><div style="width: 28px; height: 28px; border-radius: 50%; background: var(--brand-gradient-primary, linear-gradient(135deg, #6E8BFF 0%, #8B5CF6 100%)); display: flex; align-items: center; justify-content: center; color: rgb(255, 255, 255); font-size: 13px; font-weight: 600; flex-shrink: 0; box-shadow: rgba(110, 139, 255, 0.3) 0px 2px 8px;">1</div><h4 style="margin: 0px; font-size: 16px; font-weight: 500; color: rgb(248, 250, 252); flex: 1 1 0%; line-height: 1.25; min-width: 0px; word-break: break-word; overflow-wrap: break-word;">智能分析 - element_32</h4></div><div class="button-group" style="display: flex; align-items: center; gap: 4px; flex-wrap: wrap; justify-content: flex-end; min-width: 0px; flex-shrink: 1; max-width: 100%;"><div style="display: flex; align-items: center; gap: 4px; flex-wrap: wrap;"><button type="button" class="ant-btn css-dev-only-do-not-override-1ao1prk ant-btn-default ant-btn-color-default ant-btn-variant-outlined ant-btn-sm ant-dropdown-trigger" style="background: rgba(110, 139, 255, 0.1); border: 1px solid rgba(110, 139, 255, 0.3); color: rgb(248, 250, 252); font-size: 12px;"><span>🧠 智能·自动链</span><span style="color: rgb(16, 185, 129); font-size: 12px; margin-left: 4px;">✅</span><span style="margin-left: 4px;">▾</span></button><button type="button" class="ant-btn css-dev-only-do-not-override-1ao1prk ant-btn-default ant-btn-color-default ant-btn-variant-outlined ant-btn-sm ant-dropdown-trigger" style="background: rgba(110, 139, 255, 0.1); border: 1px solid rgba(110, 139, 255, 0.3); color: rgb(248, 250, 252); font-size: 12px;"><span>🎯 第一个</span><span style="color: rgb(16, 185, 129); font-size: 12px; margin-left: 4px;">✅</span><span style="margin-left: 4px;">▾</span></button><button type="button" class="ant-btn css-dev-only-do-not-override-1ao1prk ant-btn-default ant-btn-color-default ant-btn-variant-outlined ant-btn-sm ant-dropdown-trigger" style="background: rgba(110, 139, 255, 0.1); border: 1px solid rgba(110, 139, 255, 0.3); color: rgb(248, 250, 252); font-size: 12px;"><span>👆 点击</span><span style="color: rgb(16, 185, 129); font-size: 12px; margin-left: 4px;">✅</span><span style="margin-left: 4px;">▾</span></button><div style="display: flex; gap: 2px;"><button aria-describedby="«r35»" type="button" class="ant-btn css-dev-only-do-not-override-1ao1prk ant-btn-text ant-btn-color-default ant-btn-variant-text ant-btn-sm ant-btn-icon-only" style="color: rgb(100, 116, 139); border: none; padding: 2px 4px; min-width: 24px; height: 24px;"><span class="ant-btn-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-ccw" aria-hidden="true"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"></path><path d="M16 16h5v5"></path></svg></span></button><button aria-describedby="«r37»" type="button" class="ant-btn css-dev-only-do-not-override-1ao1prk ant-btn-text ant-btn-color-default ant-btn-variant-text ant-btn-sm ant-btn-icon-only" style="color: rgb(100, 116, 139); border: none; padding: 2px 4px; min-width: 24px; height: 24px;"><span class="ant-btn-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-list" aria-hidden="true"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg></span></button><button aria-describedby="«r39»" type="button" class="ant-btn css-dev-only-do-not-override-1ao1prk ant-btn-text ant-btn-color-default ant-btn-variant-text ant-btn-sm ant-btn-icon-only" style="color: rgb(100, 116, 139); border: none; padding: 2px 4px; min-width: 24px; height: 24px;"><span class="ant-btn-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search" aria-hidden="true"><path d="m21 21-4.34-4.34"></path><circle cx="11" cy="11" r="8"></circle></svg></span></button></div><button aria-describedby="«r3b»" type="button" class="ant-btn css-dev-only-do-not-override-1ao1prk ant-btn-text ant-btn-color-default ant-btn-variant-text ant-btn-sm ant-btn-icon-only" style="color: rgb(100, 116, 139); border: none; padding: 2px 4px; min-width: 24px; height: 24px;"><span class="ant-btn-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ellipsis" aria-hidden="true"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg></span></button></div><button type="button" title="原始XML快照 2025/10/31 01:18:57" style="border: 1px solid rgb(51, 65, 85); background: rgba(59, 130, 246, 0.1); color: rgb(59, 130, 246); cursor: pointer; padding: 2px 6px; border-radius: 12px; font-size: 10px; font-family: monospace; line-height: 1.2; white-space: nowrap; transition: 120ms cubic-bezier(0, 0, 0.2, 1);">XML PD94bWw •01:18</button><button type="button" title="配置失败处理策略" class="ant-dropdown-trigger" style="border: 1px solid rgb(51, 65, 85); background: rgba(59, 130, 246, 0.1); color: rgb(59, 130, 246); cursor: pointer; padding: 2px 6px; border-radius: 12px; font-size: 10px; font-family: system-ui, -apple-system, sans-serif; line-height: 1.2; white-space: nowrap; transition: 120ms cubic-bezier(0, 0, 0.2, 1);">失败时🛑 终止 ▾</button><span><button aria-describedby="«r3l»" type="button" class="ant-btn css-dev-only-do-not-override-1ao1prk ant-btn-default ant-btn-color-default ant-btn-variant-outlined ant-btn-sm text-blue-600 border-blue-300 hover:border-blue-400 step-action-btn" disabled="" style="min-width: 60px;"><span class="ant-btn-icon"><span role="img" aria-label="play-circle" class="anticon anticon-play-circle"><svg viewBox="64 64 896 896" focusable="false" data-icon="play-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path d="M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"></path></svg></span></span><span>测试</span></button></span><button type="button" title="编辑步骤" style="border: none; background: transparent; cursor: pointer; padding: 8px; border-radius: 6px; color: rgb(226, 232, 240); font-size: 14px; transition: 120ms cubic-bezier(0, 0, 0.2, 1);">✏️</button><button type="button" title="禁用步骤" style="border: none; background: transparent; cursor: pointer; padding: 8px; border-radius: 6px; color: rgb(16, 185, 129); font-size: 14px; transition: 120ms cubic-bezier(0, 0, 0.2, 1);">✅</button><button type="button" title="删除步骤" style="border: none; background: transparent; cursor: pointer; padding: 8px; border-radius: 6px; color: rgb(203, 213, 225); font-size: 14px; transition: 120ms cubic-bezier(0, 0, 0.2, 1);">🗑️</button></div></div><div class="status-indicator" style="display: flex; align-items: center; gap: 8px; padding: 8px 12px; background: rgba(16, 185, 129, 0.1); border-radius: 6px; font-size: 12px;"><span style="color: var(--success, #10B981); font-size: 12px;">✓</span><span style="color: var(--success, #10B981); font-weight: 500;">已启用</span></div><span class="ant-tag ant-tag-orange ant-dropdown-trigger css-dev-only-do-not-override-1ao1prk" style="cursor: pointer; user-select: none; margin-top: 8px; padding: 6px 8px; background: rgba(59, 130, 246, 0.05); border-radius: 6px; border: 1px solid rgba(59, 130, 246, 0.1);"><span role="img" aria-label="safety" class="anticon anticon-safety"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="safety" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"></path><path d="M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"></path></svg></span><span>绝对匹配</span></span><div style="display: flex; align-items: center; gap: 12px; font-size: 13px; color: rgb(203, 213, 225); line-height: 1.5;"><span>类型: smart_find_element</span><span>选择器: element_32</span></div></div></div></div>


VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
PagePreview.tsx:353 🎯 [PagePreview] 元素点击详情
PagePreview.tsx:354 📍 元素ID: element_43
PagePreview.tsx:355 📝 文本: (无)
PagePreview.tsx:356 📝 描述: android.widget.FrameLayout（可点击）
PagePreview.tsx:357 🎨 类别: buttons
PagePreview.tsx:358 📐 显示Bounds: [13,1158][534,2023]
PagePreview.tsx:359 👆 可点击: ✓
PagePreview.tsx:360 📏 面积: 89020.24691358022 px²
PagePreview.tsx:361 🎚️ Z-Index: 57
PagePreview.tsx:362 ⚠️ 是否为"通讯录": 否
PagePreview.tsx:365 🔍 原始UIElement数据:
PagePreview.tsx:366 (索引)值bottomleftrighttop(索引)值bottomleftrighttopid'element_43'text'(无)'content_desc'(无)'resource_id'com.xingin.xhs:id/0_resource_name_obfuscated'class_name'android.view.ViewGroup'bounds2240135342036Object
useElementSelectionManager.ts:77 🚀 [useElementSelectionManager] handleElementClick 被调用: {elementId: 'element_43', elementText: '', clickPosition: {…}, isHidden: false, currentPendingSelection: null}
useElementSelectionManager.ts:91 ✅ [useElementSelectionManager] 设置 pendingSelection
useElementSelectionManager.ts:100 📝 [useElementSelectionManager] 新的 selection 状态: {element: {…}, position: {…}, confirmed: false}
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
backend-health-check.ts:89 ✅ Backend health check passed (6ms)
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
ElementSelectionPopover.tsx:184 ⚡ [用户操作] 快速创建步骤卡片
UniversalPageFinderModal.tsx:482 ✅ [UniversalPageFinderModal] 附加xmlCacheId到元素: {elementId: 'element_43', xmlCacheId: 'ui_dump_e0d909c3_20251030_122312.xml'}
useIntelligentStepCardIntegration.ts:768 ⚡ [智能集成] 快速创建步骤: element_43
useIntelligentStepCardIntegration.ts:130 🔄 [convertElementToContext] 接收到的真实UIElement: {id: 'element_43', text: '', content_desc: '', resource_id: '', class_name: '', …}
useElementSelectionManager.ts:126 🔍 confirmSelection called, pendingSelection: {element: {…}, position: {…}, confirmed: false}
useElementSelectionManager.ts:128 ✅ 确认选择元素:  ID: element_43
useElementSelectionManager.ts:131 🧹 正在清除pendingSelection...
useElementSelectionManager.ts:133 🧹 setPendingSelection(null) 已调用
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
useIntelligentStepCardIntegration.ts:169 ✅ [convertElementToContext] 从缓存获取XML成功: {xmlCacheId: 'ui_dump_e0d909c3_20251030_122312.xml', xmlContentLength: 38755, xmlHash: 'sha256:PD94bWwgd...'}
useIntelligentStepCardIntegration.ts:285  ⚠️ [XPath] 元素XPath是相对路径，转换为绝对路径: //element_43
(匿名) @ useIntelligentStepCardIntegration.ts:285
useIntelligentStepCardIntegration.ts:386 🔄 [子元素提取-方案2] child_elements 不可用，尝试从 XML 正则提取
useIntelligentStepCardIntegration.ts:471  ⚠️ [子元素提取] 两种方案都未提取到子元素文本/描述 {hasChildElements: false, hasXmlContent: true, hasBoundsString: true, elementId: 'element_43'}
(匿名) @ useIntelligentStepCardIntegration.ts:471
useIntelligentStepCardIntegration.ts:510 🔍 [父元素查找] 目标元素深度: 33
useIntelligentStepCardIntegration.ts:531 ✅ [父元素查找] 父元素起始位置: 15074
useIntelligentStepCardIntegration.ts:552  ⚠️ [父元素查找] 未找到父元素结束标签
(匿名) @ useIntelligentStepCardIntegration.ts:552
useIntelligentStepCardIntegration.ts:664 🔍 [数据增强] 最终使用的属性（三层合并）: {层级说明: '外层父元素(content-desc) + 中层可点击(bounds/id) + 同层兄弟(text) + 内层子元素(text+content-desc)', 中层_原始text: '', 同层_兄弟元素text: Array(0), 内层_子元素text: Array(0), 内层_子元素contentDesc: Array(0), …}
useIntelligentStepCardIntegration.ts:735 🔄 [convertElementToContext] 转换后的ElementSelectionContext: {elementText: '', contentDesc: '', textAttr: '', resourceId: '', smartMatching: {…}}
ElementSelectionPopover.tsx:200 ✅ [Popover关闭] 快速创建成功，已关闭气泡
use-intelligent-analysis-workflow.ts:662 🎯 [Workflow] 创建快速步骤卡片 {stepId: '1761846272173_tf1nzip6y', context: {…}, lockContainer: false}
use-intelligent-analysis-workflow.ts:434 🔍 [临时] 从localStorage获取选择模式: first
use-intelligent-analysis-workflow.ts:442 🎯 [Selection Mode] 当前用户选择模式: first
analysis-health-service.ts:43 🔍 [HealthService] 开始系统健康检查...
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
useElementSelectionManager.ts:137 📞 延迟调用 onElementSelected 回调
useIntelligentStepCardIntegration.ts:1154 🎯 [智能集成] 元素选择确认 (传统模式): element_43
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
stepcards.ts:186 📝 [StepCardStore] 创建步骤卡片（新方式） {stepId: '1761846272173_tf1nzip6y', cardId: 'card_1761846272973_voo81ut99', data: {…}}
use-intelligent-analysis-workflow.ts:706 🔗 [Bridge] 在统一store中创建对应卡片 {stepId: '1761846272173_tf1nzip6y', unifiedCardId: 'card_1761846272973_voo81ut99', elementUid: '1761846272173_tf1nzip6y'}
analysis-health-service.ts:79 ✅ [HealthService] 健康检查完成 {healthy: true, checks: {…}, errors: Array(0), warnings: Array(0)}
use-intelligent-analysis-workflow.ts:516 🚀 [V3] 使用V3统一执行协议启动智能分析
intelligent-analysis-backend-v3.ts:217  ❌ V3链式执行失败: 获取UI快照失败: UI抓取失败: ADB命令失败: error: device 'default-device' not found

executeChainV3 @ intelligent-analysis-backend-v3.ts:217
await in executeChainV3
(匿名) @ use-intelligent-analysis-workflow.ts:554
use-intelligent-analysis-workflow.ts:569  ⚠️ [V3→V2 回退] V3执行失败，自动回退到V2系统 Error: V3链式执行失败: 获取UI快照失败: UI抓取失败: ADB命令失败: error: device 'default-device' not found

    at IntelligentAnalysisBackendV3.executeChainV3 (intelligent-analysis-backend-v3.ts:218:13)
    at async use-intelligent-analysis-workflow.ts:554:22
    at async use-intelligent-analysis-workflow.ts:714:23
    at async useIntelligentStepCardIntegration.ts:774:24
(匿名) @ use-intelligent-analysis-workflow.ts:569
intelligent-analysis-backend.ts:153 🚀 [BackendService] 启动智能分析 {element_context: {…}, step_id: '1761846272173_tf1nzip6y', lock_container: false, enable_smart_candidates: true, enable_static_candidates: true}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 5, current_step: '初始化分析环境', estimated_time_left: 4750}
logger-config.ts:49 ⚠️ [Workflow] 收到未知任务的进度更新: b0721bdf-d917-4c97-a1f5-8c8d867a434a {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', currentJobs: Array(1)}
devTracer.ts:42 [EVT] analysis:progress {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 5, current_step: '初始化分析环境', estimated_time_left: 4750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 5, current_step: '初始化分析环境', estimated_time_left: 4750}
wire-global-events.ts:124  ⚠️ [GlobalWire] progress事件找不到卡片 {job_id: '867a434a', progress: 5, allJobIds: Array(1)}
(匿名) @ wire-global-events.ts:124
(匿名) @ VM11:272
runCallback @ VM11:284
value @ VM11:366
(匿名) @ VM2387:1
(匿名) @ VM2387:1
devTracer.ts:42 [EVT] analysis:progress {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 5, current_step: '初始化分析环境', estimated_time_left: 4750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 5, current_step: '初始化分析环境', estimated_time_left: 4750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 5, step: '初始化分析环境', estimatedTimeLeft: 4750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 5, current_step: '初始化分析环境', estimated_time_left: 4750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 5, step: '初始化分析环境', estimatedTimeLeft: 4750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 5, current_step: '初始化分析环境', estimated_time_left: 4750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 5, step: '初始化分析环境', estimatedTimeLeft: 4750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 5, current_step: '初始化分析环境', estimated_time_left: 4750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 5, step: '初始化分析环境', estimatedTimeLeft: 4750}
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
VisualElementView.tsx:508 ✅ [VisualElementView] 使用Hook解析的完整元素: {hookCount: 107, propsCount: 63, reason: 'Hook包含所有元素（含不可点击）'}
intelligent-analysis-backend.ts:161 ✅ [BackendService] 分析任务已启动 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', selection_hash: 'ca32c1b61f90', state: 'running'}
use-intelligent-analysis-workflow.ts:578 ✅ [V2 回退] 成功回退到V2系统执行 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a'}
useIntelligentStepCardIntegration.ts:888 ✅ [步骤创建] 验证增强后的数据传递: {原始_element_text: '', 增强_context_elementText: '', 原始_element_content_desc: '', 增强_context_content_desc: '', 最终使用_text: '', …}
useIntelligentStepCardIntegration.ts:813 🏷️ [智能命名] 生成步骤名称: {原始element_text: '', 增强enrichedText: '', 原始element_content_desc: '', 增强enrichedContentDesc: '', 是否中层容器: '', …}
useIntelligentStepCardIntegration.ts:874  ⚠️ [智能命名] 无法找到元素文本，使用通用名称，应触发后端智能分析: element_43
generateSmartName @ useIntelligentStepCardIntegration.ts:874
(匿名) @ useIntelligentStepCardIntegration.ts:904
useIntelligentStepCardIntegration.ts:1109 🔄 [智能集成] 添加步骤前，当前步骤数量: 1
useIntelligentStepCardIntegration.ts:1119 ✅ [智能集成] 步骤卡创建成功: {stepId: '1761846272173_tf1nzip6y', elementId: 'element_43', analysisStarted: true, addedToMainList: true, currentStepsCount: 1, …}
useIntelligentStepCardIntegration.ts:1131 🚪 [智能集成] 已关闭页面查找器
useIntelligentStepCardIntegration.ts:1112 🔄 [智能集成] 添加步骤后，新步骤数量: 2
useIntelligentStepCardIntegration.ts:1113 🔄 [智能集成] 新步骤详情: {id: '1761846272173_tf1nzip6y', name: '智能操作 2', step_type: 'smart_find_element', description: '智能分析 - element_43', enableStrategySelector: true, …}
useIntelligentStepCardIntegration.ts:1112 🔄 [智能集成] 添加步骤后，新步骤数量: 2
useIntelligentStepCardIntegration.ts:1113 🔄 [智能集成] 新步骤详情: {id: '1761846272173_tf1nzip6y', name: '智能操作 2', step_type: 'smart_find_element', description: '智能分析 - element_43', enableStrategySelector: true, …}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25, current_step: '解析页面结构', estimated_time_left: 3750}
devTracer.ts:42 [EVT] analysis:progress {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25, current_step: '解析页面结构', estimated_time_left: 3750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25, current_step: '解析页面结构', estimated_time_left: 3750}
wire-global-events.ts:124  ⚠️ [GlobalWire] progress事件找不到卡片 {job_id: '867a434a', progress: 25, allJobIds: Array(1)}
(匿名) @ wire-global-events.ts:124
(匿名) @ VM11:272
runCallback @ VM11:284
value @ VM11:366
(匿名) @ VM2388:1
(匿名) @ VM2388:1
devTracer.ts:42 [EVT] analysis:progress {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25, current_step: '解析页面结构', estimated_time_left: 3750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25, current_step: '解析页面结构', estimated_time_left: 3750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25, step: '解析页面结构', estimatedTimeLeft: 3750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25, current_step: '解析页面结构', estimated_time_left: 3750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25, step: '解析页面结构', estimatedTimeLeft: 3750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25, current_step: '解析页面结构', estimated_time_left: 3750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25, step: '解析页面结构', estimatedTimeLeft: 3750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25, current_step: '解析页面结构', estimated_time_left: 3750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25, step: '解析页面结构', estimatedTimeLeft: 3750}
use-intelligent-analysis-workflow.ts:213 🎯 [Workflow] 更新步骤卡片进度 {stepId: '1761846272173_tf1nzip6y', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25}
use-intelligent-analysis-workflow.ts:213 🎯 [Workflow] 更新步骤卡片进度 {stepId: '1761846272173_tf1nzip6y', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25}
use-intelligent-analysis-workflow.ts:213 🎯 [Workflow] 更新步骤卡片进度 {stepId: '1761846272173_tf1nzip6y', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25}
use-intelligent-analysis-workflow.ts:213 🎯 [Workflow] 更新步骤卡片进度 {stepId: '1761846272173_tf1nzip6y', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 25}
useElementSelectionManager.ts:219 🧹 [ElementSelectionManager] 执行全局清理
useElementSelectionManager.ts:235 ✅ [ElementSelectionManager] 全局清理完成
zIndexManager.ts:89 📐 [ZIndexManager] 注销模态框: universal-page-finder-modal {activeModals: Array(0), totalActive: 0}
stepcards.ts:237 🔗 [StepCardStore] 绑定Job（支持别名） {cardAnyId: 'card_1761846272973_voo81ut99', canonicalId: 'card_1761846272973_voo81ut99', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a'}
use-intelligent-analysis-workflow.ts:611 🔗 [Bridge] 启动时注册job映射 {stepId: '1761846272173_tf1nzip6y', cardId: 'card_1761846272973_voo81ut99', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a'}
stepcards.ts:237 🔗 [StepCardStore] 绑定Job（支持别名） {cardAnyId: 'card_1761846272973_voo81ut99', canonicalId: 'card_1761846272973_voo81ut99', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a'}
use-intelligent-analysis-workflow.ts:724 🔗 [Bridge] 绑定job到卡片 {cardId: 'card_1761846272973_voo81ut99', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', stepId: '1761846272173_tf1nzip6y'}
stepcards.ts:261 🔄 [StepCardStore] 更新状态 {cardId: 'oo81ut99', status: 'analyzing'}
use-intelligent-analysis-workflow.ts:232 🔗 [Bridge] 同步进度到统一store {cardId: 'oo81ut99', jobId: '867a434a', progress: 25, statusUpdate: 'analyzing'}
stepcards.ts:261 🔄 [StepCardStore] 更新状态 {cardId: 'oo81ut99', status: 'analyzing'}
use-intelligent-analysis-workflow.ts:232 🔗 [Bridge] 同步进度到统一store {cardId: 'oo81ut99', jobId: '867a434a', progress: 25, statusUpdate: 'analyzing'}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 65, current_step: '生成智能策略', estimated_time_left: 1750}
devTracer.ts:42 [EVT] analysis:progress {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 65, current_step: '生成智能策略', estimated_time_left: 1750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 65, current_step: '生成智能策略', estimated_time_left: 1750}
stepcards.ts:261 🔄 [StepCardStore] 更新状态 {cardId: 'oo81ut99', status: 'analyzing'}
analysis-state-store.ts:232 🚀 [AnalysisState] 开始新的分析任务 {jobId: '867a434a'}
devTracer.ts:42 [EVT] analysis:progress {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 65, current_step: '生成智能策略', estimated_time_left: 1750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 65, current_step: '生成智能策略', estimated_time_left: 1750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 65, step: '生成智能策略', estimatedTimeLeft: 1750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 65, current_step: '生成智能策略', estimated_time_left: 1750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 65, step: '生成智能策略', estimatedTimeLeft: 1750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 65, current_step: '生成智能策略', estimated_time_left: 1750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 65, step: '生成智能策略', estimatedTimeLeft: 1750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 65, current_step: '生成智能策略', estimated_time_left: 1750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 65, step: '生成智能策略', estimatedTimeLeft: 1750}
stepcards.ts:261 🔄 [StepCardStore] 更新状态 {cardId: 'oo81ut99', status: 'analyzing'}
use-intelligent-analysis-workflow.ts:232 🔗 [Bridge] 同步进度到统一store {cardId: 'oo81ut99', jobId: '867a434a', progress: 65, statusUpdate: 'analyzing'}
stepcards.ts:261 🔄 [StepCardStore] 更新状态 {cardId: 'oo81ut99', status: 'analyzing'}
use-intelligent-analysis-workflow.ts:232 🔗 [Bridge] 同步进度到统一store {cardId: 'oo81ut99', jobId: '867a434a', progress: 65, statusUpdate: 'analyzing'}
useIntelligentAnalysisAdapter.ts:121 🔗 [Adapter] 组件卸载，但保留全局事件监听器
RealTimeDeviceTracker.ts:188 📱 获取到 0 个设备
adbStore.ts:121 🔄 [adbStore] setDevices 被调用: {deviceCount: 0, deviceIds: Array(0)}
adbStore.ts:131 ✅ [adbStore] devices 状态已更新
adb-application-service.ts:494 👁️ [AdbApplicationService] 启动设备监听服务...
RealTimeDeviceRepository.ts:209 🔌 [RealTimeDeviceRepository] 移除设备变化监听器: {callbackCount: 0}
RealTimeDeviceRepository.ts:166 🔗 [RealTimeDeviceRepository] 注册设备变化监听器: {callbackCount: 1}
RealTimeDeviceRepository.ts:242 ✅ [RealTimeDeviceRepository] 监听器健康检查通过，回调数量: 2
adb-health-service.ts:33 🏥 [AdbHealthService] 启动健康检查...
adb-health-service.ts:74 🔍 [AdbHealthService] 定期诊断检查已启动
adb-application-service.ts:117 ✅ [AdbApplicationService] ADB环境初始化完成
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 85, current_step: '评估策略质量', estimated_time_left: 750}
devTracer.ts:42 [EVT] analysis:progress {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 85, current_step: '评估策略质量', estimated_time_left: 750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 85, current_step: '评估策略质量', estimated_time_left: 750}
stepcards.ts:261 🔄 [StepCardStore] 更新状态 {cardId: 'oo81ut99', status: 'analyzing'}
devTracer.ts:42 [EVT] analysis:progress {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 85, current_step: '评估策略质量', estimated_time_left: 750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 85, current_step: '评估策略质量', estimated_time_left: 750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 85, step: '评估策略质量', estimatedTimeLeft: 750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 85, current_step: '评估策略质量', estimated_time_left: 750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 85, step: '评估策略质量', estimatedTimeLeft: 750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 85, current_step: '评估策略质量', estimated_time_left: 750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 85, step: '评估策略质量', estimatedTimeLeft: 750}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 85, current_step: '评估策略质量', estimated_time_left: 750}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 85, step: '评估策略质量', estimatedTimeLeft: 750}
RealTimeDeviceTracker.ts:188 📱 获取到 0 个设备
DebounceUpdateStrategy.ts:120 [DebounceStrategy] 📱 收到设备变化: {deviceCount: 0, deviceIds: Array(0)}
stepcards.ts:261 🔄 [StepCardStore] 更新状态 {cardId: 'oo81ut99', status: 'analyzing'}
use-intelligent-analysis-workflow.ts:232 🔗 [Bridge] 同步进度到统一store {cardId: 'oo81ut99', jobId: '867a434a', progress: 85, statusUpdate: 'analyzing'}
stepcards.ts:261 🔄 [StepCardStore] 更新状态 {cardId: 'oo81ut99', status: 'analyzing'}
use-intelligent-analysis-workflow.ts:232 🔗 [Bridge] 同步进度到统一store {cardId: 'oo81ut99', jobId: '867a434a', progress: 85, statusUpdate: 'analyzing'}
DebounceUpdateStrategy.ts:120 [DebounceStrategy] ✅ 已更新设备列表(兜底): {oldCount: 0, newCount: 0}
adbStore.ts:121 🔄 [adbStore] setDevices 被调用: {deviceCount: 0, deviceIds: Array(0)}
adbStore.ts:131 ✅ [adbStore] devices 状态已更新
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 95, current_step: '生成分析报告', estimated_time_left: 250}
devTracer.ts:42 [EVT] analysis:progress {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 95, current_step: '生成分析报告', estimated_time_left: 250}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 95, current_step: '生成分析报告', estimated_time_left: 250}
stepcards.ts:261 🔄 [StepCardStore] 更新状态 {cardId: 'oo81ut99', status: 'analyzing'}
devTracer.ts:42 [EVT] analysis:progress {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 95, current_step: '生成分析报告', estimated_time_left: 250}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 95, current_step: '生成分析报告', estimated_time_left: 250}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 95, step: '生成分析报告', estimatedTimeLeft: 250}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 95, current_step: '生成分析报告', estimated_time_left: 250}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 95, step: '生成分析报告', estimatedTimeLeft: 250}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 95, current_step: '生成分析报告', estimated_time_left: 250}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 95, step: '生成分析报告', estimatedTimeLeft: 250}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 95, current_step: '生成分析报告', estimated_time_left: 250}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 95, step: '生成分析报告', estimatedTimeLeft: 250}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100, current_step: '分析完成', estimated_time_left: 0}
devTracer.ts:42 [EVT] analysis:progress {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100, current_step: '分析完成', estimated_time_left: 0}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100, current_step: '分析完成', estimated_time_left: 0}
stepcards.ts:261 🔄 [StepCardStore] 更新状态 {cardId: 'oo81ut99', status: 'analyzing'}
stepcards.ts:278 ✅ [StepCardStore] 分析完成，状态自动切换为ready {cardId: 'oo81ut99', progress: 100}
devTracer.ts:42 [EVT] analysis:progress {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100, current_step: '分析完成', estimated_time_left: 0}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100, current_step: '分析完成', estimated_time_left: 0}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100, step: '分析完成', estimatedTimeLeft: 0}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100, current_step: '分析完成', estimated_time_left: 0}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100, step: '分析完成', estimatedTimeLeft: 0}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100, current_step: '分析完成', estimated_time_left: 0}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100, step: '分析完成', estimatedTimeLeft: 0}
intelligent-analysis-backend.ts:194 📊 [BackendService] 收到分析进度更新 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100, current_step: '分析完成', estimated_time_left: 0}
useIntelligentAnalysisAdapter.ts:91 📊 [Adapter] 收到进度更新 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100, step: '分析完成', estimatedTimeLeft: 0}
use-intelligent-analysis-workflow.ts:213 🎯 [Workflow] 更新步骤卡片进度 {stepId: '1761846272173_tf1nzip6y', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100}
use-intelligent-analysis-workflow.ts:213 🎯 [Workflow] 更新步骤卡片进度 {stepId: '1761846272173_tf1nzip6y', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100}
use-intelligent-analysis-workflow.ts:213 🎯 [Workflow] 更新步骤卡片进度 {stepId: '1761846272173_tf1nzip6y', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100}
use-intelligent-analysis-workflow.ts:213 🎯 [Workflow] 更新步骤卡片进度 {stepId: '1761846272173_tf1nzip6y', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', progress: 100}
devTracer.ts:42 [EVT] analysis:done {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', selection_hash: 'ca32c1b61f90', result: {…}, confidence: 0.8811, evidence: {…}, …}
devTracer.ts:42 [EVT] analysis:done {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', selection_hash: 'ca32c1b61f90', result: {…}, confidence: 0.8811, evidence: {…}, …}
intelligent-analysis-backend.ts:219 ✅ [BackendService] 收到分析完成事件 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', selection_hash: 'ca32c1b61f90', result: {…}, confidence: 0.8811, evidence: {…}, …}
intelligent-analysis-backend.ts:241 🔄 [BackendService] 转换后的结果 {selectionHash: 'ca32c1b61f90', stepId: '1761846272173_tf1nzip6y', smartCandidates: Array(2), staticCandidates: Array(0), recommendedKey: 'self_anchor', …}
use-intelligent-analysis-workflow.ts:247 ✅ [Workflow] 收到分析完成 {jobId: '867a434a', result: {…}}
intelligent-analysis-backend.ts:219 ✅ [BackendService] 收到分析完成事件 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', selection_hash: 'ca32c1b61f90', result: {…}, confidence: 0.8811, evidence: {…}, …}
intelligent-analysis-backend.ts:241 🔄 [BackendService] 转换后的结果 {selectionHash: 'ca32c1b61f90', stepId: '1761846272173_tf1nzip6y', smartCandidates: Array(2), staticCandidates: Array(0), recommendedKey: 'self_anchor', …}
useIntelligentAnalysisAdapter.ts:102 🎉 [Adapter] 收到分析完成回调 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', result: {…}}
wire-global-events.ts:193 🎯 [ROUTE] 从smart_candidates提取最终分数 {jobId: '867a434a', cardId: 'oo81ut99', candidatesCount: 2}
step-score-store.ts:187 🎯 [StepScoreStore] 设置候选项评分 {stepId: '1761846272173_tf1nzip6y', candidateKey: 'self_anchor', confidence: '88%', rawInput: 0.8811}
step-score-store.ts:187 🎯 [StepScoreStore] 设置候选项评分 {stepId: '1761846272173_tf1nzip6y', candidateKey: 'xpath_fallback', confidence: '55%', rawInput: 0.5455000299999999}
wire-global-events.ts:243 🔗 [ROUTE] 生成基于候选项的智能自动链 {jobId: '867a434a', recommended: 'self_anchor', stepsCount: 2}
analysis-state-store.ts:242 🏆 [AnalysisState] 分析任务完成 {jobId: '867a434a', totalSteps: 4}
stepcards.ts:312 ✅ [StepCardStore] 填充策略并就绪 {cardId: 'card_1761846272973_voo81ut99', strategy: {…}}
wire-global-events.ts:308 🔧 [Wire Events] 调用 setSingleStepConfidence {targetCardId: 'oo81ut99', rawConfidence: 0.8811, normalizedConfidence: 0.8811, confidence: 0.8811, source: 'auto_chain', …}
stepcards.ts:380 🎯 [StepCardStore] 设置单步置信度 {cardId: 'oo81ut99', confidence: 0.8811, confidencePercent: '88%', source: 'auto_chain', finalStatus: 'ready', …}
stepcards.ts:358 📊 [StepCardStore] 设置置信度 {cardId: 'card_1761846272973_voo81ut99', confidence: 0.8811, evidence: {…}}
wire-global-events.ts:339 📊 [Wire Events] 写入候选项评分 {stepId: 'f1nzip6y', smartCandidates: 2, candidateKeys: Array(2), recommendedKey: 'self_anchor', globalConfidence: 0.8811}
wire-global-events.ts:350 🔍 [Wire Events] 候选项原始数据 {candidateKey: 'self_anchor', rawConfidence: 88.11, confidenceType: 'number', isNormalRange: false, isPercentRange: true}
step-score-store.ts:187 🎯 [StepScoreStore] 设置候选项评分 {stepId: '1761846272173_tf1nzip6y', candidateKey: 'self_anchor', confidence: '88%', rawInput: 88.11}
wire-global-events.ts:361 ✅ [Wire Events] 候选分写入验证 {stepId: 'f1nzip6y', candidateKey: 'self_anchor', written: 88.11, readBack: 0.8811, success: false}
wire-global-events.ts:350 🔍 [Wire Events] 候选项原始数据 {candidateKey: 'xpath_fallback', rawConfidence: 54.550003, confidenceType: 'number', isNormalRange: false, isPercentRange: true}
step-score-store.ts:187 🎯 [StepScoreStore] 设置候选项评分 {stepId: '1761846272173_tf1nzip6y', candidateKey: 'xpath_fallback', confidence: '55%', rawInput: 54.550003}
wire-global-events.ts:361 ✅ [Wire Events] 候选分写入验证 {stepId: 'f1nzip6y', candidateKey: 'xpath_fallback', written: 54.550003, readBack: 0.5455000299999999, success: false}
step-score-store.ts:161 🌐 [StepScoreStore] 设置全局评分 {stepId: '1761846272173_tf1nzip6y', confidence: '88%', rawInput: 0.8811}
step-score-store.ts:113 📊 [StepScoreStore] 更新评分缓存 {key: 'element:1761846272173_tf1nzip6y', confidence: '88%', origin: 'single', recommended: 'self_anchor'}
intelligent-analysis-backend.ts:219 ✅ [BackendService] 收到分析完成事件 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', selection_hash: 'ca32c1b61f90', result: {…}, confidence: 0.8811, evidence: {…}, …}
intelligent-analysis-backend.ts:241 🔄 [BackendService] 转换后的结果 {selectionHash: 'ca32c1b61f90', stepId: '1761846272173_tf1nzip6y', smartCandidates: Array(2), staticCandidates: Array(0), recommendedKey: 'self_anchor', …}
useIntelligentAnalysisAdapter.ts:102 🎉 [Adapter] 收到分析完成回调 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', result: {…}}
intelligent-analysis-backend.ts:219 ✅ [BackendService] 收到分析完成事件 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', selection_hash: 'ca32c1b61f90', result: {…}, confidence: 0.8811, evidence: {…}, …}
intelligent-analysis-backend.ts:241 🔄 [BackendService] 转换后的结果 {selectionHash: 'ca32c1b61f90', stepId: '1761846272173_tf1nzip6y', smartCandidates: Array(2), staticCandidates: Array(0), recommendedKey: 'self_anchor', …}
use-intelligent-analysis-workflow.ts:247 ✅ [Workflow] 收到分析完成 {jobId: '867a434a', result: {…}}
use-intelligent-analysis-workflow.ts:251 🔒 [Workflow] 完成事件已处理，跳过重复处理 {jobId: '867a434a'}
intelligent-analysis-backend.ts:219 ✅ [BackendService] 收到分析完成事件 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', selection_hash: 'ca32c1b61f90', result: {…}, confidence: 0.8811, evidence: {…}, …}
intelligent-analysis-backend.ts:241 🔄 [BackendService] 转换后的结果 {selectionHash: 'ca32c1b61f90', stepId: '1761846272173_tf1nzip6y', smartCandidates: Array(2), staticCandidates: Array(0), recommendedKey: 'self_anchor', …}
useIntelligentAnalysisAdapter.ts:102 🎉 [Adapter] 收到分析完成回调 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', result: {…}}
intelligent-analysis-backend.ts:219 ✅ [BackendService] 收到分析完成事件 {job_id: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', selection_hash: 'ca32c1b61f90', result: {…}, confidence: 0.8811, evidence: {…}, …}
intelligent-analysis-backend.ts:241 🔄 [BackendService] 转换后的结果 {selectionHash: 'ca32c1b61f90', stepId: '1761846272173_tf1nzip6y', smartCandidates: Array(2), staticCandidates: Array(0), recommendedKey: 'self_anchor', …}
useIntelligentAnalysisAdapter.ts:102 🎉 [Adapter] 收到分析完成回调 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', result: {…}}
use-intelligent-analysis-workflow.ts:295 🔗 [Workflow] 更新任务状态为已完成 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', stepId: '1761846272173_tf1nzip6y'}
use-intelligent-analysis-workflow.ts:295 🔗 [Workflow] 更新任务状态为已完成 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', stepId: '1761846272173_tf1nzip6y'}
use-intelligent-analysis-workflow.ts:305 🎯 [Workflow] 更新步骤卡片为完成状态 {stepId: '1761846272173_tf1nzip6y', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a'}
use-intelligent-analysis-workflow.ts:305 🎯 [Workflow] 更新步骤卡片为完成状态 {stepId: '1761846272173_tf1nzip6y', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a'}
use-intelligent-analysis-workflow.ts:232 🔗 [Bridge] 同步进度到统一store {cardId: 'oo81ut99', jobId: '867a434a', progress: 95, statusUpdate: 'analyzing'}
use-intelligent-analysis-workflow.ts:232 🔗 [Bridge] 同步进度到统一store {cardId: 'oo81ut99', jobId: '867a434a', progress: 95, statusUpdate: 'analyzing'}
RealTimeDeviceTracker.ts:188 📱 获取到 0 个设备
use-intelligent-analysis-workflow.ts:232 🔗 [Bridge] 同步进度到统一store {cardId: 'oo81ut99', jobId: '867a434a', progress: 100, statusUpdate: 'no-change'}
use-intelligent-analysis-workflow.ts:232 🔗 [Bridge] 同步进度到统一store {cardId: 'oo81ut99', jobId: '867a434a', progress: 100, statusUpdate: 'no-change'}
stepcards.ts:312 ✅ [StepCardStore] 填充策略并就绪 {cardId: 'card_1761846272973_voo81ut99', strategy: {…}}
use-intelligent-analysis-workflow.ts:345 🔗 [Bridge] 同步完成状态到统一store {cardId: 'card_1761846272973_voo81ut99', jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', strategy: {…}}
event-acknowledgment-service.ts:69  ⚠️ [EventAck] 发送确认失败（非致命） {eventType: 'analysis:done', eventId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a', error: 'Command acknowledge_event not found'}
acknowledgeEvent @ event-acknowledgment-service.ts:69
await in acknowledgeEvent
(匿名) @ use-intelligent-analysis-workflow.ts:353
(匿名) @ intelligent-analysis-backend.ts:242
(匿名) @ VM11:272
runCallback @ VM11:284
value @ VM11:366
(匿名) @ VM2404:1
(匿名) @ VM2404:1
use-intelligent-analysis-workflow.ts:358 ✅ [Workflow] 完成事件处理并已确认 {jobId: 'b0721bdf-d917-4c97-a1f5-8c8d867a434a'}
RealTimeDeviceTracker.ts:105  ⚠️ [RealTimeDeviceTracker] 长时间无事件，检查通道健康状态...
(匿名) @ RealTimeDeviceTracker.ts:105
RealTimeDeviceTracker.ts:105  ⚠️ [RealTimeDeviceTracker] 长时间无事件，检查通道健康状态...
(匿名) @ RealTimeDeviceTracker.ts:105
RealTimeDeviceTracker.ts:188 📱 获取到 0 个设备
RealTimeDeviceTracker.ts:109 ✅ [RealTimeDeviceTracker] 通道健康检查通过
RealTimeDeviceTracker.ts:188 📱 获取到 0 个设备
RealTimeDeviceTracker.ts:109 ✅ [RealTimeDeviceTracker] 通道健康检查通过
use-intelligent-analysis-workflow.ts:149 🔄 [V2/V3] 当前执行版本: V3
