
2025-10-29T17:57:29.606913Z  WARN employee_gui::exec::v3::commands: 🔍 [DEBUG] 收到的原始spec JSON: {   
  "chainId": "step_execution_1761760642515_lme7f2ox5",
  "constraints": {},
  "mode": "execute",
  "orderedSteps": [
    {
      "inline": {
        "action": "smart_selection",
        "params": {
          "element_path": "//element_261",
          "original_data": {
            "children_texts": [
              "我"
            ],
            "confidence": 0.8,
            "data_integrity": {
              "extraction_timestamp": 1761760649591,
              "has_children_texts": true,
              "has_original_xml": true,
              "has_strategy_info": true,
              "has_user_xpath": true
            },
            "element_bounds": "[864,2230][1080,2358]",
            "element_text": "我，按钮",
            "key_attributes": {
              "class": "",
              "content-desc": "我，按钮",
              "resource-id": "",
              "text": "我，按钮"
            },
            "original_xml": "<XML:101094 bytes>",   
            "selected_xpath": "//element_261",      
            "strategy_type": "intelligent",
            "xml_hash": "sha256:PD94bWwgdmVyc2lv"   
          },
          "smartSelection": {
            "antonymCheckEnabled": false,
            "batchConfig": {
              "continueOnError": true,
              "intervalMs": 2000,
              "maxCount": 10,
              "showProgress": true
            },
            "minConfidence": 0.8,
            "mode": "all",
            "semanticAnalysisEnabled": false,       
            "targetText": "我，按钮",
            "textMatchingMode": "exact"
          },
          "targetText": "我，按钮",
          "target_content_desc": "我，按钮"
        },
        "stepId": "step_1761760642515_lme7f2ox5"    
      },
      "ref": null
    }
  ],
  "quality": {},
  "threshold": 0.5,
  "validation": {}
}
2025-10-29T17:57:29.610068Z  INFO employee_gui::exec::v3::commands: ✅ [DEBUG] ChainSpecV3反序列化成功  
2025-10-29T17:57:29.610406Z  INFO employee_gui::exec::v3::commands: 🔗 [V3] 收到智能自动链测试请求: analysisId=Some("step_execution_1761760642515_lme7f2ox5"), 步骤数=1, 阈值=0.5
2025-10-29T17:57:29.610850Z  INFO employee_gui::exec::v3::chain_engine: 🔗 [by-inline] 直接执行内联链: chainId=Some("step_execution_1761760642515_lme7f2ox5"), 步骤数=1
2025-10-29T17:57:29.611123Z  INFO employee_gui::exec::v3::helpers::execution_tracker: 🔒 【执行保护】已 锁定 analysis_id 'step_execution_1761760642515_lme7f2ox5'
2025-10-29T17:57:29.611346Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🧠 触发智能分析原因：检测到SmartSelection动作
2025-10-29T17:57:29.611611Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing: 🧠 触发智 能策略分析：原候选数=1, threshold=0.50
2025-10-29T17:57:29.611940Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing: ✅ [XML来 源] 使用步骤保存的 original_xml (101094 字符)       
2025-10-29T17:57:29.612285Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing: 🔍 [数据传递] 提取原始步骤参数传递给智能分析: 包含original_data
2025-10-29T17:57:29.613849Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🧠 开始智能策略分析 (Step 0-6) - 从原始数据直接处理
2025-10-29T17:57:29.614857Z  INFO employee_gui::exec::v3::helpers::analysis_helpers:    📋 原始参数: {"element_path":"//element_261","original_data":{"children_texts":["我"],"confidence":0.8,"data_integrity":{"extraction_timestamp":1761760649591,"has_children_texts":true,"has_original_xml":true,"has_strategy_info":true,"has_user_xpath":true},"element_bounds":"[864,2230][1080,2358]","element_text":"我，按钮","key_attributes":{"class":"","content-desc":"我，按钮","resource-id":"","text":"我，按钮"},"original_xml":"<XML:101094 bytes>","selected_xpath":"//element_261","strategy_type":"intelligent","xml_hash":"sha256:PD94bWwgdmVyc2lv"},"smartSelection":{"antonymCheckEnabled":false,"batchConfig":{"continueOnError":true,"intervalMs":2000,"maxCount":10,"showProgress":true},"minConfidence":0.8,"mode":"all","semanticAnalysisEnabled":false,"targetText":"我，按钮","textMatchingMode":"exact"},"targetText":"我，按钮","target_content_desc":"我，按钮"}
2025-10-29T17:57:29.616992Z  INFO employee_gui::exec::v3::helpers::analysis_helpers:    📱 XML长度: 101094 字符
2025-10-29T17:57:29.618556Z  INFO employee_gui::exec::v3::helpers::device_manager: 📱 [设备管理] 获取设 备 e0d909c3 的基础信息
2025-10-29T17:57:29.618904Z  INFO employee_gui::exec::v3::helpers::device_manager: ✅ [设备管理] 设备信 息获取完成: Some((1080, 2340))xSome("portrait"), orientation=Some("com.unknown.app")
2025-10-29T17:57:29.619520Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 0: 设备状态获取完成
⚠️ 检测到压缩的XML格式，正在展开以便解析...
✅ XML展开完成，从 101094 字符扩展到 101506 字符    
🔍 解析到 276 个UI元素（含子文本继承）
2025-10-29T17:57:29.646674Z  INFO employee_gui::exec::v3::helpers::intelligent_analysis: 🔍 提取了 276  个潜在交互元素（包括非clickable）
2025-10-29T17:57:29.647152Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 1: 从XML解 析出 276 个潜在可交互元素
2025-10-29T17:57:29.647423Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 2: 用户意图分析完成 - UserIntent { action_type: "click", target_text: "我，按钮", target_hints: ["我，按钮", "我， 按钮"], context: "用户目标: 我，按钮, 我，按钮", confidence: 0.8 }
2025-10-29T17:57:29.649574Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 3: 完成 276 个元素的智能评分
2025-10-29T17:57:29.651859Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-29T17:57:29.652691Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-29T17:57:29.653096Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-29T17:57:29.655046Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-29T17:57:29.655539Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-29T17:57:29.655949Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-29T17:57:29.657000Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-29T17:57:29.657428Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-29T17:57:29.658096Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-29T17:57:29.659407Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-29T17:57:29.659958Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 4: 生成 10 个策略候选
2025-10-29T17:57:29.661173Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 5: 选出 3  个最优策略
2025-10-29T17:57:29.661945Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔧 智能步骤参数: step_id=intelligent_step_1, params={
  "action": "SmartSelection",
  "bounds": "[950,2264][994,2324]",
  "className": "android.widget.TextView",
  "confidence": 0.7030000000000001,
  "contentDesc": "我，按钮",
  "originalParams": {
    "element_path": "//element_261",
    "original_data": {
      "children_texts": [
        "我"
      ],
      "confidence": 0.8,
      "data_integrity": {
        "extraction_timestamp": 1761760649591,      
        "has_children_texts": true,
        "has_original_xml": true,
        "has_strategy_info": true,
        "has_user_xpath": true
      },
      "element_bounds": "[864,2230][1080,2358]",    
      "element_text": "我，按钮",
      "key_attributes": {
        "class": "",
        "content-desc": "我，按钮",
        "resource-id": "",
        "text": "我，按钮"
      },
      "original_xml": "<XML:101094 bytes>",
      "selected_xpath": "//element_261",
      "strategy_type": "intelligent",
      "xml_hash": "sha256:PD94bWwgdmVyc2lv"
    },
    "smartSelection": {
      "antonymCheckEnabled": false,
      "batchConfig": {
        "continueOnError": true,
        "intervalMs": 2000,
        "maxCount": 10,
        "showProgress": true
      },
      "minConfidence": 0.8,
      "mode": "all",
      "semanticAnalysisEnabled": false,
      "targetText": "我，按钮",
      "textMatchingMode": "exact"
    },
    "targetText": "我，按钮",
    "target_content_desc": "我，按钮"
  },
  "resourceId": "com.ss.android.ugc.aweme:id/0vl",  
  "smartSelection": {
    "antonymCheckEnabled": false,
    "batchConfig": {
      "continueOnError": true,
      "intervalMs": 2000,
      "maxCount": 10,
      "showProgress": true
    },
    "minConfidence": 0.8,
    "mode": "all",
    "semanticAnalysisEnabled": false,
    "targetText": "我，按钮",
    "textMatchingMode": "exact"
  },
  "strategy_type": "text_based_click",
  "targetText": "我",
  "xpath": "//node[@index='267']"
}
2025-10-29T17:57:29.667567Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔧 智能步骤参数: step_id=intelligent_step_2, params={
  "action": "SmartSelection",
  "bounds": "[823,1007][1078,1238]",
  "className": "android.widget.FrameLayout",        
  "confidence": 0.5625,
  "contentDesc": "",
  "originalParams": {
    "element_path": "//element_261",
    "original_data": {
      "children_texts": [
        "我"
      ],
      "confidence": 0.8,
      "data_integrity": {
        "extraction_timestamp": 1761760649591,      
        "has_children_texts": true,
        "has_original_xml": true,
        "has_strategy_info": true,
        "has_user_xpath": true
      },
      "element_bounds": "[864,2230][1080,2358]",    
      "element_text": "我，按钮",
      "key_attributes": {
        "class": "",
        "content-desc": "我，按钮",
        "resource-id": "",
        "text": "我，按钮"
      },
      "original_xml": "<XML:101094 bytes>",
      "selected_xpath": "//element_261",
      "strategy_type": "intelligent",
      "xml_hash": "sha256:PD94bWwgdmVyc2lv"
    },
    "smartSelection": {
      "antonymCheckEnabled": false,
      "batchConfig": {
        "continueOnError": true,
        "intervalMs": 2000,
        "maxCount": 10,
        "showProgress": true
      },
      "minConfidence": 0.8,
      "mode": "all",
      "semanticAnalysisEnabled": false,
      "targetText": "我，按钮",
      "textMatchingMode": "exact"
    },
    "targetText": "我，按钮",
    "target_content_desc": "我，按钮"
  },
  "resourceId": "com.ss.android.ugc.aweme:id/bhj",  
  "smartSelection": {
    "antonymCheckEnabled": false,
    "batchConfig": {
      "continueOnError": true,
      "intervalMs": 2000,
      "maxCount": 10,
      "showProgress": true
    },
    "minConfidence": 0.8,
    "mode": "all",
    "semanticAnalysisEnabled": false,
    "targetText": "我，按钮",
    "textMatchingMode": "exact"
  },
  "strategy_type": "direct_click",
  "targetText": "关注",
  "xpath": "//node[@index='80']"
}
2025-10-29T17:57:29.716649Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔧 智能步骤参数: step_id=intelligent_step_3, params={
  "action": "SmartSelection",
  "bounds": "[918,1033][1078,1238]",
  "className": "android.view.View",
  "confidence": 0.5525,
  "contentDesc": "",
  "originalParams": {
    "element_path": "//element_261",
    "original_data": {
      "children_texts": [
        "我"
      ],
      "confidence": 0.8,
      "data_integrity": {
        "extraction_timestamp": 1761760649591,      
        "has_children_texts": true,
        "has_original_xml": true,
        "has_strategy_info": true,
        "has_user_xpath": true
      },
      "element_bounds": "[864,2230][1080,2358]",    
      "element_text": "我，按钮",
      "key_attributes": {
        "class": "",
        "content-desc": "我，按钮",
        "resource-id": "",
        "text": "我，按钮"
      },
      "original_xml": "<XML:101094 bytes>",
      "selected_xpath": "//element_261",
      "strategy_type": "intelligent",
      "xml_hash": "sha256:PD94bWwgdmVyc2lv"
    },
    "smartSelection": {
      "antonymCheckEnabled": false,
      "batchConfig": {
        "continueOnError": true,
        "intervalMs": 2000,
        "maxCount": 10,
        "showProgress": true
      },
      "minConfidence": 0.8,
      "mode": "all",
      "semanticAnalysisEnabled": false,
      "targetText": "我，按钮",
      "textMatchingMode": "exact"
    },
    "targetText": "我，按钮",
    "target_content_desc": "我，按钮"
  },
  "resourceId": "com.ss.android.ugc.aweme:id/4kp",  
  "smartSelection": {
    "antonymCheckEnabled": false,
    "batchConfig": {
      "continueOnError": true,
      "intervalMs": 2000,
      "maxCount": 10,
      "showProgress": true
    },
    "minConfidence": 0.8,
    "mode": "all",
    "semanticAnalysisEnabled": false,
    "targetText": "我，按钮",
    "textMatchingMode": "exact"
  },
  "strategy_type": "direct_click",
  "targetText": "关注",
  "xpath": "//node[@index='82']"
}
2025-10-29T17:57:29.719733Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 6: 转换为 3 个V3执行步骤
2025-10-29T17:57:29.719941Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🔗 调用增强版前端智能策略分析系统
2025-10-29T17:57:29.720580Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🔍 [DEBUG] original_params 内容: {
  "element_path": "//element_261",
  "original_data": {
    "children_texts": [
      "我"
    ],
    "confidence": 0.8,
    "data_integrity": {
      "extraction_timestamp": 1761760649591,        
      "has_children_texts": true,
      "has_original_xml": true,
      "has_strategy_info": true,
      "has_user_xpath": true
    },
    "element_bounds": "[864,2230][1080,2358]",      
    "element_text": "我，按钮",
    "key_attributes": {
      "class": "",
      "content-desc": "我，按钮",
      "resource-id": "",
      "text": "我，按钮"
    },
    "original_xml": "<XML:101094 bytes>",
    "selected_xpath": "//element_261",
    "strategy_type": "intelligent",
    "xml_hash": "sha256:PD94bWwgdmVyc2lv"
  },
  "smartSelection": {
    "antonymCheckEnabled": false,
    "batchConfig": {
      "continueOnError": true,
      "intervalMs": 2000,
      "maxCount": 10,
      "showProgress": true
    },
    "minConfidence": 0.8,
    "mode": "all",
    "semanticAnalysisEnabled": false,
    "targetText": "我，按钮",
    "textMatchingMode": "exact"
  },
  "targetText": "我，按钮",
  "target_content_desc": "我，按钮"
}
2025-10-29T17:57:29.725248Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🔥 [修复验证] 从original_data提取用户选择: xpath=//element_261, content_desc=Some("我，按钮"), text=Some("我，按钮")       
2025-10-29T17:57:29.725850Z  INFO employee_gui::services::intelligent_analysis_service: 🧠 使用后端完整 Step 0-6 智能分析: v3_intelligent_raw_1761760649725 
2025-10-29T17:57:29.726309Z  INFO employee_gui::services::intelligent_analysis_service: 📋 开始解析 UI XML，长度: 101094 字符
⚠️ 检测到压缩的XML格式，正在展开以便解析...
✅ XML展开完成，从 101094 字符扩展到 101506 字符    
🔍 解析到 276 个UI元素（含子文本继承）
2025-10-29T17:57:29.752641Z  INFO employee_gui::services::intelligent_analysis_service: ✅ 解析到 276 个 UI 元素
2025-10-29T17:57:29.752750Z  INFO employee_gui::services::intelligent_analysis_service: ✅ 使用完整用户 选择上下文: xpath=//element_261, content_desc=Some("我，按钮")
2025-10-29T17:57:29.753021Z  INFO employee_gui::services::intelligent_analysis_service: ✨ [XPath增强]  智能生成 XPath: //*[@content-desc='我，按钮'] (置信 度: 0.85)
2025-10-29T17:57:29.753515Z  INFO employee_gui::services::intelligent_analysis_service:    原始XPath: //element_261
2025-10-29T17:57:29.753806Z  INFO employee_gui::services::intelligent_analysis_service: 🔍 分析上下文: resource_id=None, text=Some("我，按钮"), content-desc=Some("我，按钮"), xpath=//*[@content-desc='我，按钮']
2025-10-29T17:57:29.754203Z  WARN employee_gui::engine::strategy_engine: ⚠️ [子元素策略] element_path不  包含文本过滤，使用简化XPath
2025-10-29T17:57:29.754995Z  INFO employee_gui::engine::strategy_engine: ✅ [Content-Desc策略] 使用智能 分析的XPath: //*[@content-desc='我，按钮']
2025-10-29T17:57:29.755379Z  WARN employee_gui::services::intelligent_analysis_service: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-29T17:57:29.755572Z  WARN employee_gui::services::intelligent_analysis_service: 🧠 Step 0-6 智能分析完成，生成 3 个候选策略
2025-10-29T17:57:29.755667Z  WARN employee_gui::services::intelligent_analysis_service:   1. 子元素驱动 策略 - 置信度: 0.799 (child_driven)
2025-10-29T17:57:29.755963Z  WARN employee_gui::services::intelligent_analysis_service:   2. Content-Desc策略 - 置信度: 0.780 (content_desc)
2025-10-29T17:57:29.756119Z  WARN employee_gui::services::intelligent_analysis_service:   3. XPath兜底策略 - 置信度: 0.546 (xpath_fallback)
2025-10-29T17:57:29.756318Z  WARN employee_gui::services::intelligent_analysis_service: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-29T17:57:29.756622Z  INFO employee_gui::services::intelligent_analysis_service: 🔍 [数据保留] original_data 构建完成: has_user_selection=true, xml_size=101094 bytes
2025-10-29T17:57:29.756858Z DEBUG employee_gui::services::intelligent_analysis_service: ✅ [候选生成] 候选 子元素驱动策略: 已包含 original_data (xml_size=101094 bytes)
2025-10-29T17:57:29.757056Z DEBUG employee_gui::services::intelligent_analysis_service: ✅ [候选生成] 候选 Content-Desc策略: 已包含 original_data (xml_size=101094 bytes)
2025-10-29T17:57:29.757272Z DEBUG employee_gui::services::intelligent_analysis_service: ✅ [候选生成] 候选 XPath兜底策略: 已包含 original_data (xml_size=101094 bytes)
2025-10-29T17:57:29.757408Z  INFO employee_gui::services::intelligent_analysis_service: 🔍 [Bounds提取] 开始从 3 个候选的 xpath 中提取 bounds
2025-10-29T17:57:29.757917Z  WARN employee_gui::services::intelligent_analysis_service: ⚠️ [Bounds提取]  候选 #1: xpath=//*[contains(@text,'我，按钮')] -> 未找到匹配元素
2025-10-29T17:57:29.758264Z DEBUG employee_gui::services::intelligent_analysis_service: ✅ [XPath匹配]  找到元素: content-desc='我，按钮' -> bounds=[950,2264][994,2324]
2025-10-29T17:57:29.758476Z DEBUG employee_gui::services::intelligent_analysis_service: ✅ [Bounds提取] 候选 #2: xpath=//*[@content-desc='我，按钮'] -> bounds=[950,2264][994,2324]
2025-10-29T17:57:29.758643Z DEBUG employee_gui::services::intelligent_analysis_service: ✅ [XPath匹配]  找到元素: content-desc='我，按钮' -> bounds=[950,2264][994,2324]
2025-10-29T17:57:29.758932Z DEBUG employee_gui::services::intelligent_analysis_service: ✅ [Bounds提取] 候选 #3: xpath=//*[@content-desc='我，按钮'] -> bounds=[950,2264][994,2324]
2025-10-29T17:57:29.759527Z  INFO employee_gui::services::intelligent_analysis_service: 🎯 [Bounds过滤] 检测到用户选择bounds，开始智能分析: user_bounds=[864,2230][1080,2358]
2025-10-29T17:57:29.760024Z  INFO employee_gui::exec::v3::helpers::element_hierarchy_analyzer: 🎯 找到 1 个完全包含在用户区域内的可点击元素
2025-10-29T17:57:29.760133Z  WARN employee_gui::services::intelligent_analysis_service: ⚠️ [智能修正]  用户选择的区域 [864,2230][1080,2358] 包含 1 个可点击子元素，但生成的候选可能不在此区域内!
2025-10-29T17:57:29.760240Z  WARN employee_gui::services::intelligent_analysis_service: 💡 [建议] 用户可能误选了容器而不是具体按钮，建议前端优化可视化选择  
2025-10-29T17:57:29.760367Z  INFO employee_gui::services::intelligent_analysis_service:   可点击子元素 #1: text='', bounds=[864,2230][1080,2358], resource_id=Some("")
2025-10-29T17:57:29.760484Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🎯 [Bounds匹配] 开始根据用户选择bounds重新排序候选: user_bounds=[864,2230][1080,2358]
2025-10-29T17:57:29.760655Z  INFO employee_gui::exec::v3::helpers::strategy_generation:   [1] bounds=Some("[950,2264][994,2324]"), text=Some("我，按钮"), 原始置信度=0.780, bounds匹配得分=1.000
2025-10-29T17:57:29.760789Z  INFO employee_gui::exec::v3::helpers::strategy_generation:   [2] bounds=Some("[950,2264][994,2324]"), text=Some("我，按钮"), 原始置信度=0.546, bounds匹配得分=1.000
2025-10-29T17:57:29.760909Z  INFO employee_gui::exec::v3::helpers::strategy_generation:   [3] bounds=None, text=Some("我，按钮"), 原始置信度=0.799, bounds匹配得分=0.000
2025-10-29T17:57:29.761039Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [Bounds匹配] 候选重排序完成，共 3 个候选
2025-10-29T17:57:29.761140Z  INFO employee_gui::services::intelligent_analysis_service: ✅ [Bounds过滤] 候选重排序完成，最佳候选: Some(Some("我，按钮"))    
2025-10-29T17:57:29.762951Z  INFO employee_gui::services::intelligent_analysis_service: ✅ 完整智能分析 完成: 3 个候选策略
2025-10-29T17:57:29.763232Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [XPath保留]  使用智能分析生成的完整XPath: //*[@content-desc='我，按钮']
2025-10-29T17:57:29.763441Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔄 [数据传递] 步骤 1 包含original_data，已传递到执行层
2025-10-29T17:57:29.763629Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量配置保留] 步骤 1 已继承 smartSelection: mode=Some(String("all"))
2025-10-29T17:57:29.763781Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [原始参数保留] 步骤 1 已使用 config 作为 originalParams
2025-10-29T17:57:29.763896Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [XPath保留]  使用智能分析生成的完整XPath: //*[@content-desc='我，按钮']
2025-10-29T17:57:29.764113Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔄 [数据传递] 步骤 2 包含original_data，已传递到执行层
2025-10-29T17:57:29.764263Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量配置保留] 步骤 2 已继承 smartSelection: mode=Some(String("all"))
2025-10-29T17:57:29.764446Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [原始参数保留] 步骤 2 已使用 config 作为 originalParams
2025-10-29T17:57:29.764662Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [XPath保留]  使用智能分析生成的完整XPath: //*[contains(@text,'我 ，按钮')]
2025-10-29T17:57:29.764982Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔄 [数据传递] 步骤 3 包含original_data，已传递到执行层
2025-10-29T17:57:29.765202Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量配置保留] 步骤 3 已继承 smartSelection: mode=Some(String("all"))
2025-10-29T17:57:29.765641Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [原始参数保留] 步骤 3 已使用 config 作为 originalParams
2025-10-29T17:57:29.765886Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔄 转换了 3 个智能分析候选为 V3 步骤
2025-10-29T17:57:29.767680Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ 增强版前端智能分析完成，转换为 3 个 V3 步骤
2025-10-29T17:57:29.768037Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ 智能策略分析完成，生成 3 个候选步骤
2025-10-29T17:57:29.769078Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing: 🧠 智能策 略分析成功，生成 3 个优化候选步骤
2025-10-29T17:57:29.769286Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing: 🔄 合并智 能分析结果与原候选步骤
2025-10-29T17:57:29.769747Z  INFO employee_gui::exec::v3::helpers::step_optimization: 🔄 优先合并 3 个智能分析步骤
2025-10-29T17:57:29.770370Z  INFO employee_gui::exec::v3::helpers::step_optimization: 🔄 合并 1 个原始步骤（去重处理）
2025-10-29T17:57:29.770504Z DEBUG employee_gui::exec::v3::helpers::step_optimization: 🔄 跳过重复步骤: step_1761760642515_lme7f2ox5
2025-10-29T17:57:29.770723Z  INFO employee_gui::exec::v3::helpers::step_optimization: ✅ 步骤合并完成： 智能分析 + 原始步骤 = 3 个优化候选
2025-10-29T17:57:29.770860Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing: 📋 V3最终 执行候选列表 (3 个步骤):
2025-10-29T17:57:29.770977Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing:   [1/3] intelligent_step_1 -> action=SmartTap, target='', mode='first'
2025-10-29T17:57:29.771091Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing:   [2/3] intelligent_step_2 -> action=SmartTap, target='', mode='first'
2025-10-29T17:57:29.771213Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing:   [3/3] intelligent_step_3 -> action=SmartTap, target='', mode='first'
2025-10-29T17:57:29.771654Z  INFO employee_gui::exec::v3::helpers::device_manager: 🔧 [设备管理] 跳过设 备连接检查（TODO: 实现真实的设备检查）
2025-10-29T17:57:29.772068Z  INFO employee_gui::exec::v3::helpers::device_manager: ✅ [设备管理] 假设设 备 e0d909c3 连接正常
2025-10-29T17:57:29.772304Z  INFO employee_gui::exec::v3::helpers::device_manager: 📱 [设备管理] 开始获 取设备 e0d909c3 的UI快照
2025-10-29T17:57:29.772561Z  INFO employee_gui::services::quick_ui_automation: 🔍 快速抓取UI XML: device=e0d909c3
2025-10-29T17:57:29.772842Z  INFO employee_gui::services::safe_adb_manager: 🔧 执行ADB命令: D:\rust\active-projects\小红书\employeeGUI\platform-tools\adb.exe -s e0d909c3 exec-out uiautomator dump /dev/stdout 
2025-10-29T17:57:30.568924Z ERROR employee_gui::services::adb_device_tracker: 读取设备列表失败: 读取数据长度失败: 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。 (os error 10060)       
2025-10-29T17:57:30.569273Z  INFO employee_gui::services::adb_device_tracker: 🔄 ADB设备跟踪连接正常结束，准备重连
2025-10-29T17:57:30.569445Z  INFO employee_gui::services::adb_device_tracker: 🔌 连接到ADB server (127.0.0.1:5037)
2025-10-29T17:57:30.569948Z DEBUG employee_gui::services::adb_device_tracker: 📤 发送ADB协议命令: 0012host:track-devices
2025-10-29T17:57:30.570255Z  INFO employee_gui::services::adb_device_tracker: ✅ ADB server连接成功，开 始监听设备变化
2025-10-29T17:57:30.570389Z DEBUG employee_gui::services::adb_device_tracker: 📱 收到设备列表: e0d909c3device
2025-10-29T17:57:30.570527Z DEBUG employee_gui::services::adb_device_tracker: 📱 设备状态无变化 (1 个设 备)
2025-10-29T17:57:30.587425Z  WARN tao::platform_impl::platform::event_loop::runner: NewEvents emitted without explicit RedrawEventsCleared
2025-10-29T17:57:30.591904Z  WARN tao::platform_impl::platform::event_loop::runner: RedrawEventsCleared emitted without explicit MainEventsCleared
2025-10-29T17:57:32.592378Z  INFO employee_gui::services::safe_adb_manager: ✅ ADB命令成功: (100549 字节输出)
2025-10-29T17:57:32.596672Z  INFO employee_gui::services::quick_ui_automation: ✅ UI XML抓取完成: 2820ms
2025-10-29T17:57:32.596860Z  INFO employee_gui::exec::v3::helpers::device_manager: ✅ [设备管理] UI快照 获取成功，长度: 100549 字符
2025-10-29T17:57:32.597326Z DEBUG employee_gui::exec::v3::helpers::device_manager: 🔐 [设备管理] 计算屏 幕哈希: f7a1d422 (前8位)
2025-10-29T17:57:32.597453Z  INFO employee_gui::exec::v3::helpers::device_manager: ✅ [设备管理] 快照获 取完成，hash: f7a1d422
2025-10-29T17:57:32.597580Z  INFO employee_gui::exec::v3::helpers::phase_handlers: 🔍 宽松模式：检查screenHash是否匹配
2025-10-29T17:57:32.597776Z  INFO employee_gui::exec::v3::helpers::step_scoring: 🧠 智能分析步骤 intelligent_step_1 使用预计算置信度: 0.780
2025-10-29T17:57:32.597953Z  INFO employee_gui::exec::v3::helpers::phase_handlers: ✅ 步骤 intelligent_step_1 评分: 0.78
2025-10-29T17:57:32.598065Z  INFO employee_gui::exec::v3::helpers::step_scoring: 🧠 智能分析步骤 intelligent_step_2 使用预计算置信度: 0.546
2025-10-29T17:57:32.598307Z  INFO employee_gui::exec::v3::helpers::phase_handlers: ✅ 步骤 intelligent_step_2 评分: 0.55
2025-10-29T17:57:32.598513Z  INFO employee_gui::exec::v3::helpers::step_scoring: 🧠 智能分析步骤 intelligent_step_3 使用预计算置信度: 0.799
2025-10-29T17:57:32.598695Z  INFO employee_gui::exec::v3::helpers::phase_handlers: ✅ 步骤 intelligent_step_3 评分: 0.80
2025-10-29T17:57:32.598988Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 [智能执行] 开始执行智能分析步骤: intelligent_step_3
2025-10-29T17:57:32.599149Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [配置读取] Store  中没有找到配置，尝试了以下keys:
2025-10-29T17:57:32.599243Z  WARN employee_gui::exec::v3::helpers::step_executor:    1. 当前step_id: intelligent_step_3
2025-10-29T17:57:32.599594Z  WARN employee_gui::exec::v3::helpers::step_executor:    将使用参数中的默认 配置
2025-10-29T17:57:32.599811Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 [智能执行] 策略信息: xpath=//element_261 (来源:静态分析精确XPath), target='我，按钮', confidence=0.799, strategy=child_driven
⚠️ 检测到压缩的XML格式，正在展开以便解析...
✅ XML展开完成，从 100549 字符扩展到 100946 字符    
🔍 解析到 274 个UI元素（含子文本继承）
2025-10-29T17:57:32.621923Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [child_driven策略] 使用子元素文本搜索: '我'
2025-10-29T17:57:32.622298Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量模式] 开始过滤 4 个候选
2025-10-29T17:57:32.622510Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量模式-可点击过  滤] 未找到可点击元素，保留全部 4 个候选
2025-10-29T17:57:32.622752Z  INFO employee_gui::exec::v3::helpers::step_executor: 🎯 [候选收集] 找到 4  个匹配的候选元素
2025-10-29T17:57:32.622952Z  INFO employee_gui::exec::v3::helpers::step_executor: 📋 [候选详情] 匹配到的元素信息:
2025-10-29T17:57:32.623057Z  INFO employee_gui::exec::v3::helpers::step_executor:   [1] bounds=Some("[856,2238][1072,2358]"), text=Some("我"), resource_id=Some("com.ss.android.ugc.aweme:id/fy2"), clickable=Some(false)
2025-10-29T17:57:32.623637Z  INFO employee_gui::exec::v3::helpers::step_executor:   [2] bounds=Some("[942,2272][986,2332]"), text=Some("我"), resource_id=Some("com.ss.android.ugc.aweme:id/content_layout"), clickable=Some(false)
2025-10-29T17:57:32.623953Z  INFO employee_gui::exec::v3::helpers::step_executor:   [3] bounds=Some("[942,2272][986,2332]"), text=Some("我"), resource_id=Some("com.ss.android.ugc.aweme:id/u6s"), clickable=Some(false)
2025-10-29T17:57:32.624090Z  INFO employee_gui::exec::v3::helpers::step_executor:   [4] bounds=Some("[942,2272][986,2332]"), text=Some("我"), resource_id=Some("com.ss.android.ugc.aweme:id/0vl"), clickable=Some(false)
2025-10-29T17:57:32.624309Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] original_data 存在
2025-10-29T17:57:32.624523Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] original_xml 长度: 101094 bytes
2025-10-29T17:57:32.624698Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] selected_xpath: String("//element_261")
2025-10-29T17:57:32.624916Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] children_texts: 1 个子元素文本
2025-10-29T17:57:32.625069Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 开始检测批量模式
2025-10-29T17:57:32.625332Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] merged_params keys: Some(["confidence", "minConfidence", "mode", "originalParams", "original_data", "reasoning", "smartSelection", "strategy", "strategy_type", "targetText", "xpath"])
2025-10-29T17:57:32.625612Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 找到顶层 smartSelection: Object {"antonymCheckEnabled": Bool(false), "batchConfig": Object {"continueOnError": Bool(true), "intervalMs": Number(2000), "maxCount": Number(10), "showProgress": Bool(true)}, "minConfidence": Number(0.8), "mode": String("all"), "semanticAnalysisEnabled": Bool(false), "targetText": String("我，按钮"), "textMatchingMode": String("exact")}
2025-10-29T17:57:32.625881Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 顶层 mode: String("all")
2025-10-29T17:57:32.626106Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 找到 originalParams
2025-10-29T17:57:32.626359Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] originalParams 中的 smartSelection: Object {"antonymCheckEnabled": Bool(false), "batchConfig": Object {"continueOnError": Bool(true), "intervalMs": Number(2000), "maxCount": Number(10), "showProgress": Bool(true)}, "minConfidence": Number(0.8), "mode": String("all"), "semanticAnalysisEnabled": Bool(false), "targetText": String("我，按钮"), "textMatchingMode": String("exact")}
2025-10-29T17:57:32.626563Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] originalParams mode: String("all")
2025-10-29T17:57:32.626721Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测] mode=all, 候选数=4
2025-10-29T17:57:32.626829Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量模式] 检测到批量全部模式
2025-10-29T17:57:32.626970Z  INFO employee_gui::exec::v3::helpers::step_executor:    策略：复用'第一个' 的匹配逻辑，循环找到所有符合条件的目标并点击        
2025-10-29T17:57:32.627133Z  INFO employee_gui::exec::v3::helpers::batch_executor: 📋 [批量配置解析] max_count=10, interval_ms=2000ms, continue_on_error=true, show_progress=true, match_direction=forward      
2025-10-29T17:57:32.627248Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量模式] 开始批量执行（复用'第一个'策略）
2025-10-29T17:57:32.627371Z  INFO employee_gui::exec::v3::helpers::step_executor: 📋 [批量配置] maxCount=10, intervalMs=2000ms, continueOnError=true        
2025-10-29T17:57:32.627651Z  INFO employee_gui::exec::v3::helpers::step_executor: 📊 [初始候选] 从 UI dump 中找到 4 个初始候选元素
2025-10-29T17:57:32.628138Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 1/10] 开 始寻找目标元素
2025-10-29T17:57:32.628402Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [多候选评估] 启动模块化评估器（4 个候选）
2025-10-29T17:57:32.628651Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [目标文本提取] target_text=Some("我，按钮"), children_texts=["我"]     
2025-10-29T17:57:32.628992Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 [文本匹配配置] 从前端获取: mode=exact, antonym_enabled=false
2025-10-29T17:57:32.629335Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 [多候选评估] 开始综合评分，criteria.selected_xpath=Some("//element_261")
2025-10-29T17:57:32.629555Z  WARN employee_gui::exec::v3::element_matching::multi_candidate_evaluator: ⚠️ [候选评估] 发现 4 个匹配候选，开始综合评分        
2025-10-29T17:57:32.629748Z  WARN employee_gui::exec::v3::element_matching::multi_candidate_evaluator: �  [语义分析] 检测到不匹配状态: 目标='我，按钮', 候选='', 原因: 绝对匹配模式：'我，按钮' 与 '' 不完全匹配
2025-10-29T17:57:32.629911Z  WARN employee_gui::exec::v3::element_matching::multi_candidate_evaluator: �  [语义分析] 检测到不匹配状态: 目标='我，按钮', 候选='', 原因: 绝对匹配模式：'我，按钮' 与 '' 不完全匹配
2025-10-29T17:57:32.630160Z  WARN employee_gui::exec::v3::element_matching::multi_candidate_evaluator: �  [语义分析] 检测到不匹配状态: 目标='我，按钮', 候选='', 原因: 绝对匹配模式：'我，按钮' 与 '' 不完全匹配
2025-10-29T17:57:32.630704Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:   [1] 评分: -997.700 | text=Some("我") | content-desc=Some("我，按钮") | bounds=Some("[942,2272][986,2332]")
2025-10-29T17:57:32.630957Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ ✅✅✅✅✅✅ 子元素文本完全匹配: '我，按钮' (父容器+子文本模式 - Android核心架构, 来源: ParentContentDesc)
2025-10-29T17:57:32.631117Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ 🚨🚨🚨 自身文本语义检查: 目标='我，按钮' vs 元素='我' (-999.0分, 绝对匹配模式：'我，按钮' 与 '我' 不完全匹配)
2025-10-29T17:57:32.631426Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ ✅✅ Content-desc完全匹配: '我，按钮'       
2025-10-29T17:57:32.631631Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ ⚠️ 元素不可点击 (0.0)
2025-10-29T17:57:32.631774Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:   [2] 评分: -1000.850 | text=Some("我") | content-desc=Some("") | bounds=Some("[856,2238][1072,2358]")   
2025-10-29T17:57:32.631930Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ 🚨🚨🚨 检测到语义相反状态: 目标='我，按钮' vs 候选='' (-2.0, 反义词惩罚)
2025-10-29T17:57:32.632056Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ 🚨🚨🚨 自身文本语义检查: 目标='我，按钮' vs 元素='我' (-999.0分, 绝对匹配模式：'我，按钮' 与 '我' 不完全匹配)
2025-10-29T17:57:32.632509Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ 🟡 Content-desc部分匹配: ''
2025-10-29T17:57:32.633601Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ ⚠️ 元素不可点击 (0.0)
2025-10-29T17:57:32.634290Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:   [3] 评分: -1000.850 | text=Some("我") | content-desc=Some("") | bounds=Some("[942,2272][986,2332]")    
2025-10-29T17:57:32.634779Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ 🚨🚨🚨 检测到语义相反状态: 目标='我，按钮' vs 候选='' (-2.0, 反义词惩罚)
2025-10-29T17:57:32.635010Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ 🚨🚨🚨 自身文本语义检查: 目标='我，按钮' vs 元素='我' (-999.0分, 绝对匹配模式：'我，按钮' 与 '我' 不完全匹配)
2025-10-29T17:57:32.635230Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ 🟡 Content-desc部分匹配: ''
2025-10-29T17:57:32.635345Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ ⚠️ 元素不可点击 (0.0)
2025-10-29T17:57:32.635441Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:   [4] 评分: -1000.850 | text=Some("我") | content-desc=Some("") | bounds=Some("[942,2272][986,2332]")    
2025-10-29T17:57:32.635553Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ 🚨🚨🚨 检测到语义相反状态: 目标='我，按钮' vs 候选='' (-2.0, 反义词惩罚)
2025-10-29T17:57:32.635808Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ 🚨🚨🚨 自身文本语义检查: 目标='我，按钮' vs 元素='我' (-999.0分, 绝对匹配模式：'我，按钮' 与 '我' 不完全匹配)
2025-10-29T17:57:32.635949Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ 🟡 Content-desc部分匹配: ''
2025-10-29T17:57:32.636047Z  INFO employee_gui::exec::v3::element_matching::multi_candidate_evaluator:       └─ ⚠️ 元素不可点击 (0.0)
2025-10-29T17:57:32.636185Z ERROR employee_gui::exec::v3::helpers::step_executor: 🚨 [目标不存在] 最佳候选分数过低 (-997.700 < 0.3)，当前页面可能不存在真正 的目标元素
2025-10-29T17:57:32.636486Z ERROR employee_gui::exec::v3::helpers::step_executor:    📍 最佳候选详情: text=Some("我"), content-desc=Some("我，按钮"), bounds=Some("[942,2272][986,2332]")
2025-10-29T17:57:32.636630Z ERROR employee_gui::exec::v3::helpers::step_executor:    🔍 评分原因:       
2025-10-29T17:57:32.636708Z ERROR employee_gui::exec::v3::helpers::step_executor:       └─ ✅✅✅✅✅✅ 子元素文本完全匹配: '我，按钮' (父容器+子文本模式 - Android核心架构, 来源: ParentContentDesc)
2025-10-29T17:57:32.636817Z ERROR employee_gui::exec::v3::helpers::step_executor:       └─ 🚨🚨🚨 自身文本语义检查: 目标='我，按钮' vs 元素='我' (-999.0分, 绝对匹配模式：'我，按钮' 与 '我' 不完全匹配)        
2025-10-29T17:57:32.636927Z ERROR employee_gui::exec::v3::helpers::step_executor:       └─ ✅✅ Content-desc完全匹配: '我，按钮'
2025-10-29T17:57:32.637339Z ERROR employee_gui::exec::v3::helpers::step_executor:       └─ ⚠️ 元素不可 点击 (0.0)
2025-10-29T17:57:32.637843Z  WARN employee_gui::exec::v3::chain_engine: ❌ 步骤 intelligent_step_3 执行 失败: 当前页面不存在符合条件的目标元素（最高分仅-997.700），请检查页面状态或目标选择是否正确。，尝试下一个候选步骤
2025-10-29T17:57:32.638176Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 [智能执行] 开始执行智能分析步骤: intelligent_step_1
2025-10-29T17:57:32.638649Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [配置读取] Store  中没有找到配置，尝试了以下keys:
2025-10-29T17:57:32.638864Z  WARN employee_gui::exec::v3::helpers::step_executor:    1. 当前step_id: intelligent_step_1
2025-10-29T17:57:32.639095Z  WARN employee_gui::exec::v3::helpers::step_executor:    将使用参数中的默认 配置
2025-10-29T17:57:32.639429Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 [智能执行] 策略信息: xpath=//element_261 (来源:静态分析精确XPath), target='我，按钮', confidence=0.780, strategy=content_desc
⚠️ 检测到压缩的XML格式，正在展开以便解析...
✅ XML展开完成，从 100549 字符扩展到 100946 字符    
🔍 解析到 274 个UI元素（含子文本继承）
2025-10-29T17:57:32.661456Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量模式] 开始过滤 1 个候选
2025-10-29T17:57:32.661656Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量模式-可点击过  滤] 未找到可点击元素，保留全部 1 个候选
2025-10-29T17:57:32.661812Z  INFO employee_gui::exec::v3::helpers::step_executor: 🎯 [候选收集] 找到 1  个匹配的候选元素
2025-10-29T17:57:32.661967Z  INFO employee_gui::exec::v3::helpers::step_executor: 📋 [候选详情] 匹配到的元素信息:
2025-10-29T17:57:32.662127Z  INFO employee_gui::exec::v3::helpers::step_executor:   [1] bounds=Some("[942,2272][986,2332]"), text=Some("我"), resource_id=Some("com.ss.android.ugc.aweme:id/0vl"), clickable=Some(false)
2025-10-29T17:57:32.662297Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] original_data 存在
2025-10-29T17:57:32.662420Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] original_xml 长度: 101094 bytes
2025-10-29T17:57:32.662553Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] selected_xpath: String("//element_261")
2025-10-29T17:57:32.662720Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] children_texts: 1 个子元素文本
2025-10-29T17:57:32.662823Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 开始检测批量模式
2025-10-29T17:57:32.662944Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] merged_params keys: Some(["confidence", "minConfidence", "mode", "originalParams", "original_data", "reasoning", "smartSelection", "strategy", "strategy_type", "targetText", "xpath"])
2025-10-29T17:57:32.663098Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 找到顶层 smartSelection: Object {"antonymCheckEnabled": Bool(false), "batchConfig": Object {"continueOnError": Bool(true), "intervalMs": Number(2000), "maxCount": Number(10), "showProgress": Bool(true)}, "minConfidence": Number(0.8), "mode": String("all"), "semanticAnalysisEnabled": Bool(false), "targetText": String("我，按钮"), "textMatchingMode": String("exact")}
2025-10-29T17:57:32.663336Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 顶层 mode: String("all")
2025-10-29T17:57:32.663487Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 找到 originalParams
2025-10-29T17:57:32.663639Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] originalParams 中的 smartSelection: Object {"antonymCheckEnabled": Bool(false), "batchConfig": Object {"continueOnError": Bool(true), "intervalMs": Number(2000), "maxCount": Number(10), "showProgress": Bool(true)}, "minConfidence": Number(0.8), "mode": String("all"), "semanticAnalysisEnabled": Bool(false), "targetText": String("我，按钮"), "textMatchingMode": String("exact")}
2025-10-29T17:57:32.663926Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] originalParams mode: String("all")
2025-10-29T17:57:32.664046Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测] mode=all, 候选数=1
2025-10-29T17:57:32.664162Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量模式] 检测到批量全部模式
2025-10-29T17:57:32.664316Z  INFO employee_gui::exec::v3::helpers::step_executor:    策略：复用'第一个' 的匹配逻辑，循环找到所有符合条件的目标并点击        
2025-10-29T17:57:32.664531Z  INFO employee_gui::exec::v3::helpers::batch_executor: 📋 [批量配置解析] max_count=10, interval_ms=2000ms, continue_on_error=true, show_progress=true, match_direction=forward      
2025-10-29T17:57:32.664663Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量模式] 开始批量执行（复用'第一个'策略）
2025-10-29T17:57:32.664782Z  INFO employee_gui::exec::v3::helpers::step_executor: 📋 [批量配置] maxCount=10, intervalMs=2000ms, continueOnError=true        
2025-10-29T17:57:32.664973Z  INFO employee_gui::exec::v3::helpers::step_executor: 📊 [初始候选] 从 UI dump 中找到 1 个初始候选元素
2025-10-29T17:57:32.665094Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 1/10] 开 始寻找目标元素
2025-10-29T17:57:32.665396Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 [智能执行] 目标元素不可点击，查找可点击的父容器
2025-10-29T17:57:32.665681Z  INFO employee_gui::exec::v3::helpers::step_executor: 🎯 [批量执行 1/10] 找 到目标: text=Some("我"), bounds=Some("[942,2272][986,2332]"), resource_id=Some("com.ss.android.ugc.aweme:id/0vl")
2025-10-29T17:57:32.665821Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [坐标计算] 原始bounds字符串: '[942,2272][986,2332]'
2025-10-29T17:57:32.666586Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [坐标计算] 解析结果: center=(964, 2302)
2025-10-29T17:57:32.666964Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 [智能执行] 准备点击坐标: (964, 2302) for target_text=我，按钮
2025-10-29T17:57:32.667700Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [元素信息] class=Some("android.widget.TextView"), resource_id=Some("com.ss.android.ugc.aweme:id/0vl"), clickable=Some(false)
2025-10-29T17:57:32.668921Z  INFO employee_gui::utils::adb_utils: 🔍 检查ADB路径: D:\rust\active-projects\小红书\employeeGUI\platform-tools\adb.exe
2025-10-29T17:57:32.669659Z  INFO employee_gui::utils::adb_utils: ✅ 找到可用的ADB路径: D:\rust\active-projects\小红书\employeeGUI\platform-tools\adb.exe   
2025-10-29T17:57:32.671063Z  INFO employee_gui::infra::adb::input_helper: 🐛 DEBUG: tap_injector_first调用 - 原始坐标 x=964, y=2302, 转换后 x_u32=964, y_u32=2302
2025-10-29T17:57:32.671873Z  INFO employee_gui::infra::adb::safe_input_injector: 🛡️ 开始安全注入执行:    点击 (964, 2302) (最多3次尝试)
2025-10-29T17:57:32.672058Z  INFO employee_gui::infra::adb::safe_input_injector: 🛡️ 执行第1/3次尝试: 点 
击 (964, 2302)
2025-10-29T17:57:32.829578Z  INFO employee_gui::infra::adb::safe_input_injector: ✅ 安全注入首次成功: 点击 (964, 2302)
2025-10-29T17:57:32.829877Z  INFO employee_gui::infra::adb::input_helper: 🪄 injector-v1.0: tap 已通过 统一注入器执行 x=964, y=2302 (原始i32), x_u32=964, y_u32=2302, longPress=None
2025-10-29T17:57:32.830027Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 ✅ 智能分析步骤执行成功: intelligent_step_1 -> 点击坐标(964, 2302)     
2025-10-29T17:57:32.830172Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [批量执行 1/10] 点 击成功: (964, 2302) | text=Some("我"), bounds=Some("[942,2272][986,2332]"), resource_id=Some("com.ss.android.ugc.aweme:id/0vl")
2025-10-29T17:57:32.832622Z  INFO employee_gui::exec::v3::helpers::step_executor: 📊 [候选更新] 移除已点击元素，剩余 0 个候选
2025-10-29T17:57:32.833262Z  INFO employee_gui::exec::v3::helpers::step_executor: ⏱️ [批量执行] 等待 20000ms 后继续
2025-10-29T17:57:34.837027Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [批量执行] 所有符合条件的目标已点击完毕（1 个成功）
2025-10-29T17:57:34.837238Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [批量模式] 执行完成，成功 1 个点击
2025-10-29T17:57:34.837625Z  INFO employee_gui::exec::v3::chain_engine: ✅ 步骤 intelligent_step_1 执行 成功，坐标: (964, 2302)
2025-10-29T17:57:34.838891Z  INFO employee_gui::exec::v3::chain_engine: ✅ 真实设备操作完成: stepId=intelligent_step_1, coords=Some((964, 2302))
2025-10-29T17:57:34.839123Z  INFO employee_gui::exec::v3::chain_engine: ✅ 智能自动链执行完成: analysisId=step_execution_1761760642515_lme7f2ox5, adoptedStepId=Some("intelligent_step_1"), elapsed=5228ms      
2025-10-29T17:57:35.147163Z  INFO employee_gui::exec::v3::helpers::execution_tracker: 🔓 【执行保护】已 释放 analysis_id 'step_execution_1761760642515_lme7f2ox5' 锁定
2025-10-29T17:57:35.148145Z DEBUG employee_gui::exec::v3::helpers::execution_tracker: 🔓 【RAII】守卫析 构时自动释放锁: step_execution_1761760642515_lme7f2ox5