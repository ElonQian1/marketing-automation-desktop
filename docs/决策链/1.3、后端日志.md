xec::v3::commands: 🔍 [DEBUG] 收到的原始spec JSON: {   
  "chainId": "step_execution_1761829425810_2pk3zha0u",
  "constraints": {},
  "mode": "execute",
  "orderedSteps": [
    {
      "inline": {
        "action": "smart_selection",
        "params": {
          "element_path": "//element_43",
          "original_data": {
            "children_texts": [],
            "confidence": 0.8,
            "data_integrity": {
              "extraction_timestamp": 1761829480816,
              "has_children_texts": false,
              "has_original_xml": true,
              "has_strategy_info": true,
              "has_user_xpath": true
            },
            "element_bounds": "[13,1158][534,2023]",
            "element_text": "",
            "key_attributes": {
              "class": "",
              "content-desc": "",
              "resource-id": "",
              "text": ""
            },
            "original_xml": "<XML:39117 bytes>",    
            "selected_xpath": "//element_43",       
            "strategy_type": "intelligent",
            "xml_hash": "sha256:PD94bWwgdmVyc2lv"   
          },
          "smartSelection": {
            "antonymCheckEnabled": false,
            "batchConfig": {
              "continueOnError": true,
              "intervalMs": 2000,
              "maxCount": 10,
              "showProgress": true
            },
            "minConfidence": 0.8,
            "mode": "all",
            "semanticAnalysisEnabled": false,       
            "targetText": "",
            "textMatchingMode": "exact"
          },
          "targetText": "",
          "target_content_desc": ""
        },
        "stepId": "step_1761829425810_2pk3zha0u"    
      },
      "ref": null
    }
  ],
  "quality": {},
  "threshold": 0.5,
  "validation": {}
}
2025-10-30T13:04:40.839248Z  INFO employee_gui::exec::v3::commands: ✅ [DEBUG] ChainSpecV3反序列化成功  
2025-10-30T13:04:40.839420Z  INFO employee_gui::exec::v3::commands: 🔗 [V3] 收到智能自动链测试请求: analysisId=Some("step_execution_1761829425810_2pk3zha0u"), 步骤数=1, 阈值=0.5
2025-10-30T13:04:40.839563Z  INFO employee_gui::exec::v3::chain_engine: 🔗 [by-inline] 直接执行内联链: chainId=Some("step_execution_1761829425810_2pk3zha0u"), 步骤数=1
2025-10-30T13:04:40.839825Z  INFO employee_gui::exec::v3::helpers::execution_tracker: 🔒 【执行保护】已 锁定 analysis_id 'step_execution_1761829425810_2pk3zha0u'
2025-10-30T13:04:40.840308Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🧠 提前触发智能分析：所有目标文本参数为空，跳过Legacy引擎预筛选        
2025-10-30T13:04:40.840449Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing: 🧠 步骤 0 检测到参数为空，提前触发智能分析，跳过Legacy预筛选  
2025-10-30T13:04:40.840585Z  INFO employee_gui::exec::v3::helpers::device_manager: 📱 [设备管理] 开始获 取设备 e0d909c3 的UI快照
2025-10-30T13:04:40.840720Z  INFO employee_gui::services::quick_ui_automation: 🔍 快速抓取UI XML: device=e0d909c3
2025-10-30T13:04:40.841007Z  INFO employee_gui::services::safe_adb_manager: 🔧 执行ADB命令: D:\rust\active-projects\小红书\employeeGUI\platform-tools\adb.exe -s e0d909c3 exec-out uiautomator dump /dev/stdout 
2025-10-30T13:04:43.362394Z  INFO employee_gui::services::safe_adb_manager: ✅ ADB命令成功: (39153 字节 输出)
2025-10-30T13:04:43.364258Z  INFO employee_gui::services::quick_ui_automation: ✅ UI XML抓取完成: 2521ms
2025-10-30T13:04:43.364421Z  INFO employee_gui::exec::v3::helpers::device_manager: ✅ [设备管理] UI快照 获取成功，长度: 39153 字符
2025-10-30T13:04:43.364663Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🧠 开始智能策略分析 (Step 0-6) - 从原始数据直接处理
2025-10-30T13:04:43.364892Z  INFO employee_gui::exec::v3::helpers::analysis_helpers:    📋 原始参数: {"element_path":"//element_43","original_data":{"children_texts":[],"confidence":0.8,"data_integrity":{"extraction_timestamp":1761829480816,"has_children_texts":false,"has_original_xml":true,"has_strategy_info":true,"has_user_xpath":true},"element_bounds":"[13,1158][534,2023]","element_text":"","key_attributes":{"class":"","content-desc":"","resource-id":"","text":""},"original_xml":"<XML:39117 bytes>","selected_xpath":"//element_43","strategy_type":"intelligent","xml_hash":"sha256:PD94bWwgdmVyc2lv"},"smartSelection":{"antonymCheckEnabled":false,"batchConfig":{"continueOnError":true,"intervalMs":2000,"maxCount":10,"showProgress":true},"minConfidence":0.8,"mode":"all","semanticAnalysisEnabled":false,"targetText":"","textMatchingMode":"exact"},"targetText":"","target_content_desc":""}
2025-10-30T13:04:43.365196Z  INFO employee_gui::exec::v3::helpers::analysis_helpers:    📱 XML长度: 39153 字符
2025-10-30T13:04:43.365315Z  INFO employee_gui::exec::v3::helpers::device_manager: 📱 [设备管理] 获取设 备 e0d909c3 的基础信息
2025-10-30T13:04:43.365428Z  INFO employee_gui::exec::v3::helpers::device_manager: ✅ [设备管理] 设备信 息获取完成: Some((1080, 2340))xSome("portrait"), orientation=Some("com.unknown.app")
2025-10-30T13:04:43.365554Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 0: 设备状态获取完成
⚠️ 检测到压缩的XML格式，正在展开以便解析...
✅ XML展开完成，从 39153 字符扩展到 39325 字符      
🔍 解析到 107 个UI元素（含子文本继承）
2025-10-30T13:04:43.374018Z  INFO employee_gui::exec::v3::helpers::intelligent_analysis: 🔍 提取了 107  个潜在交互元素（包括非clickable）
2025-10-30T13:04:43.374220Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 1: 从XML解 析出 107 个潜在可交互元素
2025-10-30T13:04:43.374346Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 2: 用户意图分析完成 - UserIntent { action_type: "intelligent_find", target_text: "", target_hints: [], context: "用户未提供明确目标，需要智能推断", confidence: 1.0 }  
2025-10-30T13:04:43.374880Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 3: 完成 107 个元素的智能评分
2025-10-30T13:04:43.375099Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:43.375326Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:43.375521Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:43.375707Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:43.375904Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:43.376119Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:43.376291Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:43.376478Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:43.376657Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:43.376837Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:43.376963Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 4: 生成 10 个策略候选
2025-10-30T13:04:43.377506Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 5: 选出 3  个最优策略
2025-10-30T13:04:43.377823Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔧 智能步骤参数: step_id=intelligent_step_1, params={
  "action": "SmartSelection",
  "bounds": "[961,120][1056,215]",
  "className": "android.widget.Button",
  "confidence": 0.7434999999999999,
  "contentDesc": "搜索",
  "originalParams": {
    "element_path": "//element_43",
    "original_data": {
      "children_texts": [],
      "confidence": 0.8,
      "data_integrity": {
        "extraction_timestamp": 1761829480816,      
        "has_children_texts": false,
        "has_original_xml": true,
        "has_strategy_info": true,
        "has_user_xpath": true
      },
      "element_bounds": "[13,1158][534,2023]",      
      "element_text": "",
      "key_attributes": {
        "class": "",
        "content-desc": "",
        "resource-id": "",
        "text": ""
      },
      "original_xml": "<XML:39117 bytes>",
      "selected_xpath": "//element_43",
      "strategy_type": "intelligent",
      "xml_hash": "sha256:PD94bWwgdmVyc2lv"
    },
    "smartSelection": {
      "antonymCheckEnabled": false,
      "batchConfig": {
        "continueOnError": true,
        "intervalMs": 2000,
        "maxCount": 10,
        "showProgress": true
      },
      "minConfidence": 0.8,
      "mode": "all",
      "semanticAnalysisEnabled": false,
      "targetText": "",
      "textMatchingMode": "exact"
    },
    "targetText": "",
    "target_content_desc": ""
  },
  "resourceId": "com.xingin.xhs:id/0_resource_name_obfuscated",
  "smartSelection": {
    "antonymCheckEnabled": false,
    "batchConfig": {
      "continueOnError": true,
      "intervalMs": 2000,
      "maxCount": 10,
      "showProgress": true
    },
    "minConfidence": 0.8,
    "mode": "all",
    "semanticAnalysisEnabled": false,
    "targetText": "",
    "textMatchingMode": "exact"
  },
  "strategy_type": "direct_click",
  "targetText": "搜索",
  "xpath": "//node[@index='90']"
}
2025-10-30T13:04:43.378730Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔧 智能步骤参数: step_id=intelligent_step_2, params={
  "action": "SmartSelection",
  "bounds": "[13,1043][523,1145]",
  "className": "android.view.ViewGroup",
  "confidence": 0.7245,
  "contentDesc": "",
  "originalParams": {
    "element_path": "//element_43",
    "original_data": {
      "children_texts": [],
      "confidence": 0.8,
      "data_integrity": {
        "extraction_timestamp": 1761829480816,      
        "has_children_texts": false,
        "has_original_xml": true,
        "has_strategy_info": true,
        "has_user_xpath": true
      },
      "element_bounds": "[13,1158][534,2023]",      
      "element_text": "",
      "key_attributes": {
        "class": "",
        "content-desc": "",
        "resource-id": "",
        "text": ""
      },
      "original_xml": "<XML:39117 bytes>",
      "selected_xpath": "//element_43",
      "strategy_type": "intelligent",
      "xml_hash": "sha256:PD94bWwgdmVyc2lv"
    },
    "smartSelection": {
      "antonymCheckEnabled": false,
      "batchConfig": {
        "continueOnError": true,
        "intervalMs": 2000,
        "maxCount": 10,
        "showProgress": true
      },
      "minConfidence": 0.8,
      "mode": "all",
      "semanticAnalysisEnabled": false,
      "targetText": "",
      "textMatchingMode": "exact"
    },
    "targetText": "",
    "target_content_desc": ""
  },
  "resourceId": "com.xingin.xhs:id/0_resource_name_obfuscated",
  "smartSelection": {
    "antonymCheckEnabled": false,
    "batchConfig": {
      "continueOnError": true,
      "intervalMs": 2000,
      "maxCount": 10,
      "showProgress": true
    },
    "minConfidence": 0.8,
    "mode": "all",
    "semanticAnalysisEnabled": false,
    "targetText": "",
    "textMatchingMode": "exact"
  },
  "strategy_type": "direct_click",
  "targetText": "101",
  "xpath": "//node[@index='26']"
}
2025-10-30T13:04:43.379575Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔧 智能步骤参数: step_id=intelligent_step_3, params={
  "action": "SmartSelection",
  "bounds": "[379,1055][458,1134]",
  "className": "android.widget.ImageView",
  "confidence": 0.7145000000000001,
  "contentDesc": "",
  "originalParams": {
    "element_path": "//element_43",
    "original_data": {
      "children_texts": [],
      "confidence": 0.8,
      "data_integrity": {
        "extraction_timestamp": 1761829480816,      
        "has_children_texts": false,
        "has_original_xml": true,
        "has_strategy_info": true,
        "has_user_xpath": true
      },
      "element_bounds": "[13,1158][534,2023]",      
      "element_text": "",
      "key_attributes": {
        "class": "",
        "content-desc": "",
        "resource-id": "",
        "text": ""
      },
      "original_xml": "<XML:39117 bytes>",
      "selected_xpath": "//element_43",
      "strategy_type": "intelligent",
      "xml_hash": "sha256:PD94bWwgdmVyc2lv"
    },
    "smartSelection": {
      "antonymCheckEnabled": false,
      "batchConfig": {
        "continueOnError": true,
        "intervalMs": 2000,
        "maxCount": 10,
        "showProgress": true
      },
      "minConfidence": 0.8,
      "mode": "all",
      "semanticAnalysisEnabled": false,
      "targetText": "",
      "textMatchingMode": "exact"
    },
    "targetText": "",
    "target_content_desc": ""
  },
  "resourceId": "com.xingin.xhs:id/0_resource_name_obfuscated",
  "smartSelection": {
    "antonymCheckEnabled": false,
    "batchConfig": {
      "continueOnError": true,
      "intervalMs": 2000,
      "maxCount": 10,
      "showProgress": true
    },
    "minConfidence": 0.8,
    "mode": "all",
    "semanticAnalysisEnabled": false,
    "targetText": "",
    "textMatchingMode": "exact"
  },
  "strategy_type": "direct_click",
  "targetText": "101",
  "xpath": "//node[@index='29']"
}
2025-10-30T13:04:43.380349Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 6: 转换为 3 个V3执行步骤
2025-10-30T13:04:43.380803Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🔗 调用增强版前端智能策略分析系统
2025-10-30T13:04:43.381105Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🔍 [DEBUG] original_params 内容: {
  "element_path": "//element_43",
  "original_data": {
    "children_texts": [],
    "confidence": 0.8,
    "data_integrity": {
      "extraction_timestamp": 1761829480816,        
      "has_children_texts": false,
      "has_original_xml": true,
      "has_strategy_info": true,
      "has_user_xpath": true
    },
    "element_bounds": "[13,1158][534,2023]",        
    "element_text": "",
    "key_attributes": {
      "class": "",
      "content-desc": "",
      "resource-id": "",
      "text": ""
    },
    "original_xml": "<XML:39117 bytes>",
    "selected_xpath": "//element_43",
    "strategy_type": "intelligent",
    "xml_hash": "sha256:PD94bWwgdmVyc2lv"
  },
  "smartSelection": {
    "antonymCheckEnabled": false,
    "batchConfig": {
      "continueOnError": true,
      "intervalMs": 2000,
      "maxCount": 10,
      "showProgress": true
    },
    "minConfidence": 0.8,
    "mode": "all",
    "semanticAnalysisEnabled": false,
    "targetText": "",
    "textMatchingMode": "exact"
  },
  "targetText": "",
  "target_content_desc": ""
}
2025-10-30T13:04:43.381546Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🔥 [修复验证] 从original_data提取用户选择: xpath=//element_43, content_desc=None, text=None
2025-10-30T13:04:43.381697Z  INFO employee_gui::services::intelligent_analysis_service: 🧠 使用后端完整 Step 0-6 智能分析: v3_intelligent_raw_1761829483381 
2025-10-30T13:04:43.381995Z  INFO employee_gui::services::intelligent_analysis_service: 📋 开始解析 UI XML，长度: 39153 字符
⚠️ 检测到压缩的XML格式，正在展开以便解析...
✅ XML展开完成，从 39153 字符扩展到 39325 字符      
🔍 解析到 107 个UI元素（含子文本继承）
2025-10-30T13:04:43.391418Z  INFO employee_gui::services::intelligent_analysis_service: ✅ 解析到 107 个 UI 元素
2025-10-30T13:04:43.391556Z  INFO employee_gui::services::intelligent_analysis_service: ✅ 使用完整用户 选择上下文: xpath=//element_43, content_desc=None   
2025-10-30T13:04:43.391748Z  INFO employee_gui::services::intelligent_analysis_service: ✨ [XPath增强]  智能生成 XPath: //*[@bounds='[13,1158][534,2023]'] (置信度: 0.30)
2025-10-30T13:04:43.391879Z  INFO employee_gui::services::intelligent_analysis_service:    原始XPath: //element_43
2025-10-30T13:04:43.391991Z  INFO employee_gui::services::intelligent_analysis_service: 🔍 分析上下文: resource_id=None, text=None, content-desc=None, xpath=//*[@bounds='[13,1158][534,2023]']
2025-10-30T13:04:43.392123Z  WARN employee_gui::services::intelligent_analysis_service: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-30T13:04:43.392235Z  WARN employee_gui::services::intelligent_analysis_service: 🧠 Step 0-6 智能分析完成，生成 1 个候选策略
2025-10-30T13:04:43.392348Z  WARN employee_gui::services::intelligent_analysis_service:   1. XPath兜底策略 - 置信度: 0.546 (xpath_fallback)
2025-10-30T13:04:43.392435Z  WARN employee_gui::services::intelligent_analysis_service: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-30T13:04:43.392558Z  INFO employee_gui::services::intelligent_analysis_service: 🔍 [数据保留] original_data 构建完成: has_user_selection=true, xml_size=39153 bytes
2025-10-30T13:04:43.392694Z DEBUG employee_gui::services::intelligent_analysis_service: ✅ [候选生成] 候选 XPath兜底策略: 已包含 original_data (xml_size=39153 bytes)
2025-10-30T13:04:43.392812Z  INFO employee_gui::services::intelligent_analysis_service: 🔍 [Bounds提取] 开始从 1 个候选的 xpath 中提取 bounds
2025-10-30T13:04:43.392918Z  WARN employee_gui::services::intelligent_analysis_service: ⚠️ [XPath解析]   不支持的 XPath 格式: //*[@bounds='[13,1158][534,2023]']
2025-10-30T13:04:43.393025Z  WARN employee_gui::services::intelligent_analysis_service: ⚠️ [Bounds提取]  候选 #1: xpath=//*[@bounds='[13,1158][534,2023]'] -> 未找到匹配元素
2025-10-30T13:04:43.393163Z  WARN employee_gui::services::intelligent_analysis_service: ⚠️ 主要策略置信  度低，启用智能回退分析
2025-10-30T13:04:43.393357Z  INFO employee_gui::services::intelligent_analysis_service: 🔄 执行智能回退 分析
2025-10-30T13:04:43.393572Z  INFO employee_gui::services::intelligent_analysis_service: 🔍 [回退分析] original_data 构建完成: has_user_selection=true, xml_size=39153 bytes
2025-10-30T13:04:43.393721Z  INFO employee_gui::services::intelligent_analysis_service: ✅ [回退分析] 回退候选已包含 original_data (xml_size=39153 bytes)   
2025-10-30T13:04:43.394231Z  INFO employee_gui::services::intelligent_analysis_service: 🎯 [Bounds过滤] 检测到用户选择bounds，开始智能分析: user_bounds=[13,1158][534,2023]
2025-10-30T13:04:43.394513Z  INFO employee_gui::exec::v3::helpers::element_hierarchy_analyzer: 🎯 找到 4 个完全包含在用户区域内的可点击元素
2025-10-30T13:04:43.394610Z  WARN employee_gui::services::intelligent_analysis_service: ⚠️ [智能修正]  用户选择的区域 [13,1158][534,2023] 包含 4 个可点击子元素，但生成的候选可能不在此区域内!
2025-10-30T13:04:43.394871Z  WARN employee_gui::services::intelligent_analysis_service: 💡 [建议] 用户可能误选了容器而不是具体按钮，建议前端优化可视化选择  
2025-10-30T13:04:43.394961Z  INFO employee_gui::services::intelligent_analysis_service:   可点击子元素 #1: text='', bounds=[13,1158][534,2023], resource_id=Some("com.xingin.xhs:id/0_resource_name_obfuscated")
2025-10-30T13:04:43.395127Z  INFO employee_gui::services::intelligent_analysis_service:   可点击子元素 #2: text='小何老师', bounds=[13,1921][523,2023], resource_id=Some("com.xingin.xhs:id/0_resource_name_obfuscated")
2025-10-30T13:04:43.395272Z  INFO employee_gui::services::intelligent_analysis_service:   可点击子元素 #3: text='55', bounds=[395,1933][473,2011], resource_id=Some("com.xingin.xhs:id/0_resource_name_obfuscated")
2025-10-30T13:04:43.395364Z  INFO employee_gui::services::intelligent_analysis_service:   可点击子元素 #4: text='55', bounds=[473,1954][507,1991], resource_id=Some("com.xingin.xhs:id/0_resource_name_obfuscated")
2025-10-30T13:04:43.395475Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🎯 [Bounds匹配] 开始根据用户选择bounds重新排序候选: user_bounds=[13,1158][534,2023]
2025-10-30T13:04:43.395571Z  INFO employee_gui::exec::v3::helpers::strategy_generation:   [1] bounds=None, text=Some("我"), 原始置信度=0.700, bounds匹配得分=0.000
2025-10-30T13:04:43.395660Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [Bounds匹配] 候选重排序完成，共 1 个候选
2025-10-30T13:04:43.395733Z  INFO employee_gui::services::intelligent_analysis_service: ✅ [Bounds过滤] 候选重排序完成，最佳候选: Some(Some("我"))
2025-10-30T13:04:43.396448Z  INFO employee_gui::services::intelligent_analysis_service: ✅ 完整智能分析 完成: 1 个候选策略
2025-10-30T13:04:43.396604Z  WARN employee_gui::exec::v3::helpers::strategy_generation: ⚠️ [XPath回退]   智能分析未提供XPath，使用策略回退生成
2025-10-30T13:04:43.396769Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔄 [数据传递] 步骤 1 包含original_data，已传递到执行层
2025-10-30T13:04:43.396869Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量配置保留] 步骤 1 已继承 smartSelection: mode=Some(String("all"))
2025-10-30T13:04:43.396975Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [原始参数保留] 步骤 1 已使用 config 作为 originalParams
2025-10-30T13:04:43.397058Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔄 转换了 1 个智能分析候选为 V3 步骤
2025-10-30T13:04:43.397148Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ 增强版前端智能分析完成，转换为 1 个 V3 步骤
2025-10-30T13:04:43.397273Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ 智能策略分析完成，生成 1 个候选步骤
2025-10-30T13:04:43.397848Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing: ✅ 原始数 据智能分析成功，生成 1 个优化步骤
2025-10-30T13:04:43.397992Z  INFO employee_gui::exec::v3::helpers::execution_tracker: 🔓 【执行保护】已 释放 analysis_id 'step_execution_1761829425810_2pk3zha0u' 锁定
2025-10-30T13:04:43.398089Z DEBUG employee_gui::exec::v3::helpers::execution_tracker: 🔓 【RAII】守卫析 构时自动释放锁: step_execution_1761829425810_2pk3zha0u
2025-10-30T13:04:43.398190Z  INFO employee_gui::exec::v3::helpers::execution_tracker: 🔒 【执行保护】已 锁定 analysis_id 'step_execution_1761829425810_2pk3zha0u'
2025-10-30T13:04:43.398288Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🎯 不触发智能分析：已有 1 个高质量候选步骤
2025-10-30T13:04:43.398428Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing: 🎯 跳过智 能策略分析：候选步骤质量良好，直接使用原有步骤 (1个)
2025-10-30T13:04:43.398664Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing: 📋 V3最终 执行候选列表 (1 个步骤):
2025-10-30T13:04:43.398751Z  INFO employee_gui::exec::v3::helpers::intelligent_preprocessing:   [1/1] intelligent_step_1 -> action=SmartTap, target='我', mode='adaptive'
2025-10-30T13:04:43.400462Z  INFO employee_gui::exec::v3::helpers::device_manager: 🔧 [设备管理] 跳过设 备连接检查（TODO: 实现真实的设备检查）
2025-10-30T13:04:43.400627Z  INFO employee_gui::exec::v3::helpers::device_manager: ✅ [设备管理] 假设设 备 e0d909c3 连接正常
2025-10-30T13:04:43.400796Z  INFO employee_gui::exec::v3::helpers::device_manager: 📱 [设备管理] 开始获 取设备 e0d909c3 的UI快照
2025-10-30T13:04:43.400891Z  INFO employee_gui::services::quick_ui_automation: 🔍 快速抓取UI XML: device=e0d909c3
2025-10-30T13:04:43.401009Z  INFO employee_gui::services::safe_adb_manager: 🔧 执行ADB命令: D:\rust\active-projects\小红书\employeeGUI\platform-tools\adb.exe -s e0d909c3 exec-out uiautomator dump /dev/stdout 
2025-10-30T13:04:45.869201Z  INFO employee_gui::services::safe_adb_manager: ✅ ADB命令成功: (39153 字节 输出)
2025-10-30T13:04:45.871755Z  INFO employee_gui::services::quick_ui_automation: ✅ UI XML抓取完成: 2469ms
2025-10-30T13:04:45.871988Z  INFO employee_gui::exec::v3::helpers::device_manager: ✅ [设备管理] UI快照 获取成功，长度: 39153 字符
2025-10-30T13:04:45.872292Z DEBUG employee_gui::exec::v3::helpers::device_manager: 🔐 [设备管理] 计算屏 幕哈希: 9645a827 (前8位)
2025-10-30T13:04:45.872463Z  INFO employee_gui::exec::v3::helpers::device_manager: ✅ [设备管理] 快照获 取完成，hash: 9645a827
2025-10-30T13:04:45.872665Z  INFO employee_gui::exec::v3::helpers::phase_handlers: 🔍 宽松模式：检查screenHash是否匹配
2025-10-30T13:04:45.872855Z  INFO employee_gui::exec::v3::helpers::step_scoring: 🧠 智能分析步骤 intelligent_step_1 使用预计算置信度: 0.700
2025-10-30T13:04:45.872988Z  INFO employee_gui::exec::v3::helpers::phase_handlers: ✅ 步骤 intelligent_step_1 评分: 0.70
2025-10-30T13:04:45.873306Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 [智能执行] 开始执行智能分析步骤: intelligent_step_1
2025-10-30T13:04:45.875087Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [配置读取] Store  中没有找到配置，尝试了以下keys:
2025-10-30T13:04:45.875193Z  WARN employee_gui::exec::v3::helpers::step_executor:    1. 当前step_id: intelligent_step_1
2025-10-30T13:04:45.875292Z  WARN employee_gui::exec::v3::helpers::step_executor:    将使用参数中的默认 配置
2025-10-30T13:04:45.875447Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 [智能执行] 策略信息: xpath=//element_43 (来源:静态分析精确XPath), target='', confidence=0.700, strategy=fallback_smart_selection
⚠️ 检测到压缩的XML格式，正在展开以便解析...
✅ XML展开完成，从 39153 字符扩展到 39325 字符      
🔍 解析到 107 个UI元素（含子文本继承）
2025-10-30T13:04:45.883522Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量模式] 开始过滤 0 个候选
2025-10-30T13:04:45.883663Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量模式-可点击过  滤] 未找到可点击元素，保留全部 0 个候选
2025-10-30T13:04:45.883835Z  INFO employee_gui::exec::v3::helpers::step_executor: 🎯 [候选收集] 找到 0  个匹配的候选元素
2025-10-30T13:04:45.883919Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] original_data 存在
2025-10-30T13:04:45.883996Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] original_xml 长度: 39153 bytes
2025-10-30T13:04:45.884072Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] selected_xpath: String("//element_43")
2025-10-30T13:04:45.884654Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] children_texts: 0 个子元素文本
2025-10-30T13:04:45.884814Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 开始检测批量模式
2025-10-30T13:04:45.884902Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] merged_params keys: Some(["confidence", "minConfidence", "mode", "originalParams", "original_data", "reasoning", "smartSelection", "strategy", "strategy_type", "targetText", "xpath"])
2025-10-30T13:04:45.885019Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 找到顶层 smartSelection: Object {"antonymCheckEnabled": Bool(false), "batchConfig": Object {"continueOnError": Bool(true), "intervalMs": Number(2000), "maxCount": Number(10), "showProgress": Bool(true)}, "minConfidence": Number(0.8), "mode": String("all"), "semanticAnalysisEnabled": Bool(false), "targetText": String(""), "textMatchingMode": String("exact")}       
2025-10-30T13:04:45.885172Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 顶层 mode: String("all")
2025-10-30T13:04:45.885250Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 找到 originalParams
2025-10-30T13:04:45.885328Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] originalParams 中的 smartSelection: Object {"antonymCheckEnabled": Bool(false), "batchConfig": Object {"continueOnError": Bool(true), "intervalMs": Number(2000), "maxCount": Number(10), "showProgress": Bool(true)}, "minConfidence": Number(0.8), "mode": String("all"), "semanticAnalysisEnabled": Bool(false), "targetText": String(""), "textMatchingMode": String("exact")}
2025-10-30T13:04:45.885477Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] originalParams mode: String("all")
2025-10-30T13:04:45.885554Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测] mode=all, 候选数=0
2025-10-30T13:04:45.885625Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量模式] 检测到批量全部模式
2025-10-30T13:04:45.885695Z  INFO employee_gui::exec::v3::helpers::step_executor:    策略：复用'第一个' 的匹配逻辑，循环找到所有符合条件的目标并点击        
2025-10-30T13:04:45.885778Z  INFO employee_gui::exec::v3::helpers::batch_executor: 📋 [批量配置解析] max_count=10, interval_ms=2000ms, continue_on_error=true, show_progress=true, match_direction=forward      
2025-10-30T13:04:45.885863Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量模式] 开始批量执行（复用'第一个'策略）
2025-10-30T13:04:45.885936Z  INFO employee_gui::exec::v3::helpers::step_executor: 📋 [批量配置] maxCount=10, intervalMs=2000ms, continueOnError=true        
2025-10-30T13:04:45.886010Z  INFO employee_gui::exec::v3::helpers::step_executor: 📊 [初始候选] 从 UI dump 中找到 0 个初始候选元素
2025-10-30T13:04:45.886081Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 1/10] 开 始寻找目标元素
2025-10-30T13:04:45.886260Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.886339Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.886410Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 1/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.886483Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.886551Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 2/10] 开 始寻找目标元素
2025-10-30T13:04:45.886658Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.886734Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.886805Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 2/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.886875Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.886944Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 3/10] 开 始寻找目标元素
2025-10-30T13:04:45.887016Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.887155Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.887230Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 3/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.887301Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.887492Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 4/10] 开 始寻找目标元素
2025-10-30T13:04:45.887569Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.887660Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.887731Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 4/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.887803Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.887874Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 5/10] 开 始寻找目标元素
2025-10-30T13:04:45.887947Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.888021Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.888091Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 5/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.888353Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.889991Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 6/10] 开 始寻找目标元素
2025-10-30T13:04:45.890128Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.890208Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.890282Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 6/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.890356Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.890425Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 7/10] 开 始寻找目标元素
2025-10-30T13:04:45.890498Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.890572Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.890642Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 7/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.890713Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.890781Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 8/10] 开 始寻找目标元素
2025-10-30T13:04:45.890876Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.890980Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.891065Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 8/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.891148Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.891226Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 9/10] 开 始寻找目标元素
2025-10-30T13:04:45.891309Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.891388Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.891466Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 9/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.891546Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.891623Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 10/10] 开始寻找目标元素
2025-10-30T13:04:45.891723Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.891805Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.891884Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 10/10]  未找到符合条件的目标元素
2025-10-30T13:04:45.891961Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.916113Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [批量模式] 执行完成，成功 0 个点击
2025-10-30T13:04:45.916369Z  WARN employee_gui::exec::v3::chain_engine: ❌ 步骤 intelligent_step_1 执行 失败: 批量模式执行失败，0 个点击成功，尝试下一个候选步骤
2025-10-30T13:04:45.916627Z  WARN employee_gui::exec::v3::helpers::phase_handlers: ⚠️ 传统步骤执行失败 ((没有步骤满足执行条件)，触发智能分析作为后备方案     
2025-10-30T13:04:45.916927Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🧠 开始智能策略分析 (Step 0-6) - 从原始数据直接处理
2025-10-30T13:04:45.917197Z  INFO employee_gui::exec::v3::helpers::analysis_helpers:    📋 原始参数: {"confidence":0.7,"minConfidence":0.8,"mode":"adaptive","originalParams":{"element_path":"//element_43","original_data":{"children_texts":[],"confidence":0.8,"data_integrity":{"extraction_timestamp":1761829480816,"has_children_texts":false,"has_original_xml":true,"has_strategy_info":true,"has_user_xpath":true},"element_bounds":"[13,1158][534,2023]","element_text":"","key_attributes":{"class":"","content-desc":"","resource-id":"","text":""},"original_xml":"<XML:39117 bytes>","selected_xpath":"//element_43","strategy_type":"intelligent","xml_hash":"sha256:PD94bWwgdmVyc2lv"},"smartSelection":{"antonymCheckEnabled":false,"batchConfig":{"continueOnError":true,"intervalMs":2000,"maxCount":10,"showProgress":true},"minConfidence":0.8,"mode":"all","semanticAnalysisEnabled":false,"targetText":"","textMatchingMode":"exact"},"targetText":"","target_content_desc":""},"original_data":{"children_texts":[],"data_integrity":{"extraction_timestamp":1761829483393,"has_children_texts":false,"has_original_xml":true,"has_user_xpath":true},"element_bounds":"[13,1158][534,2023]","element_text":"","key_attributes":{"class":null,"content-desc":null,"resource-id":null},"original_xml":"<XML:39153 bytes>","selected_xpath":"//element_43","xml_hash":""},"reasoning":"回退分析找到目标: '我'","smartSelection":{"antonymCheckEnabled":false,"batchConfig":{"continueOnError":true,"intervalMs":2000,"maxCount":10,"showProgress":true},"minConfidence":0.8,"mode":"all","semanticAnalysisEnabled":false,"targetText":"","textMatchingMode":"exact"},"strategy":"fallback_smart_selection","strategy_type":"fallback_smart_selection","targetText":"我","xpath":"//*[@text='我' or @content-desc='我']"}
2025-10-30T13:04:45.917614Z  INFO employee_gui::exec::v3::helpers::analysis_helpers:    📱 XML长度: 39153 字符
2025-10-30T13:04:45.917699Z  INFO employee_gui::exec::v3::helpers::device_manager: 📱 [设备管理] 获取设 备 e0d909c3 的基础信息
2025-10-30T13:04:45.917783Z  INFO employee_gui::exec::v3::helpers::device_manager: ✅ [设备管理] 设备信 息获取完成: Some((1080, 2340))xSome("portrait"), orientation=Some("com.unknown.app")
2025-10-30T13:04:45.917877Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 0: 设备状态获取完成
⚠️ 检测到压缩的XML格式，正在展开以便解析...
✅ XML展开完成，从 39153 字符扩展到 39325 字符      
🔍 解析到 107 个UI元素（含子文本继承）
2025-10-30T13:04:45.926227Z  INFO employee_gui::exec::v3::helpers::intelligent_analysis: 🔍 提取了 107  个潜在交互元素（包括非clickable）
2025-10-30T13:04:45.926383Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 1: 从XML解 析出 107 个潜在可交互元素
2025-10-30T13:04:45.926485Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 2: 用户意图分析完成 - UserIntent { action_type: "click", target_text: "我", target_hints: ["我"], context: "用户目 标: 我", confidence: 0.8 }
2025-10-30T13:04:45.926951Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 3: 完成 107 个元素的智能评分
2025-10-30T13:04:45.927161Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:45.927358Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:45.927549Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:45.927726Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:45.927921Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:45.928139Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:45.928450Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:45.928853Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:45.929123Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:45.929378Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量模式继承] 已将 smartSelection 配置传递到执行计划: mode=Some(String("all"))
2025-10-30T13:04:45.930092Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 4: 生成 10 个策略候选
2025-10-30T13:04:45.931921Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 5: 选出 3  个最优策略
2025-10-30T13:04:45.932370Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔧 智能步骤参数: step_id=intelligent_step_1, params={
  "action": "SmartSelection",
  "bounds": "[864,2240][1080,2358]",
  "className": "android.view.ViewGroup",
  "confidence": 0.8425,
  "contentDesc": "我",
  "originalParams": {
    "confidence": 0.7,
    "minConfidence": 0.8,
    "mode": "adaptive",
    "originalParams": {
      "element_path": "//element_43",
      "original_data": {
        "children_texts": [],
        "confidence": 0.8,
        "data_integrity": {
          "extraction_timestamp": 1761829480816,    
          "has_children_texts": false,
          "has_original_xml": true,
          "has_strategy_info": true,
          "has_user_xpath": true
        },
        "element_bounds": "[13,1158][534,2023]",    
        "element_text": "",
        "key_attributes": {
          "class": "",
          "content-desc": "",
          "resource-id": "",
          "text": ""
        },
        "original_xml": "<XML:39117 bytes>",        
        "selected_xpath": "//element_43",
        "strategy_type": "intelligent",
        "xml_hash": "sha256:PD94bWwgdmVyc2lv"       
      },
      "smartSelection": {
        "antonymCheckEnabled": false,
        "batchConfig": {
          "continueOnError": true,
          "intervalMs": 2000,
          "maxCount": 10,
          "showProgress": true
        },
        "minConfidence": 0.8,
        "mode": "all",
        "semanticAnalysisEnabled": false,
        "targetText": "",
        "textMatchingMode": "exact"
      },
      "targetText": "",
      "target_content_desc": ""
    },
    "original_data": {
      "children_texts": [],
      "data_integrity": {
        "extraction_timestamp": 1761829483393,      
        "has_children_texts": false,
        "has_original_xml": true,
        "has_user_xpath": true
      },
      "element_bounds": "[13,1158][534,2023]",      
      "element_text": "",
      "key_attributes": {
        "class": null,
        "content-desc": null,
        "resource-id": null
      },
      "original_xml": "<XML:39153 bytes>",
      "selected_xpath": "//element_43",
      "xml_hash": ""
    },
    "reasoning": "回退分析找到目标: '我'",
    "smartSelection": {
      "antonymCheckEnabled": false,
      "batchConfig": {
        "continueOnError": true,
        "intervalMs": 2000,
        "maxCount": 10,
        "showProgress": true
      },
      "minConfidence": 0.8,
      "mode": "all",
      "semanticAnalysisEnabled": false,
      "targetText": "",
      "textMatchingMode": "exact"
    },
    "strategy": "fallback_smart_selection",
    "strategy_type": "fallback_smart_selection",    
    "targetText": "我",
    "xpath": "//*[@text='我' or @content-desc='我']"
  },
  "resourceId": "com.xingin.xhs:id/0_resource_name_obfuscated",
  "smartSelection": {
    "antonymCheckEnabled": false,
    "batchConfig": {
      "continueOnError": true,
      "intervalMs": 2000,
      "maxCount": 10,
      "showProgress": true
    },
    "minConfidence": 0.8,
    "mode": "all",
    "semanticAnalysisEnabled": false,
    "targetText": "",
    "textMatchingMode": "exact"
  },
  "strategy_type": "direct_click",
  "targetText": "我",
  "xpath": "//node[@index='104']"
}
2025-10-30T13:04:45.933854Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔧 智能步骤参数: step_id=intelligent_step_2, params={
  "action": "SmartSelection",
  "bounds": "[951,2275][993,2324]",
  "className": "android.widget.TextView",
  "confidence": 0.6930000000000001,
  "contentDesc": "",
  "originalParams": {
    "confidence": 0.7,
    "minConfidence": 0.8,
    "mode": "adaptive",
    "originalParams": {
      "element_path": "//element_43",
      "original_data": {
        "children_texts": [],
        "confidence": 0.8,
        "data_integrity": {
          "extraction_timestamp": 1761829480816,    
          "has_children_texts": false,
          "has_original_xml": true,
          "has_strategy_info": true,
          "has_user_xpath": true
        },
        "element_bounds": "[13,1158][534,2023]",    
        "element_text": "",
        "key_attributes": {
          "class": "",
          "content-desc": "",
          "resource-id": "",
          "text": ""
        },
        "original_xml": "<XML:39117 bytes>",        
        "selected_xpath": "//element_43",
        "strategy_type": "intelligent",
        "xml_hash": "sha256:PD94bWwgdmVyc2lv"       
      },
      "smartSelection": {
        "antonymCheckEnabled": false,
        "batchConfig": {
          "continueOnError": true,
          "intervalMs": 2000,
          "maxCount": 10,
          "showProgress": true
        },
        "minConfidence": 0.8,
        "mode": "all",
        "semanticAnalysisEnabled": false,
        "targetText": "",
        "textMatchingMode": "exact"
      },
      "targetText": "",
      "target_content_desc": ""
    },
    "original_data": {
      "children_texts": [],
      "data_integrity": {
        "extraction_timestamp": 1761829483393,      
        "has_children_texts": false,
        "has_original_xml": true,
        "has_user_xpath": true
      },
      "element_bounds": "[13,1158][534,2023]",      
      "element_text": "",
      "key_attributes": {
        "class": null,
        "content-desc": null,
        "resource-id": null
      },
      "original_xml": "<XML:39153 bytes>",
      "selected_xpath": "//element_43",
      "xml_hash": ""
    },
    "reasoning": "回退分析找到目标: '我'",
    "smartSelection": {
      "antonymCheckEnabled": false,
      "batchConfig": {
        "continueOnError": true,
        "intervalMs": 2000,
        "maxCount": 10,
        "showProgress": true
      },
      "minConfidence": 0.8,
      "mode": "all",
      "semanticAnalysisEnabled": false,
      "targetText": "",
      "textMatchingMode": "exact"
    },
    "strategy": "fallback_smart_selection",
    "strategy_type": "fallback_smart_selection",    
    "targetText": "我",
    "xpath": "//*[@text='我' or @content-desc='我']"
  },
  "resourceId": "com.xingin.xhs:id/0_resource_name_obfuscated",
  "smartSelection": {
    "antonymCheckEnabled": false,
    "batchConfig": {
      "continueOnError": true,
      "intervalMs": 2000,
      "maxCount": 10,
      "showProgress": true
    },
    "minConfidence": 0.8,
    "mode": "all",
    "semanticAnalysisEnabled": false,
    "targetText": "",
    "textMatchingMode": "exact"
  },
  "strategy_type": "text_based_click",
  "targetText": "我",
  "xpath": "//node[@index='105']"
}
2025-10-30T13:04:45.935199Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔧 智能步骤参数: step_id=intelligent_step_3, params={
  "action": "SmartSelection",
  "bounds": "[13,225][534,1145]",
  "className": "android.widget.FrameLayout",        
  "confidence": 0.5525,
  "contentDesc": "",
  "originalParams": {
    "confidence": 0.7,
    "minConfidence": 0.8,
    "mode": "adaptive",
    "originalParams": {
      "element_path": "//element_43",
      "original_data": {
        "children_texts": [],
        "confidence": 0.8,
        "data_integrity": {
          "extraction_timestamp": 1761829480816,    
          "has_children_texts": false,
          "has_original_xml": true,
          "has_strategy_info": true,
          "has_user_xpath": true
        },
        "element_bounds": "[13,1158][534,2023]",    
        "element_text": "",
        "key_attributes": {
          "class": "",
          "content-desc": "",
          "resource-id": "",
          "text": ""
        },
        "original_xml": "<XML:39117 bytes>",        
        "selected_xpath": "//element_43",
        "strategy_type": "intelligent",
        "xml_hash": "sha256:PD94bWwgdmVyc2lv"       
      },
      "smartSelection": {
        "antonymCheckEnabled": false,
        "batchConfig": {
          "continueOnError": true,
          "intervalMs": 2000,
          "maxCount": 10,
          "showProgress": true
        },
        "minConfidence": 0.8,
        "mode": "all",
        "semanticAnalysisEnabled": false,
        "targetText": "",
        "textMatchingMode": "exact"
      },
      "targetText": "",
      "target_content_desc": ""
    },
    "original_data": {
      "children_texts": [],
      "data_integrity": {
        "extraction_timestamp": 1761829483393,      
        "has_children_texts": false,
        "has_original_xml": true,
        "has_user_xpath": true
      },
      "element_bounds": "[13,1158][534,2023]",      
      "element_text": "",
      "key_attributes": {
        "class": null,
        "content-desc": null,
        "resource-id": null
      },
      "original_xml": "<XML:39153 bytes>",
      "selected_xpath": "//element_43",
      "xml_hash": ""
    },
    "reasoning": "回退分析找到目标: '我'",
    "smartSelection": {
      "antonymCheckEnabled": false,
      "batchConfig": {
        "continueOnError": true,
        "intervalMs": 2000,
        "maxCount": 10,
        "showProgress": true
      },
      "minConfidence": 0.8,
      "mode": "all",
      "semanticAnalysisEnabled": false,
      "targetText": "",
      "textMatchingMode": "exact"
    },
    "strategy": "fallback_smart_selection",
    "strategy_type": "fallback_smart_selection",    
    "targetText": "我",
    "xpath": "//*[@text='我' or @content-desc='我']"
  },
  "resourceId": "com.xingin.xhs:id/0_resource_name_obfuscated",
  "smartSelection": {
    "antonymCheckEnabled": false,
    "batchConfig": {
      "continueOnError": true,
      "intervalMs": 2000,
      "maxCount": 10,
      "showProgress": true
    },
    "minConfidence": 0.8,
    "mode": "all",
    "semanticAnalysisEnabled": false,
    "targetText": "",
    "textMatchingMode": "exact"
  },
  "strategy_type": "direct_click",
  "targetText": "",
  "xpath": "//node[@index='21']"
}
2025-10-30T13:04:45.936631Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ Step 6: 转换为 3 个V3执行步骤
2025-10-30T13:04:45.936749Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🔗 调用增强版前端智能策略分析系统
2025-10-30T13:04:45.937032Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🔍 [DEBUG] original_params 内容: {
  "confidence": 0.7,
  "minConfidence": 0.8,
  "mode": "adaptive",
  "originalParams": {
    "element_path": "//element_43",
    "original_data": {
      "children_texts": [],
      "confidence": 0.8,
      "data_integrity": {
        "extraction_timestamp": 1761829480816,      
        "has_children_texts": false,
        "has_original_xml": true,
        "has_strategy_info": true,
        "has_user_xpath": true
      },
      "element_bounds": "[13,1158][534,2023]",      
      "element_text": "",
      "key_attributes": {
        "class": "",
        "content-desc": "",
        "resource-id": "",
        "text": ""
      },
      "original_xml": "<XML:39117 bytes>",
      "selected_xpath": "//element_43",
      "strategy_type": "intelligent",
      "xml_hash": "sha256:PD94bWwgdmVyc2lv"
    },
    "smartSelection": {
      "antonymCheckEnabled": false,
      "batchConfig": {
        "continueOnError": true,
        "intervalMs": 2000,
        "maxCount": 10,
        "showProgress": true
      },
      "minConfidence": 0.8,
      "mode": "all",
      "semanticAnalysisEnabled": false,
      "targetText": "",
      "textMatchingMode": "exact"
    },
    "targetText": "",
    "target_content_desc": ""
  },
  "original_data": {
    "children_texts": [],
    "data_integrity": {
      "extraction_timestamp": 1761829483393,        
      "has_children_texts": false,
      "has_original_xml": true,
      "has_user_xpath": true
    },
    "element_bounds": "[13,1158][534,2023]",        
    "element_text": "",
    "key_attributes": {
      "class": null,
      "content-desc": null,
      "resource-id": null
    },
    "original_xml": "<XML:39153 bytes>",
    "selected_xpath": "//element_43",
    "xml_hash": ""
  },
  "reasoning": "回退分析找到目标: '我'",
  "smartSelection": {
    "antonymCheckEnabled": false,
    "batchConfig": {
      "continueOnError": true,
      "intervalMs": 2000,
      "maxCount": 10,
      "showProgress": true
    },
    "minConfidence": 0.8,
    "mode": "all",
    "semanticAnalysisEnabled": false,
    "targetText": "",
    "textMatchingMode": "exact"
  },
  "strategy": "fallback_smart_selection",
  "strategy_type": "fallback_smart_selection",      
  "targetText": "我",
  "xpath": "//*[@text='我' or @content-desc='我']"  
}
2025-10-30T13:04:45.937966Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: 🔥 [修复验证] 从original_data提取用户选择: xpath=//element_43, content_desc=None, text=None
2025-10-30T13:04:45.938102Z  INFO employee_gui::services::intelligent_analysis_service: 🧠 使用后端完整 Step 0-6 智能分析: v3_intelligent_raw_1761829485938 
2025-10-30T13:04:45.938189Z  INFO employee_gui::services::intelligent_analysis_service: 📋 开始解析 UI XML，长度: 39153 字符
⚠️ 检测到压缩的XML格式，正在展开以便解析...
✅ XML展开完成，从 39153 字符扩展到 39325 字符      
🔍 解析到 107 个UI元素（含子文本继承）
2025-10-30T13:04:45.949551Z  INFO employee_gui::services::intelligent_analysis_service: ✅ 解析到 107 个 UI 元素
2025-10-30T13:04:45.951693Z  INFO employee_gui::services::intelligent_analysis_service: ✅ 使用完整用户 选择上下文: xpath=//element_43, content_desc=None   
2025-10-30T13:04:45.951921Z  INFO employee_gui::services::intelligent_analysis_service: ✨ [XPath增强]  智能生成 XPath: //*[@bounds='[13,1158][534,2023]'] (置信度: 0.30)
2025-10-30T13:04:45.952032Z  INFO employee_gui::services::intelligent_analysis_service:    原始XPath: //element_43
2025-10-30T13:04:45.952162Z  INFO employee_gui::services::intelligent_analysis_service: 🔍 分析上下文: resource_id=None, text=None, content-desc=None, xpath=//*[@bounds='[13,1158][534,2023]']
2025-10-30T13:04:45.952308Z  WARN employee_gui::services::intelligent_analysis_service: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-30T13:04:45.952421Z  WARN employee_gui::services::intelligent_analysis_service: 🧠 Step 0-6 智能分析完成，生成 1 个候选策略
2025-10-30T13:04:45.952814Z  WARN employee_gui::services::intelligent_analysis_service:   1. XPath兜底策略 - 置信度: 0.546 (xpath_fallback)
2025-10-30T13:04:45.953017Z  WARN employee_gui::services::intelligent_analysis_service: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025-10-30T13:04:45.953176Z  INFO employee_gui::services::intelligent_analysis_service: 🔍 [数据保留] original_data 构建完成: has_user_selection=true, xml_size=39153 bytes
2025-10-30T13:04:45.953326Z DEBUG employee_gui::services::intelligent_analysis_service: ✅ [候选生成] 候选 XPath兜底策略: 已包含 original_data (xml_size=39153 bytes)
2025-10-30T13:04:45.953443Z  INFO employee_gui::services::intelligent_analysis_service: 🔍 [Bounds提取] 开始从 1 个候选的 xpath 中提取 bounds
2025-10-30T13:04:45.953576Z  WARN employee_gui::services::intelligent_analysis_service: ⚠️ [XPath解析]   不支持的 XPath 格式: //*[@bounds='[13,1158][534,2023]']
2025-10-30T13:04:45.953692Z  WARN employee_gui::services::intelligent_analysis_service: ⚠️ [Bounds提取]  候选 #1: xpath=//*[@bounds='[13,1158][534,2023]'] -> 未找到匹配元素
2025-10-30T13:04:45.953837Z  WARN employee_gui::services::intelligent_analysis_service: ⚠️ 主要策略置信  度低，启用智能回退分析
2025-10-30T13:04:45.953938Z  INFO employee_gui::services::intelligent_analysis_service: 🔄 执行智能回退 分析
2025-10-30T13:04:45.954141Z  INFO employee_gui::services::intelligent_analysis_service: 🔍 [回退分析] original_data 构建完成: has_user_selection=true, xml_size=39153 bytes
2025-10-30T13:04:45.954311Z  INFO employee_gui::services::intelligent_analysis_service: ✅ [回退分析] 回退候选已包含 original_data (xml_size=39153 bytes)   
2025-10-30T13:04:45.954458Z  INFO employee_gui::services::intelligent_analysis_service: 🎯 [Bounds过滤] 检测到用户选择bounds，开始智能分析: user_bounds=[13,1158][534,2023]
2025-10-30T13:04:45.954842Z  INFO employee_gui::exec::v3::helpers::element_hierarchy_analyzer: 🎯 找到 4 个完全包含在用户区域内的可点击元素
2025-10-30T13:04:45.955076Z  WARN employee_gui::services::intelligent_analysis_service: ⚠️ [智能修正]  用户选择的区域 [13,1158][534,2023] 包含 4 个可点击子元素，但生成的候选可能不在此区域内!
2025-10-30T13:04:45.956688Z  WARN employee_gui::services::intelligent_analysis_service: 💡 [建议] 用户可能误选了容器而不是具体按钮，建议前端优化可视化选择  
2025-10-30T13:04:45.956901Z  INFO employee_gui::services::intelligent_analysis_service:   可点击子元素 #1: text='', bounds=[13,1158][534,2023], resource_id=Some("com.xingin.xhs:id/0_resource_name_obfuscated")
2025-10-30T13:04:45.957084Z  INFO employee_gui::services::intelligent_analysis_service:   可点击子元素 #2: text='小何老师', bounds=[13,1921][523,2023], resource_id=Some("com.xingin.xhs:id/0_resource_name_obfuscated")
2025-10-30T13:04:45.957234Z  INFO employee_gui::services::intelligent_analysis_service:   可点击子元素 #3: text='55', bounds=[395,1933][473,2011], resource_id=Some("com.xingin.xhs:id/0_resource_name_obfuscated")
2025-10-30T13:04:45.957818Z  INFO employee_gui::services::intelligent_analysis_service:   可点击子元素 #4: text='55', bounds=[473,1954][507,1991], resource_id=Some("com.xingin.xhs:id/0_resource_name_obfuscated")
2025-10-30T13:04:45.957998Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🎯 [Bounds匹配] 开始根据用户选择bounds重新排序候选: user_bounds=[13,1158][534,2023]
2025-10-30T13:04:45.958150Z  INFO employee_gui::exec::v3::helpers::strategy_generation:   [1] bounds=None, text=Some("我"), 原始置信度=0.700, bounds匹配得分=0.000
2025-10-30T13:04:45.958363Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [Bounds匹配] 候选重排序完成，共 1 个候选
2025-10-30T13:04:45.958471Z  INFO employee_gui::services::intelligent_analysis_service: ✅ [Bounds过滤] 候选重排序完成，最佳候选: Some(Some("我"))
2025-10-30T13:04:45.959314Z  INFO employee_gui::services::intelligent_analysis_service: ✅ 完整智能分析 完成: 1 个候选策略
2025-10-30T13:04:45.959570Z  WARN employee_gui::exec::v3::helpers::strategy_generation: ⚠️ [XPath回退]   智能分析未提供XPath，使用策略回退生成
2025-10-30T13:04:45.959740Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔄 [数据传递] 步骤 1 包含original_data，已传递到执行层
2025-10-30T13:04:45.959884Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [批量配置保留] 步骤 1 已继承 smartSelection: mode=Some(String("all"))
2025-10-30T13:04:45.960050Z  INFO employee_gui::exec::v3::helpers::strategy_generation: ✅ [原始参数保留] 步骤 1 已继承 originalParams
2025-10-30T13:04:45.960182Z  INFO employee_gui::exec::v3::helpers::strategy_generation: 🔄 转换了 1 个智能分析候选为 V3 步骤
2025-10-30T13:04:45.960707Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ 增强版前端智能分析完成，转换为 1 个 V3 步骤
2025-10-30T13:04:45.960959Z  INFO employee_gui::exec::v3::helpers::analysis_helpers: ✅ 智能策略分析完成，生成 1 个候选步骤
2025-10-30T13:04:45.962348Z  INFO employee_gui::exec::v3::helpers::phase_handlers: ✅ 后备智能策略分析成功生成 1 个候选步骤
2025-10-30T13:04:45.962524Z  INFO employee_gui::exec::v3::helpers::step_scoring: 🧠 智能分析步骤 intelligent_step_1 使用预计算置信度: 0.700
2025-10-30T13:04:45.962646Z  INFO employee_gui::exec::v3::helpers::phase_handlers: 🧠 尝试执行智能生成步骤: intelligent_step_1 (置信度: 0.70)
2025-10-30T13:04:45.962768Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 [智能执行] 开始执行智能分析步骤: intelligent_step_1
2025-10-30T13:04:45.963129Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [配置读取] Store  中没有找到配置，尝试了以下keys:
2025-10-30T13:04:45.963475Z  WARN employee_gui::exec::v3::helpers::step_executor:    1. 当前step_id: intelligent_step_1
2025-10-30T13:04:45.963603Z  WARN employee_gui::exec::v3::helpers::step_executor:    将使用参数中的默认 配置
2025-10-30T13:04:45.963796Z  INFO employee_gui::exec::v3::helpers::step_executor: 🧠 [智能执行] 策略信息: xpath=//element_43 (来源:静态分析精确XPath), target='', confidence=0.700, strategy=fallback_smart_selection
⚠️ 检测到压缩的XML格式，正在展开以便解析...
✅ XML展开完成，从 39153 字符扩展到 39325 字符      
🔍 解析到 107 个UI元素（含子文本继承）
2025-10-30T13:04:45.975065Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量模式] 开始过滤 0 个候选
2025-10-30T13:04:45.975237Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量模式-可点击过  滤] 未找到可点击元素，保留全部 0 个候选
2025-10-30T13:04:45.975357Z  INFO employee_gui::exec::v3::helpers::step_executor: 🎯 [候选收集] 找到 0  个匹配的候选元素
2025-10-30T13:04:45.975521Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] original_data 存在
2025-10-30T13:04:45.975691Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] original_xml 长度: 39153 bytes
2025-10-30T13:04:45.975853Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] selected_xpath: String("//element_43")
2025-10-30T13:04:45.975989Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [数据完整性] children_texts: 0 个子元素文本
2025-10-30T13:04:45.976092Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 开始检测批量模式
2025-10-30T13:04:45.976202Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] merged_params keys: Some(["confidence", "minConfidence", "mode", "originalParams", "original_data", "reasoning", "smartSelection", "strategy", "strategy_type", "targetText", "xpath"])
2025-10-30T13:04:45.976391Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 找到顶层 smartSelection: Object {"antonymCheckEnabled": Bool(false), "batchConfig": Object {"continueOnError": Bool(true), "intervalMs": Number(2000), "maxCount": Number(10), "showProgress": Bool(true)}, "minConfidence": Number(0.8), "mode": String("all"), "semanticAnalysisEnabled": Bool(false), "targetText": String(""), "textMatchingMode": String("exact")}       
2025-10-30T13:04:45.976576Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 顶层 mode: String("all")
2025-10-30T13:04:45.976678Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] 找到 originalParams
2025-10-30T13:04:45.976779Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] originalParams 中的 smartSelection: Object {"antonymCheckEnabled": Bool(false), "batchConfig": Object {"continueOnError": Bool(true), "intervalMs": Number(2000), "maxCount": Number(10), "showProgress": Bool(true)}, "minConfidence": Number(0.8), "mode": String("all"), "semanticAnalysisEnabled": Bool(false), "targetText": String(""), "textMatchingMode": String("exact")}
2025-10-30T13:04:45.976958Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测-DEBUG] originalParams mode: String("all")
2025-10-30T13:04:45.977056Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔍 [批量检测] mode=all, 候选数=0
2025-10-30T13:04:45.977151Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量模式] 检测到批量全部模式
2025-10-30T13:04:45.977245Z  INFO employee_gui::exec::v3::helpers::step_executor:    策略：复用'第一个' 的匹配逻辑，循环找到所有符合条件的目标并点击        
2025-10-30T13:04:45.977351Z  INFO employee_gui::exec::v3::helpers::batch_executor: 📋 [批量配置解析] max_count=10, interval_ms=2000ms, continue_on_error=true, show_progress=true, match_direction=forward      
2025-10-30T13:04:45.977462Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量模式] 开始批量执行（复用'第一个'策略）
2025-10-30T13:04:45.977563Z  INFO employee_gui::exec::v3::helpers::step_executor: 📋 [批量配置] maxCount=10, intervalMs=2000ms, continueOnError=true        
2025-10-30T13:04:45.977659Z  INFO employee_gui::exec::v3::helpers::step_executor: 📊 [初始候选] 从 UI dump 中找到 0 个初始候选元素
2025-10-30T13:04:45.977755Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 1/10] 开 始寻找目标元素
2025-10-30T13:04:45.977852Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.977947Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.978265Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 1/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.978378Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.978475Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 2/10] 开 始寻找目标元素
2025-10-30T13:04:45.978573Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.978687Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.979227Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 2/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.979342Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.979433Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 3/10] 开 始寻找目标元素
2025-10-30T13:04:45.979531Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.979623Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.979712Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 3/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.979814Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.979901Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 4/10] 开 始寻找目标元素
2025-10-30T13:04:45.979995Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.981096Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.981403Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 4/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.981507Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.981681Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 5/10] 开 始寻找目标元素
2025-10-30T13:04:45.981863Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.981992Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.982094Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 5/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.982194Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.982317Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 6/10] 开 始寻找目标元素
2025-10-30T13:04:45.982426Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.982552Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.982651Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 6/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.982747Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.982840Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 7/10] 开 始寻找目标元素
2025-10-30T13:04:45.982936Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.983117Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.983213Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 7/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.983370Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.983471Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 8/10] 开 始寻找目标元素
2025-10-30T13:04:45.983612Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.983765Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.983908Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 8/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.984012Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.984106Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 9/10] 开 始寻找目标元素
2025-10-30T13:04:45.984218Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.984338Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.984459Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 9/10] 未  找到符合条件的目标元素
2025-10-30T13:04:45.984552Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.984641Z  INFO employee_gui::exec::v3::helpers::step_executor: 🔄 [批量执行 10/10] 开始寻找目标元素
2025-10-30T13:04:45.984747Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [智能执行] 真机XML  中未找到目标元素，启动失败恢复机制
2025-10-30T13:04:45.984839Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ 失败恢复逻辑已禁用  ，返回 None
2025-10-30T13:04:45.984927Z  WARN employee_gui::exec::v3::helpers::step_executor: ⚠️ [批量执行 10/10]  未找到符合条件的目标元素
2025-10-30T13:04:45.985017Z  INFO employee_gui::exec::v3::helpers::step_executor:    continueOnError=true，尝试下一个
2025-10-30T13:04:45.985104Z  INFO employee_gui::exec::v3::helpers::step_executor: ✅ [批量模式] 执行完成，成功 0 个点击
2025-10-30T13:04:45.985276Z  WARN employee_gui::exec::v3::helpers::phase_handlers: ❌ 智能步骤 intelligent_step_1 执行失败: 批量模式执行失败，0 个点击成功  
2025-10-30T13:04:45.985396Z  WARN employee_gui::exec::v3::helpers::phase_handlers: ❌ 所有智能生成步骤都未满足阈值或执行失败
2025-10-30T13:04:45.985683Z  WARN employee_gui::exec::v3::helpers::phase_handlers: ❌ 链式执行失败: 传统匹配和智能分析都未找到可执行步骤 (阈值: 0.50)       
2025-10-30T13:04:45.985842Z  INFO employee_gui::exec::v3::chain_engine: ✅ 智能自动链执行完成: analysisId=step_execution_1761829425810_2pk3zha0u, adoptedStepId=None, elapsed=2587ms
2025-10-30T13:04:46.299853Z  INFO employee_gui::exec::v3::helpers::execution_tracker: 🔓 【执行保护】已 释放 analysis_id 'step_execution_1761829425810_2pk3zha0u' 锁定
2025-10-30T13:04:46.300075Z DEBUG employee_gui::exec::v3::helpers::execution_tracker: 🔓 【RAII】守卫析 构时自动释放锁: step_execution_1761829425810_2pk3zha0u
2025-10-30T13:04:46.667747Z ERROR employee_gui::services::adb_device_tracker: 读取设备列表失败: 读取数据长度失败: 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。 (os error 10060)       
2025-10-30T13:04:46.668074Z  INFO employee_gui::services::adb_device_tracker: 🔄 ADB设备跟踪连接正常结束，准备重连
2025-10-30T13:04:46.668206Z  INFO employee_gui::services::adb_device_tracker: 🔌 连接到ADB server (127.0.0.1:5037)
2025-10-30T13:04:46.668955Z DEBUG employee_gui::services::adb_device_tracker: 📤 发送ADB协议命令: 0012host:track-devices
2025-10-30T13:04:46.669260Z  INFO employee_gui::services::adb_device_tracker: ✅ ADB server连接成功，开 始监听设备变化
2025-10-30T13:04:46.669403Z DEBUG employee_gui::services::adb_device_tracker: 📱 收到设备列表: e0d909c3device
2025-10-30T13:04:46.669544Z DEBUG employee_gui::services::adb_device_tracker: 📱 设备状态无变化 (1 个设 备)
