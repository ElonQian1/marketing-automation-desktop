# AI Automation Module (AI 自动化模块)

## 1. 目标与场景
- 覆盖行业关键词监控、评论抓取、任务筛选、自动回复与关注。
- 支撑账号/视频监控、提醒、人工确认以及自动化执行。
- 产出日报：关注清单与回复清单，便于导出与审计。

## 2. 能力拆分
1. **数据采集层**：抓取视频、评论、互动指标；清理并结构化。
2. **任务编排层**：基于数量、地域、时间窗口、可用设备等条件做筛选与去重。
3. **AI 智能层**（OpenAI API）：
   - 评论理解：分类意图、情感打分、过滤敏感内容。
   - 回复草稿：生成多候选回复，结合品牌语调与风险规则。
   - 任务优先级：综合互动指标与历史表现给出处理顺序建议。
   - 监控提醒：对异常数据（互动暴涨/下跌）生成摘要与提醒文案。
4. **执行层**：按设备账号派发关注/回复任务，记录状态并回写结果。
5. **报表层**：汇总关注/回复数据，生成可下载日志与分析指标。

## 3. 与 OpenAI 的集成建议
- **模型选择**：使用可联网模型（如 `gpt-4.1` 系列或 `gpt-4o-mini`）处理自然语言理解与生成；对批量任务可考虑批处理或微调以降低成本。
- **Prompt 规范**：建立模板，注入品牌语调、敏感词清单、地域策略，输出结构化 JSON 便于程序解析。
- **工具封装**：实现统一的 AI 服务层（Rust/Tauri 后端 or 云服务），包含重试、速率限制、消重与日志。
- **数据安全**：脱敏后再发送到 OpenAI；对回复结果进行人工抽检或规则校验。
- **监控报警**：记录调用耗时、失败率与费用，纳入运营报表。

## 4. 建议的文档结构
```
docs/AI_AUTOMATION_MODULE/
├── README.md                ← 总览与索引（当前文件）
├── 01-product-goals.md      ← 业务目标、用户画像、使用流程
├── 02-data-pipeline.md      ← 数据采集与清洗、存储设计
├── 03-ai-service.md         ← OpenAI 集成、Prompt、模型策略
├── 04-task-orchestration.md ← 任务筛选、设备分派、去重逻辑
├── 05-response-playbook.md  ← 回复策略、审核流程、模版库
├── 06-reporting.md          ← 日报字段、导出格式、可视化
└── 99-roadmap.md            ← 阶段规划、里程碑、风险与待办
```
> 可以按需逐步补充各文件，保持“需求 → 方案 → 数据结构 → 接口 → 校验”的顺序。

## 5. 文档索引
- `01-product-goals.md`：覆盖愿景、角色、场景、MVP 范围与成功指标。
- `02-data-pipeline.md`：描述抓取数据的标准化、去重、入库与队列设计。
- `03-ai-service.md`：OpenAI 集成架构、Prompt 策略、安全合规与观测。
- `04-task-orchestration.md`：任务生命周期、队列管理、设备分配与接口。
- `05-response-playbook.md`：语调准则、模板库、敏感词管理与质检机制。
- `06-reporting.md`：日报生成流程、字段定义、可视化与留存策略。
- `99-roadmap.md`：阶段规划、里程碑、风险与下一步清单。

## 5. 下一步建议
1. 与业务确认优先级：先落地“行业关键词监控 + AI 回复草稿” MVP。
2. 定义核心数据结构与 API（评论实体、任务实体、设备账号配置）。
3. 设计 Prompt 模板并创建 `03-ai-service.md` 初稿。
4. 搭建调用 OpenAI API 的服务层，完成基础回调与日志。
5. 建立日报导出脚本，并验证与 AI 结果联动。
