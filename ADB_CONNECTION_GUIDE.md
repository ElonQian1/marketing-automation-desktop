# ADB连接测试指南

## 功能说明

本应用已集成雷电模拟器ADB连接功能，可以通过ADB与雷电安卓模拟器建立连接，执行各种自动化操作。

## 使用步骤

### 1. 准备工作

1. **启动雷电模拟器**
   - 打开雷电模拟器应用
   - 确保模拟器完全启动并运行

2. **开启ADB调试**
   - 在模拟器中进入：设置 > 开发者选项
   - 开启"USB调试"选项
   - 如果找不到开发者选项，请：设置 > 关于手机 > 连续点击"版本号"7次

3. **检查ADB路径**
   - 应用已配置雷电模拟器ADB路径：`D:\leidian\LDPlayer9\adb.exe`
   - 请确认您的雷电模拟器安装在此路径

### 2. 在应用中测试连接

1. **进入ADB测试页面**
   - 在左侧导航栏点击"ADB测试" 🔧

2. **检查ADB状态**
   - 页面加载时会自动检查ADB可用性
   - 显示"ADB可用: 是"表示ADB程序正常

3. **连接雷电模拟器**
   - 选择端口（默认5555）
   - 点击"连接雷电模拟器"按钮
   - 等待连接状态变为"已连接"

4. **查看连接设备**
   - 连接成功后，设备列表会显示连接的模拟器
   - 设备状态为"device"表示连接正常

5. **测试设备功能**
   - 点击设备项的"测试"按钮
   - 会执行简单的shell命令测试连接

## 常见问题解决

### 问题1: ADB不可用
- **现象**: 显示"ADB可用: 否"
- **解决**:
  - 检查雷电模拟器是否安装在 `D:\leidian\LDPlayer9\`
  - 确认adb.exe文件存在

### 问题2: 连接失败
- **现象**: 连接状态始终为"未连接"
- **解决**:
  - 确保雷电模拟器正在运行
  - 尝试不同的端口（5556, 5557等）
  - 重启ADB服务器

### 问题3: 设备离线
- **现象**: 设备状态显示"offline"
- **解决**:
  - 在模拟器中重新开启USB调试
  - 重启模拟器
  - 重启ADB服务器

### 问题4: 设备未授权
- **现象**: 设备状态显示"unauthorized"
- **解决**:
  - 在模拟器中会弹出授权对话框，点击"允许"
  - 如无对话框，重新开启USB调试

## 支持的操作

连接成功后，可以执行以下操作：
- ✅ 获取设备列表
- ✅ 连接/断开设备
- ✅ 执行shell命令
- ✅ 模拟点击操作
- ✅ 输入文本
- ✅ 启动应用

## 雷电模拟器端口说明

雷电模拟器默认ADB端口：
- 模拟器1: 5555
- 模拟器2: 5556
- 模拟器3: 5557
- 模拟器4: 5558
- 模拟器5: 5559

## 测试建议

1. **基础连接测试**
   - 启动单个雷电模拟器实例
   - 使用默认端口5555连接

2. **多设备测试**
   - 启动多个模拟器实例
   - 依次连接不同端口

3. **功能测试**
   - 测试基本shell命令
   - 测试点击和文本输入
   - 测试应用启动

## 注意事项

- 确保Windows防火墙不阻止ADB连接
- 模拟器必须完全启动后再尝试连接
- 如遇问题，尝试重启ADB服务器
- 多设备连接时注意端口不冲突
