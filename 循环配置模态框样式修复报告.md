# å¾ªç¯é…ç½®æ¨¡æ€æ¡†æ·±è‰²ä¸»é¢˜æ ·å¼ä¿®å¤æŠ¥å‘Š

## ğŸ› é—®é¢˜æè¿°

**ç”¨æˆ·åé¦ˆ**ï¼šå¾ªç¯ä½“å¼¹å‡º"å¾ªç¯é…ç½®"æ¨¡æ€æ¡†æ—¶ï¼Œæ ·å¼æ˜¾ç¤ºä¸º**é»‘åº•æ·±å­—**ï¼Œå­—ä½“å¯è¯»æ€§æå·®ã€‚ç”¨æˆ·å¸Œæœ›ä½¿ç”¨**æ·±è‰²ä¸»é¢˜**ã€‚

**å…·ä½“è¡¨ç°**ï¼š
- æ¨¡æ€æ¡†èƒŒæ™¯ï¼šæ·±è‰² âœ… ç¬¦åˆæœŸæœ›
- æ–‡å­—é¢œè‰²ï¼šæ·±è‰² âŒ ä¸å¯è¯»
- ç»“æœï¼šé»‘åº•æ·±å­—ï¼Œç”¨æˆ·æ— æ³•æ­£å¸¸é˜…è¯»å†…å®¹

**æ­£ç¡®æœŸæœ›**ï¼š
- æ¨¡æ€æ¡†èƒŒæ™¯ï¼šæ·±è‰² âœ…
- æ–‡å­—é¢œè‰²ï¼šæµ…è‰² âœ… 
- ç»“æœï¼šæ·±åº•æµ…å­—ï¼Œæ¸…æ™°å¯è¯»çš„æ·±è‰²ä¸»é¢˜

## ğŸ” æ ¹å› åˆ†æ

**æ ·å¼å†²çªé—®é¢˜**ï¼š
1. **é”™è¯¯çš„ä¸»é¢˜ç±»å**ï¼šä½¿ç”¨äº† `light-theme-force` ç±»ï¼Œä¸ç”¨æˆ·çš„æ·±è‰²ä¸»é¢˜éœ€æ±‚ä¸ç¬¦
2. **æ–‡å­—é¢œè‰²é”™è¯¯**ï¼šæ·±è‰²èƒŒæ™¯é…æ·±è‰²æ–‡å­—ï¼Œå¯¼è‡´ä¸å¯è¯»
3. **ç¼ºå°‘æ·±è‰²ä¸»é¢˜æ ·å¼**ï¼šæ²¡æœ‰ä¸“é—¨çš„æ·±è‰²æ¨¡æ€æ¡†æ ·å¼è§„åˆ™

**æŠ€æœ¯ç»†èŠ‚**ï¼š
- æ¨¡æ€æ¡†éœ€è¦æ·±è‰²èƒŒæ™¯ + æµ…è‰²æ–‡å­—çš„ç»„åˆ
- éœ€è¦è¦†ç›– Ant Design é»˜è®¤çš„æ¨¡æ€æ¡†æ ·å¼
- éœ€è¦ç¡®ä¿æ‰€æœ‰å­ç»„ä»¶ï¼ˆè¾“å…¥æ¡†ã€æŒ‰é’®ã€Alertç­‰ï¼‰éƒ½ç¬¦åˆæ·±è‰²ä¸»é¢˜

## ğŸ”§ ä¿®å¤æ–¹æ¡ˆ

### 1. æ›´æ”¹æ¨¡æ€æ¡†ç±»å

**æ–‡ä»¶**ï¼š`src/components/LoopCards/LoopConfigModal.tsx`

```tsx
// ä¿®æ”¹å‰
className="light-theme-force"

// ä¿®æ”¹å  
className="dark-theme-modal"
```

### 2. æ–°å¢æ·±è‰²ä¸»é¢˜æ ·å¼è§„åˆ™

**æ–‡ä»¶**ï¼š`src/styles/tokens.css`

æ·»åŠ å®Œæ•´çš„æ·±è‰²æ¨¡æ€æ¡†æ ·å¼ï¼š

```css
/* ğŸŒ™ æ·±è‰²ä¸»é¢˜æ¨¡æ€æ¡†æ ·å¼ */
.dark-theme-modal.ant-modal .ant-modal-content,
.dark-theme-modal .ant-modal-content {
  background: var(--bg-elevated, #1e293b) !important;
  color: var(--text-1, #f8fafc) !important;
  border: 1px solid var(--border-primary, #334155) !important;
}

.dark-theme-modal .ant-modal-header {
  background: var(--bg-secondary, #334155) !important;
  border-color: var(--border-secondary, #475569) !important;
}

.dark-theme-modal .ant-modal-title {
  color: var(--text-1, #f8fafc) !important;
}

.dark-theme-modal .ant-modal-body {
  background: var(--bg-elevated, #1e293b) !important;
  color: var(--text-1, #f8fafc) !important;
}

.dark-theme-modal .ant-modal-footer {
  background: var(--bg-secondary, #334155) !important;
  border-color: var(--border-secondary, #475569) !important;
}
```

### 3. æ·±è‰²ä¸»é¢˜ç»„ä»¶æ ·å¼

```css
/* æ·±è‰²æ¨¡æ€æ¡†å†…çš„æ‰€æœ‰æ–‡æœ¬å…ƒç´  */
.dark-theme-modal .ant-modal-content span,
.dark-theme-modal .ant-modal-content p,
.dark-theme-modal .ant-modal-content div,
.dark-theme-modal .ant-modal-content strong,
.dark-theme-modal .ant-modal-content label {
  color: var(--text-1, #f8fafc) !important;
}

/* æ·±è‰²æ¨¡æ€æ¡†ä¸­çš„è¾“å…¥ç»„ä»¶ */
.dark-theme-modal .ant-input,
.dark-theme-modal .ant-input-number,
.dark-theme-modal .ant-input-number-input {
  background: var(--bg-base, #0f172a) !important;
  color: var(--text-1, #f8fafc) !important;
  border-color: var(--border-primary, #334155) !important;
}

/* æ·±è‰²æ¨¡æ€æ¡†ä¸­çš„æŒ‰é’® */
.dark-theme-modal .ant-btn-default {
  background: var(--bg-secondary, #334155) !important;
  color: var(--text-1, #f8fafc) !important;
  border-color: var(--border-primary, #334155) !important;
}
```

## ğŸ¨ ä¿®å¤æ•ˆæœ

### ä¿®å¤å‰ï¼š
- âŒ èƒŒæ™¯ï¼šæ·±è‰² (#1E293B)
- âŒ æ–‡å­—ï¼šæ·±è‰² (#1E293B)
- âŒ ç»“æœï¼šé»‘åº•æ·±å­—ï¼Œä¸å¯è¯»

### ä¿®å¤åï¼š
- âœ… èƒŒæ™¯ï¼šæ·±è‰² (#1E293B)
- âœ… æ–‡å­—ï¼šæµ…è‰² (#F8FAFC)  
- âœ… ç»“æœï¼šæ·±åº•æµ…å­—ï¼Œæ¸…æ™°å¯è¯»çš„æ·±è‰²ä¸»é¢˜

## ğŸŒ™ æ·±è‰²ä¸»é¢˜è®¾è®¡

### é¢œè‰²æ–¹æ¡ˆï¼š
- **ä¸»èƒŒæ™¯**ï¼š`var(--bg-elevated, #1e293b)` - æ·±è“ç°è‰²
- **æ ‡é¢˜æ **ï¼š`var(--bg-secondary, #334155)` - ä¸­è“ç°è‰²  
- **ä¸»æ–‡å­—**ï¼š`var(--text-1, #f8fafc)` - æµ…ç™½è‰²
- **æ¬¡è¦æ–‡å­—**ï¼š`var(--text-2, #e2e8f0)` - æµ…ç°è‰²
- **è¾¹æ¡†**ï¼š`var(--border-primary, #334155)` - æ·±è¾¹æ¡†

### è§†è§‰å±‚æ¬¡ï¼š
1. **æ ‡é¢˜åŒºåŸŸ**ï¼šè¾ƒæ·±èƒŒæ™¯ï¼Œçªå‡ºå±‚æ¬¡
2. **å†…å®¹åŒºåŸŸ**ï¼šä¸»æ·±è‰²èƒŒæ™¯ï¼Œæ‰¿è½½ä¸»è¦å†…å®¹
3. **æŒ‰é’®åŒºåŸŸ**ï¼šä¸æ ‡é¢˜ä¸€è‡´ï¼Œä¿æŒç»Ÿä¸€
4. **è¾“å…¥æ§ä»¶**ï¼šæ›´æ·±çš„èƒŒæ™¯ï¼Œä¾¿äºåŒºåˆ†è¾“å…¥åŒºåŸŸ

## âœ… éªŒè¯æµ‹è¯•

### æµ‹è¯•æ­¥éª¤ï¼š

1. **æ‰“å¼€å¾ªç¯é…ç½®æ¨¡æ€æ¡†**ï¼š
   - åˆ›å»ºå¾ªç¯å¼€å§‹æˆ–ç»“æŸå¡ç‰‡
   - ç‚¹å‡»å¾ªç¯é…ç½®å›¾æ ‡ï¼ˆâˆ ç¬¦å·ï¼‰

2. **æ£€æŸ¥æ·±è‰²ä¸»é¢˜æ•ˆæœ**ï¼š
   - æ¨¡æ€æ¡†æ•´ä½“ä¸ºæ·±è‰²è°ƒ
   - æ‰€æœ‰æ–‡å­—ä¸ºæµ…è‰²ï¼Œæ¸…æ™°å¯è¯»
   - ä¸åº”ç”¨æ•´ä½“æ·±è‰²ä¸»é¢˜ä¿æŒä¸€è‡´

3. **æ£€æŸ¥å„ä¸ªåŒºåŸŸ**ï¼š
   - **æ ‡é¢˜æ **ï¼šæ·±ç°è‰²èƒŒæ™¯ï¼Œæµ…è‰²æ–‡å­—
   - **å†…å®¹åŒº**ï¼šæ·±è‰²èƒŒæ™¯ï¼Œæµ…è‰²æ–‡å­—
   - **è¾“å…¥æ¡†**ï¼šæ›´æ·±èƒŒæ™¯ï¼Œæµ…è‰²æ–‡å­—
   - **æŒ‰é’®**ï¼šæ·±è‰²èƒŒæ™¯ï¼Œæµ…è‰²æ–‡å­—
   - **Alertæç¤º**ï¼šæ·±è‰²èƒŒæ™¯ï¼Œæµ…è‰²æ–‡å­—

### é¢„æœŸç»“æœï¼š

âœ… æ¨¡æ€æ¡†æ•´ä½“ä¸ºæ·±è‰²ä¸»é¢˜é£æ ¼  
âœ… æ‰€æœ‰æ–‡å­—æ¸…æ™°å¯è¯»ï¼Œå¯¹æ¯”åº¦è‰¯å¥½  
âœ… ä¸åº”ç”¨ä¸»é¢˜ä¿æŒä¸€è‡´  
âœ… è¾“å…¥æ§ä»¶åœ¨æ·±è‰²èƒŒæ™¯ä¸‹æ˜“äºè¯†åˆ«  
âœ… æŒ‰é’®å’Œäº¤äº’å…ƒç´ ç¬¦åˆæ·±è‰²ä¸»é¢˜è§„èŒƒ  

## ğŸ“ ä¿®æ”¹æ–‡ä»¶

- `src/components/LoopCards/LoopConfigModal.tsx` - æ›´æ”¹ç±»åä¸º `dark-theme-modal`
- `src/components/DraggableStepCard/components/LoopConfigModal.tsx` - åŒæ­¥æ›´æ–°
- `src/styles/tokens.css` - æ·»åŠ æ·±è‰²ä¸»é¢˜æ¨¡æ€æ¡†æ ·å¼è§„åˆ™

## ğŸ¯ æŠ€æœ¯è¦ç‚¹

1. **æ·±è‰²ä¸»é¢˜è®¾è®¡åŸåˆ™**ï¼šæ·±è‰²èƒŒæ™¯ + æµ…è‰²æ–‡å­— = æ¸…æ™°å¯è¯»
2. **CSSå˜é‡ä½¿ç”¨**ï¼šä½¿ç”¨è®¾è®¡ä»¤ç‰Œç¡®ä¿ä¸»é¢˜ä¸€è‡´æ€§
3. **ç»„ä»¶å±‚çº§è¦†ç›–**ï¼šé’ˆå¯¹ä¸åŒAnt Designç»„ä»¶è¿›è¡Œæ ·å¼è¦†ç›–
4. **ç”¨æˆ·ä½“éªŒä¸€è‡´æ€§**ï¼šä¸åº”ç”¨æ•´ä½“æ·±è‰²ä¸»é¢˜ä¿æŒç»Ÿä¸€

## ğŸš€ éƒ¨ç½²çŠ¶æ€

âœ… æ·±è‰²ä¸»é¢˜æ¨¡æ€æ¡†æ ·å¼å·²æ·»åŠ   
âœ… TypeScript ç¼–è¯‘é€šè¿‡  
âœ… æ— éœ€é‡å¯åº”ç”¨ï¼Œçƒ­é‡è½½å³å¯ç”Ÿæ•ˆ  

**ç«‹å³éªŒè¯**ï¼šæ‰“å¼€å¾ªç¯é…ç½®æ¨¡æ€æ¡†ï¼Œç¡®è®¤ä¸ºæ·±è‰²ä¸»é¢˜ï¼Œæ–‡å­—æ¸…æ™°å¯è¯»ã€‚