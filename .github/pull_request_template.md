# 品牌化重构 PR 模板

## 📋 变更概述

请简述这次 PR 的主要变更内容：

- [ ] 新增轻组件 (Button/CardShell/TagPill/Dialog)
- [ ] 创建/更新适配器 (AntD 组件包装)
- [ ] 新增页面图元 (FilterBar/MarketplaceCard/HeaderBar)
- [ ] 页面重构 (Layout + Patterns + UI + Adapters 组合)
- [ ] 修复样式覆盖问题
- [ ] 其他：___________

## 🎯 架构符合性检查

### 必要检查 ✅

- [ ] **零覆盖原则**：没有 `.ant-*` 类覆盖和 `!important` 使用
- [ ] **Tokens 驱动**：所有视觉样式均通过 Design Tokens 实现
- [ ] **分层架构**：严格遵循 Layout → Patterns → UI → Adapters 分层
- [ ] **模块化约束**：单文件 ≤500 行，超出已拆分
- [ ] **类型安全**：完整 TypeScript 支持，无 `any` 类型

### 覆盖扫描报告 📊

运行命令：`npm run scan:overrides`

```
扫描结果：
📁 扫描文件: ___
❌ 总问题数: ___
🚨 严重问题: ___
⚠️ 高优先级: ___
ℹ️ 中等问题: ___
```

- [ ] 扫描结果为 0 个严重问题
- [ ] 已提供修复计划（如有问题）

## 🎨 品牌一致性验证

### 视觉质量 🎯

- [ ] 使用统一的品牌色彩 (`--brand`、`--bg-*`、`--text-*`)
- [ ] 圆角统一 (`--radius`、`--radius-sm`、`--radius-lg`)
- [ ] 阴影统一 (`--shadow`、`--shadow-sm`、`--shadow-lg`)
- [ ] 动效节奏统一 (Enter: 180-220ms, Exit: 120-160ms, Hover: 80-120ms)

### 组件规范 📐

- [ ] **轻组件**：Button/Card/Tag/Dialog 使用自有实现
- [ ] **重组件**：Form/Table/Upload/Tree 使用 AntD + 适配器
- [ ] **Motion 集成**：统一使用 Motion 组件和变体
- [ ] **响应式设计**：支持不同分辨率和设备

## 🖼️ 视觉对比

### 页面截图对比

**重构前：**
<!-- 请附上重构前的页面截图 -->
> 暂无截图

**重构后：**
<!-- 请附上重构后的页面截图 -->
> 暂无截图

### 动效录屏

**悬停和交互效果：**
<!-- 请附上动效录屏 GIF 或视频链接 -->
> 暂无录屏

## ♿ 可访问性检查

- [ ] **键盘导航**：所有交互元素可通过 Tab 键访问
- [ ] **焦点可见性**：有明显的 `focus-visible` 样式
- [ ] **语义标记**：正确使用 `aria-*` 属性和语义 HTML
- [ ] **色彩对比度**：文本对比度符合 WCAG 2.1 AA 标准

## 📱 响应式和兼容性

### 主题切换测试

- [ ] **Dark 模式**：深色主题下无 UI 破坏
- [ ] **Compact 模式**：紧凑模式下布局正常
- [ ] **DPI 缩放**：125%、150%、175% 缩放无异常

### 浏览器兼容性

- [ ] Chrome (最新版)
- [ ] Edge (最新版)
- [ ] Firefox (最新版)
- [ ] Safari (如适用)

## ⚡ 性能验证

### 构建指标

运行命令：`npm run build`

- [ ] **首屏 CSS**：< 100KB
- [ ] **JavaScript 包大小**：无显著增长
- [ ] **构建时间**：无显著延长

### 运行时性能

- [ ] **FCP (First Contentful Paint)**：< 1.5s
- [ ] **LCP (Largest Contentful Paint)**：< 2.5s  
- [ ] **CLS (Cumulative Layout Shift)**：< 0.1
- [ ] **内存占用**：无明显泄漏

## 🖥️ Tauri 桌面特性

- [ ] **标题栏拖拽**：`-webkit-app-region: drag` 正常工作
- [ ] **交互区域**：按钮等交互元素设置 `no-drag`
- [ ] **托盘功能**：系统托盘正常显示和交互
- [ ] **快捷键**：全局快捷键响应正常
- [ ] **窗口控制**：最小化、最大化、关闭按钮正常

## 🧪 测试覆盖

### 单元测试

- [ ] 新增组件有对应测试
- [ ] 测试覆盖率 ≥ 80%
- [ ] 所有测试通过：`npm test`

### E2E 测试 (如已实现)

- [ ] 关键用户流程测试通过
- [ ] 跨平台兼容性测试
- [ ] 性能回归测试

## 📝 文档更新

- [ ] **组件文档**：新增组件有 JSDoc 和使用示例
- [ ] **架构文档**：更新相关架构说明
- [ ] **CHANGELOG**：记录重要变更
- [ ] **README**：更新相关说明

## 🔍 代码审查要点

### 给审查者的提示

1. **重点关注**：
   - [ ] 样式覆盖扫描报告结果
   - [ ] 组件 API 设计的一致性
   - [ ] 性能和可访问性影响

2. **测试建议**：
   - [ ] 在不同主题下测试页面
   - [ ] 验证响应式布局
   - [ ] 检查动效的流畅性

3. **架构审查**：
   - [ ] 是否遵循项目分层原则
   - [ ] 是否正确使用 Design Tokens
   - [ ] 模块化程度是否合理

## ✅ 提交前自检清单

**在提交 PR 前，请确认以下所有项目：**

- [ ] 运行 `npm run scan:overrides` 零问题
- [ ] 运行 `npm run type-check` 无错误
- [ ] 运行 `npm run build` 成功构建
- [ ] 手动测试页面功能正常
- [ ] 检查 Dark/Compact 模式无问题
- [ ] 验证动效和交互符合预期
- [ ] 确认 Tauri 桌面特性无受影响

## 📊 变更影响评估

- **破坏性变更**：[ ] 是 / [ ] 否
- **API 变更**：[ ] 是 / [ ] 否  
- **数据库变更**：[ ] 是 / [ ] 否
- **配置变更**：[ ] 是 / [ ] 否

## 🎉 部署计划

- [ ] **开发环境**测试完成
- [ ] **预发布环境**验证通过  
- [ ] **生产环境**部署计划确认
- [ ] **回滚方案**已准备

---

**审查者指南**：请逐项检查上述清单，确保 PR 符合品牌化重构标准。重点关注架构符合性、视觉一致性和性能影响。